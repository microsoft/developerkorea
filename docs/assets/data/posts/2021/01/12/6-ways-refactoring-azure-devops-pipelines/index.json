{"hash":"80e403713986797ff323aa88b661a5d06e448643","data":{"blog":{"title":"애저 DevOps 파이프라인을 리팩토링하는 6가지 방법","path":"/posts/2021/01/12/6-ways-refactoring-azure-devops-pipelines/","image":"https://sa0blogs.blob.core.windows.net/aliencube/2019/08/azure-devops-pipelines-refactoring-technics-00.jpg","image_caption":"퍼즐을 푸는 사람들","description":"애저 DevOps 파이프라인 YAML 파일을 사용하다 보면 반복적인 작업이 많이 나옵니다. 이 반복적인 작업 부분을 템플릿 형태로 리팩토링할 수 있는 포인트가 최소 여섯 군데 정도인데, 이러한 리팩토링 테크닉에 대해 다뤄봅니다.","content":"<p><a href=\"https://docs.microsoft.com/ko-kr/azure/devops/user-guide/what-is-azure-devops?view=azure-devops&#x26;WT.mc_id=devops-12575-juyoo&#x26;ocid=AID3027813\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">애저 DevOps</a>에서 <a href=\"https://docs.microsoft.com/ko-kr/azure/devops/pipelines/get-started/what-is-azure-pipelines?view=azure-devops&#x26;WT.mc_id=devops-12575-juyoo&#x26;ocid=AID3027813\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">CI/CD 파이프라인</a>을 구성하다보면 보통 반복적인 작업들이 많습니다. 이게 <a href=\"https://docs.microsoft.com/ko-kr/azure/devops/pipelines/process/tasks?view=azure-devops&#x26;tabs=yaml&#x26;WT.mc_id=devops-12575-juyoo&#x26;ocid=AID3027813\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">태스크 Tasks</a> 수준일 수도 있고, <a href=\"https://docs.microsoft.com/ko-kr/azure/devops/pipelines/process/phases?view=azure-devops&#x26;tabs=yaml&#x26;WT.mc_id=devops-12575-juyoo&#x26;ocid=AID3027813\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">작업 Jobs</a> 수준일 수도 있고, <a href=\"https://docs.microsoft.com/ko-kr/azure/devops/pipelines/process/stages?view=azure-devops&#x26;tabs=yaml&#x26;WT.mc_id=devops-12575-juyoo&#x26;ocid=AID3027813\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">스테이지 Stages</a> 수준일 수도 있는데, 코딩을 할 때는 반복적인 부분을 리팩토링 한다지만, 파이프라인에서 반복적인 부분을 리팩토링할 수는 없을까요? 물론 있습니다. 그것도 파이프라인을 리팩토링할 수 있는 포인트가 최소 여섯 군데 정도 있습니다. 이 포스트에서는 애저 파이프라인의 <a href=\"https://docs.microsoft.com/ko-kr/azure/devops/pipelines/yaml-schema?view=azure-devops&#x26;tabs=schema%2Cparameter-schema&#x26;WT.mc_id=devops-12575-juyoo&#x26;ocid=AID3027813\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">YAML</a> 형식 <a href=\"https://docs.microsoft.com/ko-kr/azure/devops/pipelines/process/templates?view=azure-devops&#x26;WT.mc_id=devops-12575-juyoo&#x26;ocid=AID3027813\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">템플릿</a>을 이용해서 반복적으로 나타나는 부분을 리팩토링하는 방법에 대해 알아보겠습니다.</p>\n<blockquote>\n<p>이 포스트에 쓰인 예제 파이프라인 코드를 <a href=\"https://github.com/devkimchi/Azure-Pipelines-Template-Sample\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">이 리포지토리</a>에서 확인해 보세요!</p>\n</blockquote>\n<h2 id=\"빌드-파이프라인\"><a href=\"#%EB%B9%8C%EB%93%9C-%ED%8C%8C%EC%9D%B4%ED%94%84%EB%9D%BC%EC%9D%B8\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>빌드 파이프라인</h2>\n<p>우선 일반적인 빌드 파이프라인을 한 번 만들어 보겠습니다. 아래는 그냥 빌드 <code class=\"language-text\">Stage</code>를 작성한 것입니다. <code class=\"language-text\">Stages/Stage</code> 아래 <code class=\"language-text\">Jobs/Job</code> 아래 <code class=\"language-text\">Steps/Task</code>가 들어가 있습니다. <code class=\"language-text\">Greeting</code> 이라는 변수값을 출력시키는 파이프라인입니다 (line #18, 25)</p>\n<div class=\"gist-embed\">\n    <html><head></head><body><div id=\"gist97932430\" class=\"gist\">\n    <div class=\"gist-file\" translate=\"no\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-pipeline-build-without-template-yaml\" class=\"file my-2\">\n    \n    <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-yaml  \">\n\n        \n<div class=\"js-check-bidi js-blob-code-container blob-code-content\">\n\n  <template class=\"js-file-alert-template\">\n  <div data-view-component=\"true\" class=\"flash flash-warn flash-full d-flex flex-items-center\">\n  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n  \n    <span>\n      This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\n      <a href=\"https://github.co/hiddenchars\" target=\"_blank\">Learn more about bidirectional Unicode characters</a>\n    </span>\n\n\n  <div data-view-component=\"true\" class=\"flash-action\">        <a href=\"{{ revealButtonHref }}\" data-view-component=\"true\" class=\"btn-sm btn\">    Show hidden characters\n</a>\n</div>\n</div></template>\n<template class=\"js-line-alert-template\">\n  <span aria-label=\"This line has hidden Unicode characters\" data-view-component=\"true\" class=\"line-alert tooltipped tooltipped-e\">\n    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n</span></template>\n\n  <table data-hpc=\"\" class=\"highlight tab-size js-file-line-container js-code-nav-container js-tagsearch-file\" data-tab-size=\"8\" data-paste-markdown-skip=\"\" data-tagsearch-lang=\"YAML\" data-tagsearch-path=\"pipeline-build-without-template.yaml\">\n        <tbody><tr>\n          <td id=\"file-pipeline-build-without-template-yaml-L1\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"1\"></td>\n          <td id=\"file-pipeline-build-without-template-yaml-LC1\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> pipeline.yaml</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-without-template-yaml-L2\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"2\"></td>\n          <td id=\"file-pipeline-build-without-template-yaml-LC2\" class=\"blob-code blob-code-inner js-file-line\">...</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-without-template-yaml-L3\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"3\"></td>\n          <td id=\"file-pipeline-build-without-template-yaml-LC3\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-ent\">stages</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-without-template-yaml-L4\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"4\"></td>\n          <td id=\"file-pipeline-build-without-template-yaml-LC4\" class=\"blob-code blob-code-inner js-file-line\">...</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-without-template-yaml-L5\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"5\"></td>\n          <td id=\"file-pipeline-build-without-template-yaml-LC5\" class=\"blob-code blob-code-inner js-file-line\">- <span class=\"pl-ent\">stage</span>: <span class=\"pl-s\">BuildWithoutTemplate</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-without-template-yaml-L6\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"6\"></td>\n          <td id=\"file-pipeline-build-without-template-yaml-LC6\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-ent\">displayName</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Build without Template<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-without-template-yaml-L7\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"7\"></td>\n          <td id=\"file-pipeline-build-without-template-yaml-LC7\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-without-template-yaml-L8\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"8\"></td>\n          <td id=\"file-pipeline-build-without-template-yaml-LC8\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-ent\">jobs</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-without-template-yaml-L9\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"9\"></td>\n          <td id=\"file-pipeline-build-without-template-yaml-LC9\" class=\"blob-code blob-code-inner js-file-line\">  - <span class=\"pl-ent\">job</span>: <span class=\"pl-s\">HostedVs2017</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-without-template-yaml-L10\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"10\"></td>\n          <td id=\"file-pipeline-build-without-template-yaml-LC10\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">displayName</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Hosted VS2017<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-without-template-yaml-L11\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"11\"></td>\n          <td id=\"file-pipeline-build-without-template-yaml-LC11\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">pool</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-without-template-yaml-L12\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"12\"></td>\n          <td id=\"file-pipeline-build-without-template-yaml-LC12\" class=\"blob-code blob-code-inner js-file-line\">      <span class=\"pl-ent\">name</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Hosted VS2017<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-without-template-yaml-L13\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"13\"></td>\n          <td id=\"file-pipeline-build-without-template-yaml-LC13\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">workspace</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-without-template-yaml-L14\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"14\"></td>\n          <td id=\"file-pipeline-build-without-template-yaml-LC14\" class=\"blob-code blob-code-inner js-file-line\">      <span class=\"pl-ent\">clean</span>: <span class=\"pl-s\">all</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-without-template-yaml-L15\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"15\"></td>\n          <td id=\"file-pipeline-build-without-template-yaml-LC15\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-without-template-yaml-L16\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"16\"></td>\n          <td id=\"file-pipeline-build-without-template-yaml-LC16\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">variables</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-without-template-yaml-L17\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"17\"></td>\n          <td id=\"file-pipeline-build-without-template-yaml-LC17\" class=\"blob-code blob-code-inner js-file-line\">    - <span class=\"pl-ent\">name</span>: <span class=\"pl-s\">Greeting</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-without-template-yaml-L18\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"18\"></td>\n          <td id=\"file-pipeline-build-without-template-yaml-LC18\" class=\"blob-code blob-code-inner js-file-line highlighted\">      <span class=\"pl-ent\">value</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Hello World<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-without-template-yaml-L19\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"19\"></td>\n          <td id=\"file-pipeline-build-without-template-yaml-LC19\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-without-template-yaml-L20\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"20\"></td>\n          <td id=\"file-pipeline-build-without-template-yaml-LC20\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">steps</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-without-template-yaml-L21\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"21\"></td>\n          <td id=\"file-pipeline-build-without-template-yaml-LC21\" class=\"blob-code blob-code-inner js-file-line\">    - <span class=\"pl-ent\">task</span>: <span class=\"pl-s\">PowerShell@2</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-without-template-yaml-L22\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"22\"></td>\n          <td id=\"file-pipeline-build-without-template-yaml-LC22\" class=\"blob-code blob-code-inner js-file-line\">      <span class=\"pl-ent\">displayName</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Echo Greeting in PowerShell<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-without-template-yaml-L23\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"23\"></td>\n          <td id=\"file-pipeline-build-without-template-yaml-LC23\" class=\"blob-code blob-code-inner js-file-line\">      <span class=\"pl-ent\">inputs</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-without-template-yaml-L24\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"24\"></td>\n          <td id=\"file-pipeline-build-without-template-yaml-LC24\" class=\"blob-code blob-code-inner js-file-line\">        <span class=\"pl-ent\">targetType</span>: <span class=\"pl-s\">Inline</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-without-template-yaml-L25\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"25\"></td>\n          <td id=\"file-pipeline-build-without-template-yaml-LC25\" class=\"blob-code blob-code-inner js-file-line highlighted\">        <span class=\"pl-ent\">script</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Write-Host \"$(Greeting)\"<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-without-template-yaml-L26\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"26\"></td>\n          <td id=\"file-pipeline-build-without-template-yaml-LC26\" class=\"blob-code blob-code-inner js-file-line\">...</td>\n        </tr>\n  </tbody></table>\n</div>\n\n\n    </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/justinyoo/41e3c56debe1eaa0bb1d0ac062bb38b9/raw/984693960482c04816812dab27bd1382d85b6226/pipeline-build-without-template.yaml\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/justinyoo/41e3c56debe1eaa0bb1d0ac062bb38b9#file-pipeline-build-without-template-yaml\">\n          pipeline-build-without-template.yaml\n        </a>\n        hosted with ❤ by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div>\n</body></html>\n</div>\n<p>이 파이프라인을 실행시키면 아래와 같은 결과가 나옵니다. <code class=\"language-text\">Hello World</code>가 보이죠?</p>\n<p><img src=\"https://sa0blogs.blob.core.windows.net/aliencube/2019/08/azure-devops-pipelines-refactoring-technics-01.png\" alt=\"리팩토링 전 애저 빌드 파이프라인 실행 결과\"></p>\n<p>이제 이 빌드 파이프라인을 리팩토링할 차례입니다. 리팩토링은 크게 세 곳에서 가능한데요, 하나는 <code class=\"language-text\">Steps</code> 수준, 다른 하나는 <code class=\"language-text\">Jobs</code> 수준, 그리고 마지막 하나는 <code class=\"language-text\">Stages</code> 수준입니다.</p>\n<h2 id=\"빌드-파이프라인을-steps-수준에서-리팩토링하기\"><a href=\"#%EB%B9%8C%EB%93%9C-%ED%8C%8C%EC%9D%B4%ED%94%84%EB%9D%BC%EC%9D%B8%EC%9D%84-steps-%EC%88%98%EC%A4%80%EC%97%90%EC%84%9C-%EB%A6%AC%ED%8C%A9%ED%86%A0%EB%A7%81%ED%95%98%EA%B8%B0\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>빌드 파이프라인을 <code class=\"language-text\">Steps</code> 수준에서 리팩토링하기</h2>\n<p>예를 들어 node.js 기반의 애플리케이션을 하나 만든다고 가정해 보죠. 이 경우 보통 순서가</p>\n<ol>\n<li>node.js 런타임 설치하기</li>\n<li>npm 패키지 복원하기</li>\n<li>애플리케이션 빌드하기</li>\n<li>애플리케이션 테스트하기</li>\n<li>아티팩트 생성하기</li>\n</ol>\n<p>정도가 될 것입니다. 이 때 마지막 5번 항목을 제외하고는 거의 대부분의 경우 같은 순서로, 그리고 저 1-4번 작업을 한 세트로 해서 진행을 하게 되죠. 그렇다면 이 1-4번 작업 흐름을 그냥 하나로 묶어서 템플릿 형태로 빼 놓을 수도 있지 않을까요? 이럴 때 바로 <code class=\"language-text\">Steps</code> 수준의 리팩토링을 진행하게 됩니다. 만약 다른 작업에서는 이후 추가 작업을 더 필요로 한다고 하면 템플릿을 돌리고 난 후 추가 태스크를 정의하면 되므로 별 문제는 없습니다.</p>\n<p>이제 위에 정의한 빌드 파이프라인의 <code class=\"language-text\">Steps</code> 부분을 별도의 템플릿으로 분리합니다. 그렇다면 원래 파이프라인과 템플릿은 아래와 같이 바뀔 것입니다. 원래 파이프라인(<code class=\"language-text\">pipeline.yaml</code>)의 <code class=\"language-text\">steps</code> 항목 아래에 <code class=\"language-text\">template</code> 라는 항목이 생기고 (line #21), <code class=\"language-text\">parameters</code>를 통해 템플릿으로 값을 전달하는 것이 보일 것입니다 (line #22-23).</p>\n<div class=\"gist-embed\">\n    <html><head></head><body><div id=\"gist97932430\" class=\"gist\">\n    <div class=\"gist-file\" translate=\"no\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-pipeline-build-with-steps-template-yaml\" class=\"file my-2\">\n    \n    <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-yaml  \">\n\n        \n<div class=\"js-check-bidi js-blob-code-container blob-code-content\">\n\n  <template class=\"js-file-alert-template\">\n  <div data-view-component=\"true\" class=\"flash flash-warn flash-full d-flex flex-items-center\">\n  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n  \n    <span>\n      This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\n      <a href=\"https://github.co/hiddenchars\" target=\"_blank\">Learn more about bidirectional Unicode characters</a>\n    </span>\n\n\n  <div data-view-component=\"true\" class=\"flash-action\">        <a href=\"{{ revealButtonHref }}\" data-view-component=\"true\" class=\"btn-sm btn\">    Show hidden characters\n</a>\n</div>\n</div></template>\n<template class=\"js-line-alert-template\">\n  <span aria-label=\"This line has hidden Unicode characters\" data-view-component=\"true\" class=\"line-alert tooltipped tooltipped-e\">\n    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n</span></template>\n\n  <table data-hpc=\"\" class=\"highlight tab-size js-file-line-container js-code-nav-container js-tagsearch-file\" data-tab-size=\"8\" data-paste-markdown-skip=\"\" data-tagsearch-lang=\"YAML\" data-tagsearch-path=\"pipeline-build-with-steps-template.yaml\">\n        <tbody><tr>\n          <td id=\"file-pipeline-build-with-steps-template-yaml-L1\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"1\"></td>\n          <td id=\"file-pipeline-build-with-steps-template-yaml-LC1\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> pipeline.yaml</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-steps-template-yaml-L2\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"2\"></td>\n          <td id=\"file-pipeline-build-with-steps-template-yaml-LC2\" class=\"blob-code blob-code-inner js-file-line\">...</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-steps-template-yaml-L3\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"3\"></td>\n          <td id=\"file-pipeline-build-with-steps-template-yaml-LC3\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-ent\">stages</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-steps-template-yaml-L4\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"4\"></td>\n          <td id=\"file-pipeline-build-with-steps-template-yaml-LC4\" class=\"blob-code blob-code-inner js-file-line\">...</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-steps-template-yaml-L5\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"5\"></td>\n          <td id=\"file-pipeline-build-with-steps-template-yaml-LC5\" class=\"blob-code blob-code-inner js-file-line\">- <span class=\"pl-ent\">stage</span>: <span class=\"pl-s\">BuildWithStepsTemplate</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-steps-template-yaml-L6\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"6\"></td>\n          <td id=\"file-pipeline-build-with-steps-template-yaml-LC6\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-ent\">displayName</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Build with Steps Template<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-steps-template-yaml-L7\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"7\"></td>\n          <td id=\"file-pipeline-build-with-steps-template-yaml-LC7\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-steps-template-yaml-L8\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"8\"></td>\n          <td id=\"file-pipeline-build-with-steps-template-yaml-LC8\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-ent\">jobs</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-steps-template-yaml-L9\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"9\"></td>\n          <td id=\"file-pipeline-build-with-steps-template-yaml-LC9\" class=\"blob-code blob-code-inner js-file-line\">  - <span class=\"pl-ent\">job</span>: <span class=\"pl-s\">HostedVs2017</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-steps-template-yaml-L10\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"10\"></td>\n          <td id=\"file-pipeline-build-with-steps-template-yaml-LC10\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">displayName</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Hosted VS2017<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-steps-template-yaml-L11\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"11\"></td>\n          <td id=\"file-pipeline-build-with-steps-template-yaml-LC11\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">pool</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-steps-template-yaml-L12\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"12\"></td>\n          <td id=\"file-pipeline-build-with-steps-template-yaml-LC12\" class=\"blob-code blob-code-inner js-file-line\">      <span class=\"pl-ent\">name</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Hosted VS2017<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-steps-template-yaml-L13\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"13\"></td>\n          <td id=\"file-pipeline-build-with-steps-template-yaml-LC13\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">workspace</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-steps-template-yaml-L14\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"14\"></td>\n          <td id=\"file-pipeline-build-with-steps-template-yaml-LC14\" class=\"blob-code blob-code-inner js-file-line\">      <span class=\"pl-ent\">clean</span>: <span class=\"pl-s\">all</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-steps-template-yaml-L15\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"15\"></td>\n          <td id=\"file-pipeline-build-with-steps-template-yaml-LC15\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-steps-template-yaml-L16\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"16\"></td>\n          <td id=\"file-pipeline-build-with-steps-template-yaml-LC16\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">variables</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-steps-template-yaml-L17\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"17\"></td>\n          <td id=\"file-pipeline-build-with-steps-template-yaml-LC17\" class=\"blob-code blob-code-inner js-file-line\">    - <span class=\"pl-ent\">name</span>: <span class=\"pl-s\">Greeting</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-steps-template-yaml-L18\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"18\"></td>\n          <td id=\"file-pipeline-build-with-steps-template-yaml-LC18\" class=\"blob-code blob-code-inner js-file-line\">      <span class=\"pl-ent\">value</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Hello World<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-steps-template-yaml-L19\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"19\"></td>\n          <td id=\"file-pipeline-build-with-steps-template-yaml-LC19\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-steps-template-yaml-L20\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"20\"></td>\n          <td id=\"file-pipeline-build-with-steps-template-yaml-LC20\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">steps</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-steps-template-yaml-L21\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"21\"></td>\n          <td id=\"file-pipeline-build-with-steps-template-yaml-LC21\" class=\"blob-code blob-code-inner js-file-line highlighted\">    - <span class=\"pl-ent\">template</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>template-steps-build.yaml<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-steps-template-yaml-L22\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"22\"></td>\n          <td id=\"file-pipeline-build-with-steps-template-yaml-LC22\" class=\"blob-code blob-code-inner js-file-line highlighted\">      <span class=\"pl-ent\">parameters</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-steps-template-yaml-L23\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"23\"></td>\n          <td id=\"file-pipeline-build-with-steps-template-yaml-LC23\" class=\"blob-code blob-code-inner js-file-line highlighted\">        <span class=\"pl-ent\">message</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>This is from the steps template<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-steps-template-yaml-L24\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"24\"></td>\n          <td id=\"file-pipeline-build-with-steps-template-yaml-LC24\" class=\"blob-code blob-code-inner js-file-line\">...</td>\n        </tr>\n  </tbody></table>\n</div>\n\n\n    </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/justinyoo/41e3c56debe1eaa0bb1d0ac062bb38b9/raw/984693960482c04816812dab27bd1382d85b6226/pipeline-build-with-steps-template.yaml\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/justinyoo/41e3c56debe1eaa0bb1d0ac062bb38b9#file-pipeline-build-with-steps-template-yaml\">\n          pipeline-build-with-steps-template.yaml\n        </a>\n        hosted with ❤ by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div>\n</body></html>\n</div>\n<p>그리고 <code class=\"language-text\">Steps</code> 수준 리팩토링 결과 템플릿인 <code class=\"language-text\">template-steps-build.yaml</code>을 보면, 아래와 같이 <code class=\"language-text\">parameters</code>와 <code class=\"language-text\">steps</code>를 정의했습니다 (line #2, 5). 이 <code class=\"language-text\">parameters</code> 항목을 통해 부모 파이프라인과 템플릿 사이 값을 교환할 수 있게 해 줍니다.</p>\n<div class=\"gist-embed\">\n    <html><head></head><body><div id=\"gist97932430\" class=\"gist\">\n    <div class=\"gist-file\" translate=\"no\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-template-steps-build-yaml\" class=\"file my-2\">\n    \n    <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-yaml  \">\n\n        \n<div class=\"js-check-bidi js-blob-code-container blob-code-content\">\n\n  <template class=\"js-file-alert-template\">\n  <div data-view-component=\"true\" class=\"flash flash-warn flash-full d-flex flex-items-center\">\n  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n  \n    <span>\n      This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\n      <a href=\"https://github.co/hiddenchars\" target=\"_blank\">Learn more about bidirectional Unicode characters</a>\n    </span>\n\n\n  <div data-view-component=\"true\" class=\"flash-action\">        <a href=\"{{ revealButtonHref }}\" data-view-component=\"true\" class=\"btn-sm btn\">    Show hidden characters\n</a>\n</div>\n</div></template>\n<template class=\"js-line-alert-template\">\n  <span aria-label=\"This line has hidden Unicode characters\" data-view-component=\"true\" class=\"line-alert tooltipped tooltipped-e\">\n    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n</span></template>\n\n  <table data-hpc=\"\" class=\"highlight tab-size js-file-line-container js-code-nav-container js-tagsearch-file\" data-tab-size=\"8\" data-paste-markdown-skip=\"\" data-tagsearch-lang=\"YAML\" data-tagsearch-path=\"template-steps-build.yaml\">\n        <tbody><tr>\n          <td id=\"file-template-steps-build-yaml-L1\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"1\"></td>\n          <td id=\"file-template-steps-build-yaml-LC1\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> template-steps-build.yaml</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-steps-build-yaml-L2\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"2\"></td>\n          <td id=\"file-template-steps-build-yaml-LC2\" class=\"blob-code blob-code-inner js-file-line highlighted\"><span class=\"pl-ent\">parameters</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-steps-build-yaml-L3\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"3\"></td>\n          <td id=\"file-template-steps-build-yaml-LC3\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-ent\">message</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span><span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-steps-build-yaml-L4\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"4\"></td>\n          <td id=\"file-template-steps-build-yaml-LC4\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-steps-build-yaml-L5\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"5\"></td>\n          <td id=\"file-template-steps-build-yaml-LC5\" class=\"blob-code blob-code-inner js-file-line highlighted\"><span class=\"pl-ent\">steps</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-steps-build-yaml-L6\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"6\"></td>\n          <td id=\"file-template-steps-build-yaml-LC6\" class=\"blob-code blob-code-inner js-file-line\">- <span class=\"pl-ent\">task</span>: <span class=\"pl-s\">PowerShell@2</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-steps-build-yaml-L7\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"7\"></td>\n          <td id=\"file-template-steps-build-yaml-LC7\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-ent\">displayName</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Echo Greeting in PowerShell<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-steps-build-yaml-L8\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"8\"></td>\n          <td id=\"file-template-steps-build-yaml-LC8\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-ent\">inputs</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-steps-build-yaml-L9\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"9\"></td>\n          <td id=\"file-template-steps-build-yaml-LC9\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">targetType</span>: <span class=\"pl-s\">Inline</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-steps-build-yaml-L10\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"10\"></td>\n          <td id=\"file-template-steps-build-yaml-LC10\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">script</span>: <span class=\"pl-s\">|</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-steps-build-yaml-L11\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"11\"></td>\n          <td id=\"file-template-steps-build-yaml-LC11\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s\">      Write-Host \"$(Greeting)\"</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-steps-build-yaml-L12\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"12\"></td>\n          <td id=\"file-template-steps-build-yaml-LC12\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s\">      Write-Host \"${{ parameters.message }}\"</span></td>\n        </tr>\n  </tbody></table>\n</div>\n\n\n    </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/justinyoo/41e3c56debe1eaa0bb1d0ac062bb38b9/raw/984693960482c04816812dab27bd1382d85b6226/template-steps-build.yaml\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/justinyoo/41e3c56debe1eaa0bb1d0ac062bb38b9#file-template-steps-build-yaml\">\n          template-steps-build.yaml\n        </a>\n        hosted with ❤ by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div>\n</body></html>\n</div>\n<p>이렇게 리팩토링을 한 후 파이프라인을 돌려보면 아래와 같은 결과 화면을 보게 됩니다. 부모 파이프라인에서 템플릿으로 넘겨준 파라미터 값이 잘 표현되는 것이 보이죠?</p>\n<p><img src=\"https://sa0blogs.blob.core.windows.net/aliencube/2019/08/azure-devops-pipelines-refactoring-technics-02.png\" alt=\"Steps 수준 리팩토링 후 애저 빌드 파이프라인 실행 결과\"></p>\n<h2 id=\"빌드-파이프라인을-jobs-수준에서-리팩토링하기\"><a href=\"#%EB%B9%8C%EB%93%9C-%ED%8C%8C%EC%9D%B4%ED%94%84%EB%9D%BC%EC%9D%B8%EC%9D%84-jobs-%EC%88%98%EC%A4%80%EC%97%90%EC%84%9C-%EB%A6%AC%ED%8C%A9%ED%86%A0%EB%A7%81%ED%95%98%EA%B8%B0\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>빌드 파이프라인을 <code class=\"language-text\">Jobs</code> 수준에서 리팩토링하기</h2>\n<p>이번에는 <code class=\"language-text\">Jobs</code> 수준에서 리팩토링을 한 번 해보겠습니다. 앞서 연습해 봤던 <code class=\"language-text\">Steps</code> 수준 리팩토링은 공통의 태스크들을 묶어주는 정도였다면, <code class=\"language-text\">Jobs</code> 수준의 리팩토링은 그보다 큰 덩어리를 다룹니다. 이 덩어리에는 <a href=\"https://docs.microsoft.com/ko-kr/azure/devops/pipelines/agents/agents?view=azure-devops&#x26;tabs=browser&#x26;WT.mc_id=devops-12575-juyoo&#x26;ocid=AID3027813\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">빌드 에이전트</a>의 종류까지 결정할 수 있고, 템플릿 안의 모든 태스크를 동일하게 가져갈 수 있습니다.</p>\n<blockquote>\n<p>물론 <a href=\"https://docs.microsoft.com/ko-kr/azure/devops/pipelines/process/conditions?view=azure-devops&#x26;tabs=yaml&#x26;WT.mc_id=devops-12575-juyoo&#x26;ocid=AID3027813\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">조건 표현식</a>과 같은 고급 기능을 사용하면 좀 더 다양한 시나리오에서 다양한 태스크들을 활용할 수 있습니다.</p>\n</blockquote>\n<p>아래와 같이 부모 파이프라인을 수정해 보죠 (line #13-16).</p>\n<div class=\"gist-embed\">\n    <html><head></head><body><div id=\"gist97932430\" class=\"gist\">\n    <div class=\"gist-file\" translate=\"no\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-pipeline-build-with-jobs-template-yaml\" class=\"file my-2\">\n    \n    <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-yaml  \">\n\n        \n<div class=\"js-check-bidi js-blob-code-container blob-code-content\">\n\n  <template class=\"js-file-alert-template\">\n  <div data-view-component=\"true\" class=\"flash flash-warn flash-full d-flex flex-items-center\">\n  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n  \n    <span>\n      This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\n      <a href=\"https://github.co/hiddenchars\" target=\"_blank\">Learn more about bidirectional Unicode characters</a>\n    </span>\n\n\n  <div data-view-component=\"true\" class=\"flash-action\">        <a href=\"{{ revealButtonHref }}\" data-view-component=\"true\" class=\"btn-sm btn\">    Show hidden characters\n</a>\n</div>\n</div></template>\n<template class=\"js-line-alert-template\">\n  <span aria-label=\"This line has hidden Unicode characters\" data-view-component=\"true\" class=\"line-alert tooltipped tooltipped-e\">\n    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n</span></template>\n\n  <table data-hpc=\"\" class=\"highlight tab-size js-file-line-container js-code-nav-container js-tagsearch-file\" data-tab-size=\"8\" data-paste-markdown-skip=\"\" data-tagsearch-lang=\"YAML\" data-tagsearch-path=\"pipeline-build-with-jobs-template.yaml\">\n        <tbody><tr>\n          <td id=\"file-pipeline-build-with-jobs-template-yaml-L1\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"1\"></td>\n          <td id=\"file-pipeline-build-with-jobs-template-yaml-LC1\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> pipeline.yaml</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-jobs-template-yaml-L2\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"2\"></td>\n          <td id=\"file-pipeline-build-with-jobs-template-yaml-LC2\" class=\"blob-code blob-code-inner js-file-line\">...</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-jobs-template-yaml-L3\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"3\"></td>\n          <td id=\"file-pipeline-build-with-jobs-template-yaml-LC3\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-ent\">stages</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-jobs-template-yaml-L4\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"4\"></td>\n          <td id=\"file-pipeline-build-with-jobs-template-yaml-LC4\" class=\"blob-code blob-code-inner js-file-line\">...</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-jobs-template-yaml-L5\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"5\"></td>\n          <td id=\"file-pipeline-build-with-jobs-template-yaml-LC5\" class=\"blob-code blob-code-inner js-file-line\">- <span class=\"pl-ent\">stage</span>: <span class=\"pl-s\">BuildWithJobsTemplate</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-jobs-template-yaml-L6\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"6\"></td>\n          <td id=\"file-pipeline-build-with-jobs-template-yaml-LC6\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-ent\">displayName</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Build with Jobs Template<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-jobs-template-yaml-L7\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"7\"></td>\n          <td id=\"file-pipeline-build-with-jobs-template-yaml-LC7\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-jobs-template-yaml-L8\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"8\"></td>\n          <td id=\"file-pipeline-build-with-jobs-template-yaml-LC8\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-ent\">variables</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-jobs-template-yaml-L9\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"9\"></td>\n          <td id=\"file-pipeline-build-with-jobs-template-yaml-LC9\" class=\"blob-code blob-code-inner js-file-line\">  - <span class=\"pl-ent\">name</span>: <span class=\"pl-s\">Greeting</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-jobs-template-yaml-L10\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"10\"></td>\n          <td id=\"file-pipeline-build-with-jobs-template-yaml-LC10\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">value</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Hello World<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-jobs-template-yaml-L11\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"11\"></td>\n          <td id=\"file-pipeline-build-with-jobs-template-yaml-LC11\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-jobs-template-yaml-L12\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"12\"></td>\n          <td id=\"file-pipeline-build-with-jobs-template-yaml-LC12\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-ent\">jobs</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-jobs-template-yaml-L13\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"13\"></td>\n          <td id=\"file-pipeline-build-with-jobs-template-yaml-LC13\" class=\"blob-code blob-code-inner js-file-line highlighted\">  - <span class=\"pl-ent\">template</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>template-jobs-build.yaml<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-jobs-template-yaml-L14\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"14\"></td>\n          <td id=\"file-pipeline-build-with-jobs-template-yaml-LC14\" class=\"blob-code blob-code-inner js-file-line highlighted\">    <span class=\"pl-ent\">parameters</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-jobs-template-yaml-L15\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"15\"></td>\n          <td id=\"file-pipeline-build-with-jobs-template-yaml-LC15\" class=\"blob-code blob-code-inner js-file-line highlighted\">      <span class=\"pl-ent\">vmImage</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>vs2017-win2016<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-jobs-template-yaml-L16\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"16\"></td>\n          <td id=\"file-pipeline-build-with-jobs-template-yaml-LC16\" class=\"blob-code blob-code-inner js-file-line highlighted\">      <span class=\"pl-ent\">message</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>This is from the jobs template<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-jobs-template-yaml-L17\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"17\"></td>\n          <td id=\"file-pipeline-build-with-jobs-template-yaml-LC17\" class=\"blob-code blob-code-inner js-file-line\">...</td>\n        </tr>\n  </tbody></table>\n</div>\n\n\n    </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/justinyoo/41e3c56debe1eaa0bb1d0ac062bb38b9/raw/984693960482c04816812dab27bd1382d85b6226/pipeline-build-with-jobs-template.yaml\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/justinyoo/41e3c56debe1eaa0bb1d0ac062bb38b9#file-pipeline-build-with-jobs-template-yaml\">\n          pipeline-build-with-jobs-template.yaml\n        </a>\n        hosted with ❤ by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div>\n</body></html>\n</div>\n<p>그리고 난 후, 아래와 같이 <code class=\"language-text\">template-jobs-build.yaml</code> 파일을 작성합니다. 파라미터로 <code class=\"language-text\">vmImage</code>와 <code class=\"language-text\">message</code>를 넘겨 템플릿에서 어떻게 사용하는지 살펴보죠 (line #2-4).</p>\n<div class=\"gist-embed\">\n    <html><head></head><body><div id=\"gist97932430\" class=\"gist\">\n    <div class=\"gist-file\" translate=\"no\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-template-jobs-build-yaml\" class=\"file my-2\">\n    \n    <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-yaml  \">\n\n        \n<div class=\"js-check-bidi js-blob-code-container blob-code-content\">\n\n  <template class=\"js-file-alert-template\">\n  <div data-view-component=\"true\" class=\"flash flash-warn flash-full d-flex flex-items-center\">\n  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n  \n    <span>\n      This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\n      <a href=\"https://github.co/hiddenchars\" target=\"_blank\">Learn more about bidirectional Unicode characters</a>\n    </span>\n\n\n  <div data-view-component=\"true\" class=\"flash-action\">        <a href=\"{{ revealButtonHref }}\" data-view-component=\"true\" class=\"btn-sm btn\">    Show hidden characters\n</a>\n</div>\n</div></template>\n<template class=\"js-line-alert-template\">\n  <span aria-label=\"This line has hidden Unicode characters\" data-view-component=\"true\" class=\"line-alert tooltipped tooltipped-e\">\n    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n</span></template>\n\n  <table data-hpc=\"\" class=\"highlight tab-size js-file-line-container js-code-nav-container js-tagsearch-file\" data-tab-size=\"8\" data-paste-markdown-skip=\"\" data-tagsearch-lang=\"YAML\" data-tagsearch-path=\"template-jobs-build.yaml\">\n        <tbody><tr>\n          <td id=\"file-template-jobs-build-yaml-L1\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"1\"></td>\n          <td id=\"file-template-jobs-build-yaml-LC1\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> template-jobs-build.yaml</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-build-yaml-L2\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"2\"></td>\n          <td id=\"file-template-jobs-build-yaml-LC2\" class=\"blob-code blob-code-inner js-file-line highlighted\"><span class=\"pl-ent\">parameters</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-build-yaml-L3\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"3\"></td>\n          <td id=\"file-template-jobs-build-yaml-LC3\" class=\"blob-code blob-code-inner js-file-line highlighted\">  <span class=\"pl-ent\">vmImage</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span><span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-build-yaml-L4\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"4\"></td>\n          <td id=\"file-template-jobs-build-yaml-LC4\" class=\"blob-code blob-code-inner js-file-line highlighted\">  <span class=\"pl-ent\">message</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span><span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-build-yaml-L5\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"5\"></td>\n          <td id=\"file-template-jobs-build-yaml-LC5\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-build-yaml-L6\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"6\"></td>\n          <td id=\"file-template-jobs-build-yaml-LC6\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-ent\">jobs</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-build-yaml-L7\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"7\"></td>\n          <td id=\"file-template-jobs-build-yaml-LC7\" class=\"blob-code blob-code-inner js-file-line\">- <span class=\"pl-ent\">job</span>: <span class=\"pl-s\">TemplatedJob</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-build-yaml-L8\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"8\"></td>\n          <td id=\"file-template-jobs-build-yaml-LC8\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-ent\">displayName</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Templated Job<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-build-yaml-L9\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"9\"></td>\n          <td id=\"file-template-jobs-build-yaml-LC9\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-ent\">pool</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-build-yaml-L10\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"10\"></td>\n          <td id=\"file-template-jobs-build-yaml-LC10\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">vmImage</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>${{ parameters.vmImage }}<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-build-yaml-L11\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"11\"></td>\n          <td id=\"file-template-jobs-build-yaml-LC11\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-ent\">workspace</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-build-yaml-L12\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"12\"></td>\n          <td id=\"file-template-jobs-build-yaml-LC12\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">clean</span>: <span class=\"pl-s\">all</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-build-yaml-L13\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"13\"></td>\n          <td id=\"file-template-jobs-build-yaml-LC13\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-build-yaml-L14\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"14\"></td>\n          <td id=\"file-template-jobs-build-yaml-LC14\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-ent\">steps</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-build-yaml-L15\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"15\"></td>\n          <td id=\"file-template-jobs-build-yaml-LC15\" class=\"blob-code blob-code-inner js-file-line\">  - <span class=\"pl-ent\">task</span>: <span class=\"pl-s\">PowerShell@2</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-build-yaml-L16\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"16\"></td>\n          <td id=\"file-template-jobs-build-yaml-LC16\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">displayName</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Echo Greeting in PowerShell<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-build-yaml-L17\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"17\"></td>\n          <td id=\"file-template-jobs-build-yaml-LC17\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">inputs</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-build-yaml-L18\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"18\"></td>\n          <td id=\"file-template-jobs-build-yaml-LC18\" class=\"blob-code blob-code-inner js-file-line\">      <span class=\"pl-ent\">targetType</span>: <span class=\"pl-s\">Inline</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-build-yaml-L19\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"19\"></td>\n          <td id=\"file-template-jobs-build-yaml-LC19\" class=\"blob-code blob-code-inner js-file-line\">      <span class=\"pl-ent\">script</span>: <span class=\"pl-s\">|</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-build-yaml-L20\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"20\"></td>\n          <td id=\"file-template-jobs-build-yaml-LC20\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s\">        Write-Host \"$(Greeting)\"</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-build-yaml-L21\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"21\"></td>\n          <td id=\"file-template-jobs-build-yaml-LC21\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s\">        Write-Host \"${{ parameters.message }}\"</span></td>\n        </tr>\n  </tbody></table>\n</div>\n\n\n    </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/justinyoo/41e3c56debe1eaa0bb1d0ac062bb38b9/raw/984693960482c04816812dab27bd1382d85b6226/template-jobs-build.yaml\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/justinyoo/41e3c56debe1eaa0bb1d0ac062bb38b9#file-template-jobs-build-yaml\">\n          template-jobs-build.yaml\n        </a>\n        hosted with ❤ by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div>\n</body></html>\n</div>\n<p><code class=\"language-text\">Jobs</code> 수준에서 사용하는 빌드 에이전트의 종류까지도 변수화시켜 사용할 수 있는 것이 보이나요? 부모 템플릿에서 에이전트를 <code class=\"language-text\">Windows Server 2016</code> 버전으로 설정했으므로 실제 이를 파이프라인으로 돌려보면 아래와 같은 결과가 나타납니다.</p>\n<p><img src=\"https://sa0blogs.blob.core.windows.net/aliencube/2019/08/azure-devops-pipelines-refactoring-technics-03.png\" alt=\"Jobs 수준 리팩토링후 애저 빌드 파이프라인 실행 결과\"></p>\n<h2 id=\"빌드-파이프라인을-stages-수준에서-리팩토링하기\"><a href=\"#%EB%B9%8C%EB%93%9C-%ED%8C%8C%EC%9D%B4%ED%94%84%EB%9D%BC%EC%9D%B8%EC%9D%84-stages-%EC%88%98%EC%A4%80%EC%97%90%EC%84%9C-%EB%A6%AC%ED%8C%A9%ED%86%A0%EB%A7%81%ED%95%98%EA%B8%B0\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>빌드 파이프라인을 <code class=\"language-text\">Stages</code> 수준에서 리팩토링하기</h2>\n<p>이번에는 <code class=\"language-text\">Stages</code> 수준에서 파이프라인 리팩토링을 시도해 보겠습니다. 하나의 스테이지에는 여러개의 <code class=\"language-text\">Job</code>을 동시에 돌리거나 순차적으로 돌릴 수 있습니다. <code class=\"language-text\">Job</code> 수준에서 돌아가는 공통의 작업들이 있다면 이를 <code class=\"language-text\">Job</code> 수준에서 묶어 리팩토링 할 수 있겠지만, 아예 공통의 <code class=\"language-text\">Job</code>들 까지 묶어서 하나의 <code class=\"language-text\">Stage</code>를 만들고 이를 별도의 템플릿으로 빼낼 수 있는데, 이것이 이 연습의 핵심입니다. 아래 부모 파이프라인 코드를 보세요. <code class=\"language-text\">stages</code> 아래에 곧바로 템플릿을 지정하고 변수를 보냅니다 (line #9-12).</p>\n<div class=\"gist-embed\">\n    <html><head></head><body><div id=\"gist97932430\" class=\"gist\">\n    <div class=\"gist-file\" translate=\"no\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-pipeline-build-with-stages-template-yaml\" class=\"file my-2\">\n    \n    <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-yaml  \">\n\n        \n<div class=\"js-check-bidi js-blob-code-container blob-code-content\">\n\n  <template class=\"js-file-alert-template\">\n  <div data-view-component=\"true\" class=\"flash flash-warn flash-full d-flex flex-items-center\">\n  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n  \n    <span>\n      This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\n      <a href=\"https://github.co/hiddenchars\" target=\"_blank\">Learn more about bidirectional Unicode characters</a>\n    </span>\n\n\n  <div data-view-component=\"true\" class=\"flash-action\">        <a href=\"{{ revealButtonHref }}\" data-view-component=\"true\" class=\"btn-sm btn\">    Show hidden characters\n</a>\n</div>\n</div></template>\n<template class=\"js-line-alert-template\">\n  <span aria-label=\"This line has hidden Unicode characters\" data-view-component=\"true\" class=\"line-alert tooltipped tooltipped-e\">\n    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n</span></template>\n\n  <table data-hpc=\"\" class=\"highlight tab-size js-file-line-container js-code-nav-container js-tagsearch-file\" data-tab-size=\"8\" data-paste-markdown-skip=\"\" data-tagsearch-lang=\"YAML\" data-tagsearch-path=\"pipeline-build-with-stages-template.yaml\">\n        <tbody><tr>\n          <td id=\"file-pipeline-build-with-stages-template-yaml-L1\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"1\"></td>\n          <td id=\"file-pipeline-build-with-stages-template-yaml-LC1\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> pipeline.yaml</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-stages-template-yaml-L2\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"2\"></td>\n          <td id=\"file-pipeline-build-with-stages-template-yaml-LC2\" class=\"blob-code blob-code-inner js-file-line\">...</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-stages-template-yaml-L3\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"3\"></td>\n          <td id=\"file-pipeline-build-with-stages-template-yaml-LC3\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-ent\">variables</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-stages-template-yaml-L4\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"4\"></td>\n          <td id=\"file-pipeline-build-with-stages-template-yaml-LC4\" class=\"blob-code blob-code-inner js-file-line\">- <span class=\"pl-ent\">name</span>: <span class=\"pl-s\">Greeting</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-stages-template-yaml-L5\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"5\"></td>\n          <td id=\"file-pipeline-build-with-stages-template-yaml-LC5\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-ent\">value</span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>G'day, mate<span class=\"pl-pds\">\"</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-stages-template-yaml-L6\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"6\"></td>\n          <td id=\"file-pipeline-build-with-stages-template-yaml-LC6\" class=\"blob-code blob-code-inner js-file-line\">...</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-stages-template-yaml-L7\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"7\"></td>\n          <td id=\"file-pipeline-build-with-stages-template-yaml-LC7\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-ent\">stages</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-stages-template-yaml-L8\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"8\"></td>\n          <td id=\"file-pipeline-build-with-stages-template-yaml-LC8\" class=\"blob-code blob-code-inner js-file-line\">...</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-stages-template-yaml-L9\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"9\"></td>\n          <td id=\"file-pipeline-build-with-stages-template-yaml-LC9\" class=\"blob-code blob-code-inner js-file-line highlighted\">- <span class=\"pl-ent\">template</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>template-stages-build.yaml<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-stages-template-yaml-L10\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"10\"></td>\n          <td id=\"file-pipeline-build-with-stages-template-yaml-LC10\" class=\"blob-code blob-code-inner js-file-line highlighted\">  <span class=\"pl-ent\">parameters</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-stages-template-yaml-L11\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"11\"></td>\n          <td id=\"file-pipeline-build-with-stages-template-yaml-LC11\" class=\"blob-code blob-code-inner js-file-line highlighted\">    <span class=\"pl-ent\">vmImage</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>ubuntu-16.04<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-stages-template-yaml-L12\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"12\"></td>\n          <td id=\"file-pipeline-build-with-stages-template-yaml-LC12\" class=\"blob-code blob-code-inner js-file-line highlighted\">    <span class=\"pl-ent\">message</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>This is from the stages template<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-stages-template-yaml-L13\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"13\"></td>\n          <td id=\"file-pipeline-build-with-stages-template-yaml-LC13\" class=\"blob-code blob-code-inner js-file-line\">...</td>\n        </tr>\n  </tbody></table>\n</div>\n\n\n    </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/justinyoo/41e3c56debe1eaa0bb1d0ac062bb38b9/raw/984693960482c04816812dab27bd1382d85b6226/pipeline-build-with-stages-template.yaml\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/justinyoo/41e3c56debe1eaa0bb1d0ac062bb38b9#file-pipeline-build-with-stages-template-yaml\">\n          pipeline-build-with-stages-template.yaml\n        </a>\n        hosted with ❤ by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div>\n</body></html>\n</div>\n<p>위에서 언급한 <code class=\"language-text\">template-stage-build.yaml</code> 파일은 아래와 같이 작성할 수 있습니다. 부모에서 받아온 파라미터를 통해 빌드 에이전트에 쓰일 OS와 다른 값들을 설정할 수 있는게 보이죠 (line #2-4)?</p>\n<div class=\"gist-embed\">\n    <html><head></head><body><div id=\"gist97932430\" class=\"gist\">\n    <div class=\"gist-file\" translate=\"no\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-template-stages-build-yaml\" class=\"file my-2\">\n    \n    <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-yaml  \">\n\n        \n<div class=\"js-check-bidi js-blob-code-container blob-code-content\">\n\n  <template class=\"js-file-alert-template\">\n  <div data-view-component=\"true\" class=\"flash flash-warn flash-full d-flex flex-items-center\">\n  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n  \n    <span>\n      This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\n      <a href=\"https://github.co/hiddenchars\" target=\"_blank\">Learn more about bidirectional Unicode characters</a>\n    </span>\n\n\n  <div data-view-component=\"true\" class=\"flash-action\">        <a href=\"{{ revealButtonHref }}\" data-view-component=\"true\" class=\"btn-sm btn\">    Show hidden characters\n</a>\n</div>\n</div></template>\n<template class=\"js-line-alert-template\">\n  <span aria-label=\"This line has hidden Unicode characters\" data-view-component=\"true\" class=\"line-alert tooltipped tooltipped-e\">\n    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n</span></template>\n\n  <table data-hpc=\"\" class=\"highlight tab-size js-file-line-container js-code-nav-container js-tagsearch-file\" data-tab-size=\"8\" data-paste-markdown-skip=\"\" data-tagsearch-lang=\"YAML\" data-tagsearch-path=\"template-stages-build.yaml\">\n        <tbody><tr>\n          <td id=\"file-template-stages-build-yaml-L1\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"1\"></td>\n          <td id=\"file-template-stages-build-yaml-LC1\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> template-stages-build.yaml</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-stages-build-yaml-L2\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"2\"></td>\n          <td id=\"file-template-stages-build-yaml-LC2\" class=\"blob-code blob-code-inner js-file-line highlighted\"><span class=\"pl-ent\">parameters</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-stages-build-yaml-L3\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"3\"></td>\n          <td id=\"file-template-stages-build-yaml-LC3\" class=\"blob-code blob-code-inner js-file-line highlighted\">  <span class=\"pl-ent\">vmImage</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span><span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-stages-build-yaml-L4\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"4\"></td>\n          <td id=\"file-template-stages-build-yaml-LC4\" class=\"blob-code blob-code-inner js-file-line highlighted\">  <span class=\"pl-ent\">message</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span><span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-stages-build-yaml-L5\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"5\"></td>\n          <td id=\"file-template-stages-build-yaml-LC5\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-stages-build-yaml-L6\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"6\"></td>\n          <td id=\"file-template-stages-build-yaml-LC6\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-ent\">stages</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-stages-build-yaml-L7\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"7\"></td>\n          <td id=\"file-template-stages-build-yaml-LC7\" class=\"blob-code blob-code-inner js-file-line\">- <span class=\"pl-ent\">stage</span>: <span class=\"pl-s\">BuildWithStagesTemplate</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-stages-build-yaml-L8\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"8\"></td>\n          <td id=\"file-template-stages-build-yaml-LC8\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-ent\">displayName</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Build with Stages Template<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-stages-build-yaml-L9\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"9\"></td>\n          <td id=\"file-template-stages-build-yaml-LC9\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-stages-build-yaml-L10\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"10\"></td>\n          <td id=\"file-template-stages-build-yaml-LC10\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-ent\">jobs</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-stages-build-yaml-L11\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"11\"></td>\n          <td id=\"file-template-stages-build-yaml-LC11\" class=\"blob-code blob-code-inner js-file-line\">  - <span class=\"pl-ent\">job</span>: <span class=\"pl-s\">TemplatedStage</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-stages-build-yaml-L12\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"12\"></td>\n          <td id=\"file-template-stages-build-yaml-LC12\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">displayName</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Templated Stage<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-stages-build-yaml-L13\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"13\"></td>\n          <td id=\"file-template-stages-build-yaml-LC13\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-stages-build-yaml-L14\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"14\"></td>\n          <td id=\"file-template-stages-build-yaml-LC14\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">pool</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-stages-build-yaml-L15\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"15\"></td>\n          <td id=\"file-template-stages-build-yaml-LC15\" class=\"blob-code blob-code-inner js-file-line\">      <span class=\"pl-ent\">vmImage</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>${{ parameters.vmImage }}<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-stages-build-yaml-L16\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"16\"></td>\n          <td id=\"file-template-stages-build-yaml-LC16\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-stages-build-yaml-L17\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"17\"></td>\n          <td id=\"file-template-stages-build-yaml-LC17\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">workspace</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-stages-build-yaml-L18\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"18\"></td>\n          <td id=\"file-template-stages-build-yaml-LC18\" class=\"blob-code blob-code-inner js-file-line\">      <span class=\"pl-ent\">clean</span>: <span class=\"pl-s\">all</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-stages-build-yaml-L19\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"19\"></td>\n          <td id=\"file-template-stages-build-yaml-LC19\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-stages-build-yaml-L20\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"20\"></td>\n          <td id=\"file-template-stages-build-yaml-LC20\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">steps</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-stages-build-yaml-L21\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"21\"></td>\n          <td id=\"file-template-stages-build-yaml-LC21\" class=\"blob-code blob-code-inner js-file-line\">    - <span class=\"pl-ent\">task</span>: <span class=\"pl-s\">PowerShell@2</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-stages-build-yaml-L22\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"22\"></td>\n          <td id=\"file-template-stages-build-yaml-LC22\" class=\"blob-code blob-code-inner js-file-line\">      <span class=\"pl-ent\">displayName</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Echo Greeting in PowerShell<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-stages-build-yaml-L23\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"23\"></td>\n          <td id=\"file-template-stages-build-yaml-LC23\" class=\"blob-code blob-code-inner js-file-line\">      <span class=\"pl-ent\">inputs</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-stages-build-yaml-L24\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"24\"></td>\n          <td id=\"file-template-stages-build-yaml-LC24\" class=\"blob-code blob-code-inner js-file-line\">        <span class=\"pl-ent\">targetType</span>: <span class=\"pl-s\">Inline</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-stages-build-yaml-L25\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"25\"></td>\n          <td id=\"file-template-stages-build-yaml-LC25\" class=\"blob-code blob-code-inner js-file-line\">        <span class=\"pl-ent\">script</span>: <span class=\"pl-s\">|</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-stages-build-yaml-L26\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"26\"></td>\n          <td id=\"file-template-stages-build-yaml-LC26\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s\">          Write-Host \"$(Greeting)\"</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-stages-build-yaml-L27\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"27\"></td>\n          <td id=\"file-template-stages-build-yaml-LC27\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s\">          Write-Host \"${{ parameters.message }}\"</span></td>\n        </tr>\n  </tbody></table>\n</div>\n\n\n    </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/justinyoo/41e3c56debe1eaa0bb1d0ac062bb38b9/raw/984693960482c04816812dab27bd1382d85b6226/template-stages-build.yaml\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/justinyoo/41e3c56debe1eaa0bb1d0ac062bb38b9#file-template-stages-build-yaml\">\n          template-stages-build.yaml\n        </a>\n        hosted with ❤ by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div>\n</body></html>\n</div>\n<p>이렇게 해서 파이프라인을 실행해 본 결과는 대략 아래와 같습니다. 변수를 통해 전달한 값에 따라 빌드 에이전트가 <code class=\"language-text\">Ubuntu 16.04</code> 버전으로 설정이 되었고, 글로벌 변수 값을 별도로 재정의하지 않았으므로 아래 그림과 같이 <code class=\"language-text\">G&#39;day, mate</code>라는 글로벌 변수 값을 볼 수 있습니다.</p>\n<p><img src=\"https://sa0blogs.blob.core.windows.net/aliencube/2019/08/azure-devops-pipelines-refactoring-technics-04.png\" alt=\"Stages 수준 리팩토링 후 애저 빌드 파이프라인 실행 결과\"></p>\n<h2 id=\"빌드-파이프라인을-다단계-템플릿으로-리팩토링하기\"><a href=\"#%EB%B9%8C%EB%93%9C-%ED%8C%8C%EC%9D%B4%ED%94%84%EB%9D%BC%EC%9D%B8%EC%9D%84-%EB%8B%A4%EB%8B%A8%EA%B3%84-%ED%85%9C%ED%94%8C%EB%A6%BF%EC%9C%BC%EB%A1%9C-%EB%A6%AC%ED%8C%A9%ED%86%A0%EB%A7%81%ED%95%98%EA%B8%B0\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>빌드 파이프라인을 다단계 템플릿으로 리팩토링하기</h2>\n<p>이렇게 <code class=\"language-text\">Steps</code> 수준, <code class=\"language-text\">Jobs</code> 수준, <code class=\"language-text\">Stages</code> 수준에서 모두 리팩토링을 해 봤습니다. 그렇다면 리팩토링의 결과물인 템플릿을 다단계로 걸쳐서 사용할 수는 없을까요? 물론 당연히 되죠. 아래와 같이 부모 파이프라인을 수정해 보겠습니다. 이번에는 맥OS를 에이전트로 선택해 볼까요 (line #9-12)?</p>\n<div class=\"gist-embed\">\n    <html><head></head><body><div id=\"gist97932430\" class=\"gist\">\n    <div class=\"gist-file\" translate=\"no\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-pipeline-build-with-nested-stages-template-yaml\" class=\"file my-2\">\n    \n    <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-yaml  \">\n\n        \n<div class=\"js-check-bidi js-blob-code-container blob-code-content\">\n\n  <template class=\"js-file-alert-template\">\n  <div data-view-component=\"true\" class=\"flash flash-warn flash-full d-flex flex-items-center\">\n  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n  \n    <span>\n      This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\n      <a href=\"https://github.co/hiddenchars\" target=\"_blank\">Learn more about bidirectional Unicode characters</a>\n    </span>\n\n\n  <div data-view-component=\"true\" class=\"flash-action\">        <a href=\"{{ revealButtonHref }}\" data-view-component=\"true\" class=\"btn-sm btn\">    Show hidden characters\n</a>\n</div>\n</div></template>\n<template class=\"js-line-alert-template\">\n  <span aria-label=\"This line has hidden Unicode characters\" data-view-component=\"true\" class=\"line-alert tooltipped tooltipped-e\">\n    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n</span></template>\n\n  <table data-hpc=\"\" class=\"highlight tab-size js-file-line-container js-code-nav-container js-tagsearch-file\" data-tab-size=\"8\" data-paste-markdown-skip=\"\" data-tagsearch-lang=\"YAML\" data-tagsearch-path=\"pipeline-build-with-nested-stages-template.yaml\">\n        <tbody><tr>\n          <td id=\"file-pipeline-build-with-nested-stages-template-yaml-L1\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"1\"></td>\n          <td id=\"file-pipeline-build-with-nested-stages-template-yaml-LC1\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> pipeline.yaml</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-nested-stages-template-yaml-L2\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"2\"></td>\n          <td id=\"file-pipeline-build-with-nested-stages-template-yaml-LC2\" class=\"blob-code blob-code-inner js-file-line\">...</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-nested-stages-template-yaml-L3\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"3\"></td>\n          <td id=\"file-pipeline-build-with-nested-stages-template-yaml-LC3\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-ent\">variables</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-nested-stages-template-yaml-L4\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"4\"></td>\n          <td id=\"file-pipeline-build-with-nested-stages-template-yaml-LC4\" class=\"blob-code blob-code-inner js-file-line\">- <span class=\"pl-ent\">name</span>: <span class=\"pl-s\">Greeting</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-nested-stages-template-yaml-L5\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"5\"></td>\n          <td id=\"file-pipeline-build-with-nested-stages-template-yaml-LC5\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-ent\">value</span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>G'day, mate<span class=\"pl-pds\">\"</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-nested-stages-template-yaml-L6\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"6\"></td>\n          <td id=\"file-pipeline-build-with-nested-stages-template-yaml-LC6\" class=\"blob-code blob-code-inner js-file-line\">...</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-nested-stages-template-yaml-L7\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"7\"></td>\n          <td id=\"file-pipeline-build-with-nested-stages-template-yaml-LC7\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-ent\">stages</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-nested-stages-template-yaml-L8\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"8\"></td>\n          <td id=\"file-pipeline-build-with-nested-stages-template-yaml-LC8\" class=\"blob-code blob-code-inner js-file-line\">...</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-nested-stages-template-yaml-L9\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"9\"></td>\n          <td id=\"file-pipeline-build-with-nested-stages-template-yaml-LC9\" class=\"blob-code blob-code-inner js-file-line highlighted\">- <span class=\"pl-ent\">template</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>template-stages-nested-build.yaml<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-nested-stages-template-yaml-L10\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"10\"></td>\n          <td id=\"file-pipeline-build-with-nested-stages-template-yaml-LC10\" class=\"blob-code blob-code-inner js-file-line highlighted\">  <span class=\"pl-ent\">parameters</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-nested-stages-template-yaml-L11\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"11\"></td>\n          <td id=\"file-pipeline-build-with-nested-stages-template-yaml-LC11\" class=\"blob-code blob-code-inner js-file-line highlighted\">    <span class=\"pl-ent\">vmImage</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>macOS-10.13<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-nested-stages-template-yaml-L12\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"12\"></td>\n          <td id=\"file-pipeline-build-with-nested-stages-template-yaml-LC12\" class=\"blob-code blob-code-inner js-file-line highlighted\">    <span class=\"pl-ent\">message</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>This is from the nested stages template<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-build-with-nested-stages-template-yaml-L13\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"13\"></td>\n          <td id=\"file-pipeline-build-with-nested-stages-template-yaml-LC13\" class=\"blob-code blob-code-inner js-file-line\">...</td>\n        </tr>\n  </tbody></table>\n</div>\n\n\n    </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/justinyoo/41e3c56debe1eaa0bb1d0ac062bb38b9/raw/984693960482c04816812dab27bd1382d85b6226/pipeline-build-with-nested-stages-template.yaml\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/justinyoo/41e3c56debe1eaa0bb1d0ac062bb38b9#file-pipeline-build-with-nested-stages-template-yaml\">\n          pipeline-build-with-nested-stages-template.yaml\n        </a>\n        hosted with ❤ by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div>\n</body></html>\n</div>\n<p><code class=\"language-text\">Stage</code> 수준에서 다단계 템플릿을 만들어서 붙여봤습니다. 이 템플릿 안에서 또다시 <code class=\"language-text\">Jobs</code> 수준의 다단계 템플릿을 호출합니다 (line #11-14).</p>\n<div class=\"gist-embed\">\n    <html><head></head><body><div id=\"gist97932430\" class=\"gist\">\n    <div class=\"gist-file\" translate=\"no\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-template-stages-nested-build-yaml\" class=\"file my-2\">\n    \n    <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-yaml  \">\n\n        \n<div class=\"js-check-bidi js-blob-code-container blob-code-content\">\n\n  <template class=\"js-file-alert-template\">\n  <div data-view-component=\"true\" class=\"flash flash-warn flash-full d-flex flex-items-center\">\n  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n  \n    <span>\n      This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\n      <a href=\"https://github.co/hiddenchars\" target=\"_blank\">Learn more about bidirectional Unicode characters</a>\n    </span>\n\n\n  <div data-view-component=\"true\" class=\"flash-action\">        <a href=\"{{ revealButtonHref }}\" data-view-component=\"true\" class=\"btn-sm btn\">    Show hidden characters\n</a>\n</div>\n</div></template>\n<template class=\"js-line-alert-template\">\n  <span aria-label=\"This line has hidden Unicode characters\" data-view-component=\"true\" class=\"line-alert tooltipped tooltipped-e\">\n    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n</span></template>\n\n  <table data-hpc=\"\" class=\"highlight tab-size js-file-line-container js-code-nav-container js-tagsearch-file\" data-tab-size=\"8\" data-paste-markdown-skip=\"\" data-tagsearch-lang=\"YAML\" data-tagsearch-path=\"template-stages-nested-build.yaml\">\n        <tbody><tr>\n          <td id=\"file-template-stages-nested-build-yaml-L1\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"1\"></td>\n          <td id=\"file-template-stages-nested-build-yaml-LC1\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> template-stages-nested-build.yaml</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-stages-nested-build-yaml-L2\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"2\"></td>\n          <td id=\"file-template-stages-nested-build-yaml-LC2\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-ent\">parameters</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-stages-nested-build-yaml-L3\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"3\"></td>\n          <td id=\"file-template-stages-nested-build-yaml-LC3\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-ent\">vmImage</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span><span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-stages-nested-build-yaml-L4\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"4\"></td>\n          <td id=\"file-template-stages-nested-build-yaml-LC4\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-ent\">message</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span><span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-stages-nested-build-yaml-L5\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"5\"></td>\n          <td id=\"file-template-stages-nested-build-yaml-LC5\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-stages-nested-build-yaml-L6\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"6\"></td>\n          <td id=\"file-template-stages-nested-build-yaml-LC6\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-ent\">stages</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-stages-nested-build-yaml-L7\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"7\"></td>\n          <td id=\"file-template-stages-nested-build-yaml-LC7\" class=\"blob-code blob-code-inner js-file-line\">- <span class=\"pl-ent\">stage</span>: <span class=\"pl-s\">BuildWithNestedStagesTemplate</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-stages-nested-build-yaml-L8\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"8\"></td>\n          <td id=\"file-template-stages-nested-build-yaml-LC8\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-ent\">displayName</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Build with Nested Stages Template<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-stages-nested-build-yaml-L9\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"9\"></td>\n          <td id=\"file-template-stages-nested-build-yaml-LC9\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-stages-nested-build-yaml-L10\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"10\"></td>\n          <td id=\"file-template-stages-nested-build-yaml-LC10\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-ent\">jobs</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-stages-nested-build-yaml-L11\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"11\"></td>\n          <td id=\"file-template-stages-nested-build-yaml-LC11\" class=\"blob-code blob-code-inner js-file-line highlighted\">  - <span class=\"pl-ent\">template</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>template-jobs-nested-build.yaml<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-stages-nested-build-yaml-L12\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"12\"></td>\n          <td id=\"file-template-stages-nested-build-yaml-LC12\" class=\"blob-code blob-code-inner js-file-line highlighted\">    <span class=\"pl-ent\">parameters</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-stages-nested-build-yaml-L13\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"13\"></td>\n          <td id=\"file-template-stages-nested-build-yaml-LC13\" class=\"blob-code blob-code-inner js-file-line highlighted\">      <span class=\"pl-ent\">vmImage</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>${{ parameters.vmImage }}<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-stages-nested-build-yaml-L14\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"14\"></td>\n          <td id=\"file-template-stages-nested-build-yaml-LC14\" class=\"blob-code blob-code-inner js-file-line highlighted\">      <span class=\"pl-ent\">message</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>${{ parameters.message }}<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n  </tbody></table>\n</div>\n\n\n    </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/justinyoo/41e3c56debe1eaa0bb1d0ac062bb38b9/raw/984693960482c04816812dab27bd1382d85b6226/template-stages-nested-build.yaml\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/justinyoo/41e3c56debe1eaa0bb1d0ac062bb38b9#file-template-stages-nested-build-yaml\">\n          template-stages-nested-build.yaml\n        </a>\n        hosted with ❤ by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div>\n</body></html>\n</div>\n<p><code class=\"language-text\">Jobs</code> 수준의 다단계 템플릿은 대략 아래와 같습니다. 그리고, 이 안에서 또다시 앞서 만들어 둔 <code class=\"language-text\">Steps</code> 수준의 템플릿을 호출합니다 (line #17-19).</p>\n<div class=\"gist-embed\">\n    <html><head></head><body><div id=\"gist97932430\" class=\"gist\">\n    <div class=\"gist-file\" translate=\"no\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-template-jobs-nested-build-yaml\" class=\"file my-2\">\n    \n    <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-yaml  \">\n\n        \n<div class=\"js-check-bidi js-blob-code-container blob-code-content\">\n\n  <template class=\"js-file-alert-template\">\n  <div data-view-component=\"true\" class=\"flash flash-warn flash-full d-flex flex-items-center\">\n  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n  \n    <span>\n      This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\n      <a href=\"https://github.co/hiddenchars\" target=\"_blank\">Learn more about bidirectional Unicode characters</a>\n    </span>\n\n\n  <div data-view-component=\"true\" class=\"flash-action\">        <a href=\"{{ revealButtonHref }}\" data-view-component=\"true\" class=\"btn-sm btn\">    Show hidden characters\n</a>\n</div>\n</div></template>\n<template class=\"js-line-alert-template\">\n  <span aria-label=\"This line has hidden Unicode characters\" data-view-component=\"true\" class=\"line-alert tooltipped tooltipped-e\">\n    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n</span></template>\n\n  <table data-hpc=\"\" class=\"highlight tab-size js-file-line-container js-code-nav-container js-tagsearch-file\" data-tab-size=\"8\" data-paste-markdown-skip=\"\" data-tagsearch-lang=\"YAML\" data-tagsearch-path=\"template-jobs-nested-build.yaml\">\n        <tbody><tr>\n          <td id=\"file-template-jobs-nested-build-yaml-L1\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"1\"></td>\n          <td id=\"file-template-jobs-nested-build-yaml-LC1\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> template-jobs-nested-build.yaml</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-nested-build-yaml-L2\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"2\"></td>\n          <td id=\"file-template-jobs-nested-build-yaml-LC2\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-ent\">parameters</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-nested-build-yaml-L3\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"3\"></td>\n          <td id=\"file-template-jobs-nested-build-yaml-LC3\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-ent\">vmImage</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span><span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-nested-build-yaml-L4\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"4\"></td>\n          <td id=\"file-template-jobs-nested-build-yaml-LC4\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-ent\">message</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span><span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-nested-build-yaml-L5\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"5\"></td>\n          <td id=\"file-template-jobs-nested-build-yaml-LC5\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-nested-build-yaml-L6\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"6\"></td>\n          <td id=\"file-template-jobs-nested-build-yaml-LC6\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-ent\">jobs</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-nested-build-yaml-L7\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"7\"></td>\n          <td id=\"file-template-jobs-nested-build-yaml-LC7\" class=\"blob-code blob-code-inner js-file-line\">- <span class=\"pl-ent\">job</span>: <span class=\"pl-s\">NestedBuildJob</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-nested-build-yaml-L8\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"8\"></td>\n          <td id=\"file-template-jobs-nested-build-yaml-LC8\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-ent\">displayName</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Nested Build Job on ${{ parameters.vmImage }}<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-nested-build-yaml-L9\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"9\"></td>\n          <td id=\"file-template-jobs-nested-build-yaml-LC9\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-nested-build-yaml-L10\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"10\"></td>\n          <td id=\"file-template-jobs-nested-build-yaml-LC10\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-ent\">pool</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-nested-build-yaml-L11\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"11\"></td>\n          <td id=\"file-template-jobs-nested-build-yaml-LC11\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">vmImage</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>${{ parameters.vmImage }}<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-nested-build-yaml-L12\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"12\"></td>\n          <td id=\"file-template-jobs-nested-build-yaml-LC12\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-nested-build-yaml-L13\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"13\"></td>\n          <td id=\"file-template-jobs-nested-build-yaml-LC13\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-ent\">workspace</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-nested-build-yaml-L14\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"14\"></td>\n          <td id=\"file-template-jobs-nested-build-yaml-LC14\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">clean</span>: <span class=\"pl-s\">all</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-nested-build-yaml-L15\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"15\"></td>\n          <td id=\"file-template-jobs-nested-build-yaml-LC15\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-nested-build-yaml-L16\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"16\"></td>\n          <td id=\"file-template-jobs-nested-build-yaml-LC16\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-ent\">steps</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-nested-build-yaml-L17\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"17\"></td>\n          <td id=\"file-template-jobs-nested-build-yaml-LC17\" class=\"blob-code blob-code-inner js-file-line highlighted\">  - <span class=\"pl-ent\">template</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>template-steps-build.yaml<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-nested-build-yaml-L18\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"18\"></td>\n          <td id=\"file-template-jobs-nested-build-yaml-LC18\" class=\"blob-code blob-code-inner js-file-line highlighted\">    <span class=\"pl-ent\">parameters</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-nested-build-yaml-L19\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"19\"></td>\n          <td id=\"file-template-jobs-nested-build-yaml-LC19\" class=\"blob-code blob-code-inner js-file-line highlighted\">      <span class=\"pl-ent\">message</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>${{ parameters.message }}<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n  </tbody></table>\n</div>\n\n\n    </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/justinyoo/41e3c56debe1eaa0bb1d0ac062bb38b9/raw/984693960482c04816812dab27bd1382d85b6226/template-jobs-nested-build.yaml\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/justinyoo/41e3c56debe1eaa0bb1d0ac062bb38b9#file-template-jobs-nested-build-yaml\">\n          template-jobs-nested-build.yaml\n        </a>\n        hosted with ❤ by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div>\n</body></html>\n</div>\n<p>이렇게 다단계로 템플릿을 만들어 붙여놓은 후 파이프라인을 돌려보면 아래와 같습니다.</p>\n<p><img src=\"https://sa0blogs.blob.core.windows.net/aliencube/2019/08/azure-devops-pipelines-refactoring-technics-05.png\" alt=\"다단계 리팩토링 후 애저 빌드 파이프라인 실행 결과\"></p>\n<p>아주 문제 없이 다단계 템플릿이 잘 돌아가는게 보이죠?</p>\n<p>지금까지 빌드 파이프라인을 리팩토링해 봤습니다. 이제 릴리즈 파이프라인으로 들어가 보겠습니다.</p>\n<h2 id=\"릴리즈-파이프라인\"><a href=\"#%EB%A6%B4%EB%A6%AC%EC%A6%88-%ED%8C%8C%EC%9D%B4%ED%94%84%EB%9D%BC%EC%9D%B8\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>릴리즈 파이프라인</h2>\n<p>릴리즈 파이프라인은 빌드 파이프라인과 크게 다르지 않습니다. 다만 <code class=\"language-text\">job</code> 대신 <a href=\"https://docs.microsoft.com/ko-kr/azure/devops/pipelines/process/deployment-jobs?view=azure-devops&#x26;WT.mc_id=devops-12575-juyoo&#x26;ocid=AID3027813\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><code class=\"language-text\">deployment job</code></a>을 사용한다는 차이가 있을 뿐입니다. 이 둘의 차이에 대해 얘기하는 것은 이 포스트의 범위를 벗어나니 여기까지만 하기로 하고, 실제 릴리즈 파이프라인의 구성을 보겠습니다. 템플릿 리팩토링 없는 전형적인 릴리즈 스테이지는 아래와 같습니다.</p>\n<div class=\"gist-embed\">\n    <html><head></head><body><div id=\"gist97932430\" class=\"gist\">\n    <div class=\"gist-file\" translate=\"no\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-pipeline-release-without-template-yaml\" class=\"file my-2\">\n    \n    <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-yaml  \">\n\n        \n<div class=\"js-check-bidi js-blob-code-container blob-code-content\">\n\n  <template class=\"js-file-alert-template\">\n  <div data-view-component=\"true\" class=\"flash flash-warn flash-full d-flex flex-items-center\">\n  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n  \n    <span>\n      This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\n      <a href=\"https://github.co/hiddenchars\" target=\"_blank\">Learn more about bidirectional Unicode characters</a>\n    </span>\n\n\n  <div data-view-component=\"true\" class=\"flash-action\">        <a href=\"{{ revealButtonHref }}\" data-view-component=\"true\" class=\"btn-sm btn\">    Show hidden characters\n</a>\n</div>\n</div></template>\n<template class=\"js-line-alert-template\">\n  <span aria-label=\"This line has hidden Unicode characters\" data-view-component=\"true\" class=\"line-alert tooltipped tooltipped-e\">\n    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n</span></template>\n\n  <table data-hpc=\"\" class=\"highlight tab-size js-file-line-container js-code-nav-container js-tagsearch-file\" data-tab-size=\"8\" data-paste-markdown-skip=\"\" data-tagsearch-lang=\"YAML\" data-tagsearch-path=\"pipeline-release-without-template.yaml\">\n        <tbody><tr>\n          <td id=\"file-pipeline-release-without-template-yaml-L1\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"1\"></td>\n          <td id=\"file-pipeline-release-without-template-yaml-LC1\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> pipeline.yaml</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-without-template-yaml-L2\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"2\"></td>\n          <td id=\"file-pipeline-release-without-template-yaml-LC2\" class=\"blob-code blob-code-inner js-file-line\">...</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-without-template-yaml-L3\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"3\"></td>\n          <td id=\"file-pipeline-release-without-template-yaml-LC3\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-ent\">stages</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-without-template-yaml-L4\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"4\"></td>\n          <td id=\"file-pipeline-release-without-template-yaml-LC4\" class=\"blob-code blob-code-inner js-file-line\">...</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-without-template-yaml-L5\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"5\"></td>\n          <td id=\"file-pipeline-release-without-template-yaml-LC5\" class=\"blob-code blob-code-inner js-file-line\">- <span class=\"pl-ent\">stage</span>: <span class=\"pl-s\">ReleaseWithoutTemplate</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-without-template-yaml-L6\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"6\"></td>\n          <td id=\"file-pipeline-release-without-template-yaml-LC6\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-ent\">displayName</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Release without Template<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-without-template-yaml-L7\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"7\"></td>\n          <td id=\"file-pipeline-release-without-template-yaml-LC7\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-without-template-yaml-L8\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"8\"></td>\n          <td id=\"file-pipeline-release-without-template-yaml-LC8\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-ent\">jobs</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-without-template-yaml-L9\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"9\"></td>\n          <td id=\"file-pipeline-release-without-template-yaml-LC9\" class=\"blob-code blob-code-inner js-file-line highlighted\">  - <span class=\"pl-ent\">deployment</span>: <span class=\"pl-s\">HostedVs2017</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-without-template-yaml-L10\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"10\"></td>\n          <td id=\"file-pipeline-release-without-template-yaml-LC10\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">displayName</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Hosted VS2017<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-without-template-yaml-L11\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"11\"></td>\n          <td id=\"file-pipeline-release-without-template-yaml-LC11\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">pool</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-without-template-yaml-L12\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"12\"></td>\n          <td id=\"file-pipeline-release-without-template-yaml-LC12\" class=\"blob-code blob-code-inner js-file-line\">      <span class=\"pl-ent\">name</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Hosted VS2017<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-without-template-yaml-L13\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"13\"></td>\n          <td id=\"file-pipeline-release-without-template-yaml-LC13\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-without-template-yaml-L14\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"14\"></td>\n          <td id=\"file-pipeline-release-without-template-yaml-LC14\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">environment</span>: <span class=\"pl-s\">release-without-template</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-without-template-yaml-L15\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"15\"></td>\n          <td id=\"file-pipeline-release-without-template-yaml-LC15\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-without-template-yaml-L16\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"16\"></td>\n          <td id=\"file-pipeline-release-without-template-yaml-LC16\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">variables</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-without-template-yaml-L17\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"17\"></td>\n          <td id=\"file-pipeline-release-without-template-yaml-LC17\" class=\"blob-code blob-code-inner js-file-line\">    - <span class=\"pl-ent\">name</span>: <span class=\"pl-s\">Greeting</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-without-template-yaml-L18\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"18\"></td>\n          <td id=\"file-pipeline-release-without-template-yaml-LC18\" class=\"blob-code blob-code-inner js-file-line\">      <span class=\"pl-ent\">value</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Hello World<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-without-template-yaml-L19\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"19\"></td>\n          <td id=\"file-pipeline-release-without-template-yaml-LC19\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-without-template-yaml-L20\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"20\"></td>\n          <td id=\"file-pipeline-release-without-template-yaml-LC20\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">strategy</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-without-template-yaml-L21\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"21\"></td>\n          <td id=\"file-pipeline-release-without-template-yaml-LC21\" class=\"blob-code blob-code-inner js-file-line\">      <span class=\"pl-ent\">runOnce</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-without-template-yaml-L22\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"22\"></td>\n          <td id=\"file-pipeline-release-without-template-yaml-LC22\" class=\"blob-code blob-code-inner js-file-line\">        <span class=\"pl-ent\">deploy</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-without-template-yaml-L23\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"23\"></td>\n          <td id=\"file-pipeline-release-without-template-yaml-LC23\" class=\"blob-code blob-code-inner js-file-line\">          <span class=\"pl-ent\">steps</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-without-template-yaml-L24\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"24\"></td>\n          <td id=\"file-pipeline-release-without-template-yaml-LC24\" class=\"blob-code blob-code-inner js-file-line\">          - <span class=\"pl-ent\">task</span>: <span class=\"pl-s\">PowerShell@2</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-without-template-yaml-L25\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"25\"></td>\n          <td id=\"file-pipeline-release-without-template-yaml-LC25\" class=\"blob-code blob-code-inner js-file-line\">            <span class=\"pl-ent\">displayName</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Echo Greeting in PowerShell<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-without-template-yaml-L26\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"26\"></td>\n          <td id=\"file-pipeline-release-without-template-yaml-LC26\" class=\"blob-code blob-code-inner js-file-line\">            <span class=\"pl-ent\">inputs</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-without-template-yaml-L27\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"27\"></td>\n          <td id=\"file-pipeline-release-without-template-yaml-LC27\" class=\"blob-code blob-code-inner js-file-line\">              <span class=\"pl-ent\">targetType</span>: <span class=\"pl-s\">Inline</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-without-template-yaml-L28\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"28\"></td>\n          <td id=\"file-pipeline-release-without-template-yaml-LC28\" class=\"blob-code blob-code-inner js-file-line\">              <span class=\"pl-ent\">script</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Write-Host \"$(Greeting)\"<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-without-template-yaml-L29\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"29\"></td>\n          <td id=\"file-pipeline-release-without-template-yaml-LC29\" class=\"blob-code blob-code-inner js-file-line\">...</td>\n        </tr>\n  </tbody></table>\n</div>\n\n\n    </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/justinyoo/41e3c56debe1eaa0bb1d0ac062bb38b9/raw/984693960482c04816812dab27bd1382d85b6226/pipeline-release-without-template.yaml\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/justinyoo/41e3c56debe1eaa0bb1d0ac062bb38b9#file-pipeline-release-without-template-yaml\">\n          pipeline-release-without-template.yaml\n        </a>\n        hosted with ❤ by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div>\n</body></html>\n</div>\n<p>위 코드를 보면 <code class=\"language-text\">Jobs</code> 수준에 <code class=\"language-text\">deployment</code>를 사용해서 작업 단위를 정의한 것을 볼 수 있죠 (line #9)? 이를 실행시킨 결과는 대략 아래와 같습니다.</p>\n<p><img src=\"https://sa0blogs.blob.core.windows.net/aliencube/2019/08/azure-devops-pipelines-refactoring-technics-06.png\" alt=\"리팩토링 전 애저 릴리즈 파이프라인 실행 결과\"></p>\n<p>이제 이 릴리즈 파이프라인을 동일하게 세 곳, <code class=\"language-text\">Steps</code>, <code class=\"language-text\">Jobs</code>, <code class=\"language-text\">Stages</code> 수준에서 리팩토링을 할 수 있습니다. 각각의 리팩토링 방식은 크게 다르지 않으므로 아래 리팩토링 결과만을 적어놓도록 하겠습니다.</p>\n<h2 id=\"릴리즈-파이프라인을-steps-수준에서-리팩토링하기\"><a href=\"#%EB%A6%B4%EB%A6%AC%EC%A6%88-%ED%8C%8C%EC%9D%B4%ED%94%84%EB%9D%BC%EC%9D%B8%EC%9D%84-steps-%EC%88%98%EC%A4%80%EC%97%90%EC%84%9C-%EB%A6%AC%ED%8C%A9%ED%86%A0%EB%A7%81%ED%95%98%EA%B8%B0\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>릴리즈 파이프라인을 <code class=\"language-text\">Steps</code> 수준에서 리팩토링하기</h2>\n<p>우선 <code class=\"language-text\">Steps</code> 수준에서 릴리즈 템플릿을 만들어 보도록 하죠. 부모 템플릿은 아래와 같습니다 (line #24-26).</p>\n<div class=\"gist-embed\">\n    <html><head></head><body><div id=\"gist97932430\" class=\"gist\">\n    <div class=\"gist-file\" translate=\"no\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-pipeline-release-with-steps-template-yaml\" class=\"file my-2\">\n    \n    <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-yaml  \">\n\n        \n<div class=\"js-check-bidi js-blob-code-container blob-code-content\">\n\n  <template class=\"js-file-alert-template\">\n  <div data-view-component=\"true\" class=\"flash flash-warn flash-full d-flex flex-items-center\">\n  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n  \n    <span>\n      This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\n      <a href=\"https://github.co/hiddenchars\" target=\"_blank\">Learn more about bidirectional Unicode characters</a>\n    </span>\n\n\n  <div data-view-component=\"true\" class=\"flash-action\">        <a href=\"{{ revealButtonHref }}\" data-view-component=\"true\" class=\"btn-sm btn\">    Show hidden characters\n</a>\n</div>\n</div></template>\n<template class=\"js-line-alert-template\">\n  <span aria-label=\"This line has hidden Unicode characters\" data-view-component=\"true\" class=\"line-alert tooltipped tooltipped-e\">\n    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n</span></template>\n\n  <table data-hpc=\"\" class=\"highlight tab-size js-file-line-container js-code-nav-container js-tagsearch-file\" data-tab-size=\"8\" data-paste-markdown-skip=\"\" data-tagsearch-lang=\"YAML\" data-tagsearch-path=\"pipeline-release-with-steps-template.yaml\">\n        <tbody><tr>\n          <td id=\"file-pipeline-release-with-steps-template-yaml-L1\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"1\"></td>\n          <td id=\"file-pipeline-release-with-steps-template-yaml-LC1\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> pipeline.yaml</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-steps-template-yaml-L2\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"2\"></td>\n          <td id=\"file-pipeline-release-with-steps-template-yaml-LC2\" class=\"blob-code blob-code-inner js-file-line\">...</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-steps-template-yaml-L3\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"3\"></td>\n          <td id=\"file-pipeline-release-with-steps-template-yaml-LC3\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-ent\">stages</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-steps-template-yaml-L4\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"4\"></td>\n          <td id=\"file-pipeline-release-with-steps-template-yaml-LC4\" class=\"blob-code blob-code-inner js-file-line\">...</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-steps-template-yaml-L5\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"5\"></td>\n          <td id=\"file-pipeline-release-with-steps-template-yaml-LC5\" class=\"blob-code blob-code-inner js-file-line\">- <span class=\"pl-ent\">stage</span>: <span class=\"pl-s\">ReleaseWithStepsTemplate</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-steps-template-yaml-L6\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"6\"></td>\n          <td id=\"file-pipeline-release-with-steps-template-yaml-LC6\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-ent\">displayName</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Release with Steps Template<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-steps-template-yaml-L7\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"7\"></td>\n          <td id=\"file-pipeline-release-with-steps-template-yaml-LC7\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-steps-template-yaml-L8\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"8\"></td>\n          <td id=\"file-pipeline-release-with-steps-template-yaml-LC8\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-ent\">jobs</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-steps-template-yaml-L9\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"9\"></td>\n          <td id=\"file-pipeline-release-with-steps-template-yaml-LC9\" class=\"blob-code blob-code-inner js-file-line\">  - <span class=\"pl-ent\">deployment</span>: <span class=\"pl-s\">HostedVs2017</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-steps-template-yaml-L10\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"10\"></td>\n          <td id=\"file-pipeline-release-with-steps-template-yaml-LC10\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">displayName</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Hosted VS2017<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-steps-template-yaml-L11\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"11\"></td>\n          <td id=\"file-pipeline-release-with-steps-template-yaml-LC11\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">pool</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-steps-template-yaml-L12\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"12\"></td>\n          <td id=\"file-pipeline-release-with-steps-template-yaml-LC12\" class=\"blob-code blob-code-inner js-file-line\">      <span class=\"pl-ent\">name</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Hosted VS2017<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-steps-template-yaml-L13\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"13\"></td>\n          <td id=\"file-pipeline-release-with-steps-template-yaml-LC13\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-steps-template-yaml-L14\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"14\"></td>\n          <td id=\"file-pipeline-release-with-steps-template-yaml-LC14\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">environment</span>: <span class=\"pl-s\">release-with-steps-template</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-steps-template-yaml-L15\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"15\"></td>\n          <td id=\"file-pipeline-release-with-steps-template-yaml-LC15\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-steps-template-yaml-L16\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"16\"></td>\n          <td id=\"file-pipeline-release-with-steps-template-yaml-LC16\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">variables</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-steps-template-yaml-L17\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"17\"></td>\n          <td id=\"file-pipeline-release-with-steps-template-yaml-LC17\" class=\"blob-code blob-code-inner js-file-line\">    - <span class=\"pl-ent\">name</span>: <span class=\"pl-s\">Greeting</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-steps-template-yaml-L18\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"18\"></td>\n          <td id=\"file-pipeline-release-with-steps-template-yaml-LC18\" class=\"blob-code blob-code-inner js-file-line\">      <span class=\"pl-ent\">value</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Hello World<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-steps-template-yaml-L19\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"19\"></td>\n          <td id=\"file-pipeline-release-with-steps-template-yaml-LC19\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-steps-template-yaml-L20\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"20\"></td>\n          <td id=\"file-pipeline-release-with-steps-template-yaml-LC20\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">strategy</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-steps-template-yaml-L21\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"21\"></td>\n          <td id=\"file-pipeline-release-with-steps-template-yaml-LC21\" class=\"blob-code blob-code-inner js-file-line\">      <span class=\"pl-ent\">runOnce</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-steps-template-yaml-L22\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"22\"></td>\n          <td id=\"file-pipeline-release-with-steps-template-yaml-LC22\" class=\"blob-code blob-code-inner js-file-line\">        <span class=\"pl-ent\">deploy</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-steps-template-yaml-L23\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"23\"></td>\n          <td id=\"file-pipeline-release-with-steps-template-yaml-LC23\" class=\"blob-code blob-code-inner js-file-line\">          <span class=\"pl-ent\">steps</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-steps-template-yaml-L24\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"24\"></td>\n          <td id=\"file-pipeline-release-with-steps-template-yaml-LC24\" class=\"blob-code blob-code-inner js-file-line highlighted\">          - <span class=\"pl-ent\">template</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>template-steps-release.yaml<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-steps-template-yaml-L25\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"25\"></td>\n          <td id=\"file-pipeline-release-with-steps-template-yaml-LC25\" class=\"blob-code blob-code-inner js-file-line highlighted\">            <span class=\"pl-ent\">parameters</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-steps-template-yaml-L26\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"26\"></td>\n          <td id=\"file-pipeline-release-with-steps-template-yaml-LC26\" class=\"blob-code blob-code-inner js-file-line highlighted\">              <span class=\"pl-ent\">message</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>This is from the steps template<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-steps-template-yaml-L27\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"27\"></td>\n          <td id=\"file-pipeline-release-with-steps-template-yaml-LC27\" class=\"blob-code blob-code-inner js-file-line\">...</td>\n        </tr>\n  </tbody></table>\n</div>\n\n\n    </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/justinyoo/41e3c56debe1eaa0bb1d0ac062bb38b9/raw/984693960482c04816812dab27bd1382d85b6226/pipeline-release-with-steps-template.yaml\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/justinyoo/41e3c56debe1eaa0bb1d0ac062bb38b9#file-pipeline-release-with-steps-template-yaml\">\n          pipeline-release-with-steps-template.yaml\n        </a>\n        hosted with ❤ by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div>\n</body></html>\n</div>\n<p>그리고 템플릿으로 빼낸 <code class=\"language-text\">Steps</code>는 아래와 같습니다. 앞서 빌드 파이프라인에서 사용한 템플릿과 구조가 다르지 않죠 (line #2-3)?</p>\n<div class=\"gist-embed\">\n    <html><head></head><body><div id=\"gist97932430\" class=\"gist\">\n    <div class=\"gist-file\" translate=\"no\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-template-steps-release-yaml\" class=\"file my-2\">\n    \n    <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-yaml  \">\n\n        \n<div class=\"js-check-bidi js-blob-code-container blob-code-content\">\n\n  <template class=\"js-file-alert-template\">\n  <div data-view-component=\"true\" class=\"flash flash-warn flash-full d-flex flex-items-center\">\n  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n  \n    <span>\n      This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\n      <a href=\"https://github.co/hiddenchars\" target=\"_blank\">Learn more about bidirectional Unicode characters</a>\n    </span>\n\n\n  <div data-view-component=\"true\" class=\"flash-action\">        <a href=\"{{ revealButtonHref }}\" data-view-component=\"true\" class=\"btn-sm btn\">    Show hidden characters\n</a>\n</div>\n</div></template>\n<template class=\"js-line-alert-template\">\n  <span aria-label=\"This line has hidden Unicode characters\" data-view-component=\"true\" class=\"line-alert tooltipped tooltipped-e\">\n    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n</span></template>\n\n  <table data-hpc=\"\" class=\"highlight tab-size js-file-line-container js-code-nav-container js-tagsearch-file\" data-tab-size=\"8\" data-paste-markdown-skip=\"\" data-tagsearch-lang=\"YAML\" data-tagsearch-path=\"template-steps-release.yaml\">\n        <tbody><tr>\n          <td id=\"file-template-steps-release-yaml-L1\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"1\"></td>\n          <td id=\"file-template-steps-release-yaml-LC1\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> template-steps-release.yaml</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-steps-release-yaml-L2\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"2\"></td>\n          <td id=\"file-template-steps-release-yaml-LC2\" class=\"blob-code blob-code-inner js-file-line highlighted\"><span class=\"pl-ent\">parameters</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-steps-release-yaml-L3\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"3\"></td>\n          <td id=\"file-template-steps-release-yaml-LC3\" class=\"blob-code blob-code-inner js-file-line highlighted\">  <span class=\"pl-ent\">message</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span><span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-steps-release-yaml-L4\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"4\"></td>\n          <td id=\"file-template-steps-release-yaml-LC4\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-steps-release-yaml-L5\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"5\"></td>\n          <td id=\"file-template-steps-release-yaml-LC5\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-ent\">steps</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-steps-release-yaml-L6\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"6\"></td>\n          <td id=\"file-template-steps-release-yaml-LC6\" class=\"blob-code blob-code-inner js-file-line\">- <span class=\"pl-ent\">task</span>: <span class=\"pl-s\">PowerShell@2</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-steps-release-yaml-L7\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"7\"></td>\n          <td id=\"file-template-steps-release-yaml-LC7\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-ent\">displayName</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Echo Greeting in PowerShell<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-steps-release-yaml-L8\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"8\"></td>\n          <td id=\"file-template-steps-release-yaml-LC8\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-ent\">inputs</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-steps-release-yaml-L9\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"9\"></td>\n          <td id=\"file-template-steps-release-yaml-LC9\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">targetType</span>: <span class=\"pl-s\">Inline</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-steps-release-yaml-L10\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"10\"></td>\n          <td id=\"file-template-steps-release-yaml-LC10\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">script</span>: <span class=\"pl-s\">|</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-steps-release-yaml-L11\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"11\"></td>\n          <td id=\"file-template-steps-release-yaml-LC11\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s\">      Write-Host \"$(Greeting)\"</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-steps-release-yaml-L12\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"12\"></td>\n          <td id=\"file-template-steps-release-yaml-LC12\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s\">      Write-Host \"${{ parameters.message }}\"</span></td>\n        </tr>\n  </tbody></table>\n</div>\n\n\n    </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/justinyoo/41e3c56debe1eaa0bb1d0ac062bb38b9/raw/984693960482c04816812dab27bd1382d85b6226/template-steps-release.yaml\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/justinyoo/41e3c56debe1eaa0bb1d0ac062bb38b9#file-template-steps-release-yaml\">\n          template-steps-release.yaml\n        </a>\n        hosted with ❤ by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div>\n</body></html>\n</div>\n<p>그리고 그 결과를 보면 아래와 같습니다.</p>\n<p><img src=\"https://sa0blogs.blob.core.windows.net/aliencube/2019/08/azure-devops-pipelines-refactoring-technics-07.png\" alt=\"Steps 수준 리팩토링 후 애저 릴리즈 파이프라인 실행 결과\"></p>\n<h2 id=\"릴리즈-파이프라인을-jobs-수준에서-리팩토링하기\"><a href=\"#%EB%A6%B4%EB%A6%AC%EC%A6%88-%ED%8C%8C%EC%9D%B4%ED%94%84%EB%9D%BC%EC%9D%B8%EC%9D%84-jobs-%EC%88%98%EC%A4%80%EC%97%90%EC%84%9C-%EB%A6%AC%ED%8C%A9%ED%86%A0%EB%A7%81%ED%95%98%EA%B8%B0\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>릴리즈 파이프라인을 <code class=\"language-text\">Jobs</code> 수준에서 리팩토링하기</h2>\n<p>이번에는 릴리즈 파이프라인을 <code class=\"language-text\">Jobs</code> 수준에서 리팩토링해 보겠습니다 (line #13-17).</p>\n<div class=\"gist-embed\">\n    <html><head></head><body><div id=\"gist97932430\" class=\"gist\">\n    <div class=\"gist-file\" translate=\"no\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-pipeline-release-with-jobs-template-yaml\" class=\"file my-2\">\n    \n    <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-yaml  \">\n\n        \n<div class=\"js-check-bidi js-blob-code-container blob-code-content\">\n\n  <template class=\"js-file-alert-template\">\n  <div data-view-component=\"true\" class=\"flash flash-warn flash-full d-flex flex-items-center\">\n  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n  \n    <span>\n      This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\n      <a href=\"https://github.co/hiddenchars\" target=\"_blank\">Learn more about bidirectional Unicode characters</a>\n    </span>\n\n\n  <div data-view-component=\"true\" class=\"flash-action\">        <a href=\"{{ revealButtonHref }}\" data-view-component=\"true\" class=\"btn-sm btn\">    Show hidden characters\n</a>\n</div>\n</div></template>\n<template class=\"js-line-alert-template\">\n  <span aria-label=\"This line has hidden Unicode characters\" data-view-component=\"true\" class=\"line-alert tooltipped tooltipped-e\">\n    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n</span></template>\n\n  <table data-hpc=\"\" class=\"highlight tab-size js-file-line-container js-code-nav-container js-tagsearch-file\" data-tab-size=\"8\" data-paste-markdown-skip=\"\" data-tagsearch-lang=\"YAML\" data-tagsearch-path=\"pipeline-release-with-jobs-template.yaml\">\n        <tbody><tr>\n          <td id=\"file-pipeline-release-with-jobs-template-yaml-L1\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"1\"></td>\n          <td id=\"file-pipeline-release-with-jobs-template-yaml-LC1\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> pipeline.yaml</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-jobs-template-yaml-L2\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"2\"></td>\n          <td id=\"file-pipeline-release-with-jobs-template-yaml-LC2\" class=\"blob-code blob-code-inner js-file-line\">...</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-jobs-template-yaml-L3\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"3\"></td>\n          <td id=\"file-pipeline-release-with-jobs-template-yaml-LC3\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-ent\">stages</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-jobs-template-yaml-L4\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"4\"></td>\n          <td id=\"file-pipeline-release-with-jobs-template-yaml-LC4\" class=\"blob-code blob-code-inner js-file-line\">...</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-jobs-template-yaml-L5\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"5\"></td>\n          <td id=\"file-pipeline-release-with-jobs-template-yaml-LC5\" class=\"blob-code blob-code-inner js-file-line\">- <span class=\"pl-ent\">stage</span>: <span class=\"pl-s\">ReleaseWithJobsTemplate</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-jobs-template-yaml-L6\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"6\"></td>\n          <td id=\"file-pipeline-release-with-jobs-template-yaml-LC6\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-ent\">displayName</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Release with Jobs Template<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-jobs-template-yaml-L7\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"7\"></td>\n          <td id=\"file-pipeline-release-with-jobs-template-yaml-LC7\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-jobs-template-yaml-L8\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"8\"></td>\n          <td id=\"file-pipeline-release-with-jobs-template-yaml-LC8\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-ent\">variables</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-jobs-template-yaml-L9\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"9\"></td>\n          <td id=\"file-pipeline-release-with-jobs-template-yaml-LC9\" class=\"blob-code blob-code-inner js-file-line\">  - <span class=\"pl-ent\">name</span>: <span class=\"pl-s\">Greeting</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-jobs-template-yaml-L10\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"10\"></td>\n          <td id=\"file-pipeline-release-with-jobs-template-yaml-LC10\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">value</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Hello World<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-jobs-template-yaml-L11\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"11\"></td>\n          <td id=\"file-pipeline-release-with-jobs-template-yaml-LC11\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-jobs-template-yaml-L12\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"12\"></td>\n          <td id=\"file-pipeline-release-with-jobs-template-yaml-LC12\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-ent\">jobs</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-jobs-template-yaml-L13\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"13\"></td>\n          <td id=\"file-pipeline-release-with-jobs-template-yaml-LC13\" class=\"blob-code blob-code-inner js-file-line highlighted\">  - <span class=\"pl-ent\">template</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>template-jobs-release.yaml<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-jobs-template-yaml-L14\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"14\"></td>\n          <td id=\"file-pipeline-release-with-jobs-template-yaml-LC14\" class=\"blob-code blob-code-inner js-file-line highlighted\">    <span class=\"pl-ent\">parameters</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-jobs-template-yaml-L15\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"15\"></td>\n          <td id=\"file-pipeline-release-with-jobs-template-yaml-LC15\" class=\"blob-code blob-code-inner js-file-line highlighted\">      <span class=\"pl-ent\">templateLevel</span>: <span class=\"pl-s\">jobs</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-jobs-template-yaml-L16\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"16\"></td>\n          <td id=\"file-pipeline-release-with-jobs-template-yaml-LC16\" class=\"blob-code blob-code-inner js-file-line highlighted\">      <span class=\"pl-ent\">vmImage</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>vs2017-win2016<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-jobs-template-yaml-L17\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"17\"></td>\n          <td id=\"file-pipeline-release-with-jobs-template-yaml-LC17\" class=\"blob-code blob-code-inner js-file-line highlighted\">      <span class=\"pl-ent\">message</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>This is from the jobs template<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-jobs-template-yaml-L18\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"18\"></td>\n          <td id=\"file-pipeline-release-with-jobs-template-yaml-LC18\" class=\"blob-code blob-code-inner js-file-line\">...</td>\n        </tr>\n  </tbody></table>\n</div>\n\n\n    </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/justinyoo/41e3c56debe1eaa0bb1d0ac062bb38b9/raw/984693960482c04816812dab27bd1382d85b6226/pipeline-release-with-jobs-template.yaml\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/justinyoo/41e3c56debe1eaa0bb1d0ac062bb38b9#file-pipeline-release-with-jobs-template-yaml\">\n          pipeline-release-with-jobs-template.yaml\n        </a>\n        hosted with ❤ by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div>\n</body></html>\n</div>\n<p>그리고 리팩토링한 템플릿은 아래와 같습니다. 여기서 눈여겨 봐야 할 부분은 바로 <a href=\"https://docs.microsoft.com/ko-kr/azure/devops/pipelines/process/environments?view=azure-devops&#x26;WT.mc_id=devops-12575-juyoo&#x26;ocid=AID3027813\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><code class=\"language-text\">environment</code></a> 이름도 파라미터로 처리가 가능하다는 점입니다 (line #14). 즉, 거의 대부분의 설정을 부모 파이프라인에서 파라미터로 내려주면 템플릿에서 받아 처리가 가능합니다 (line #2-5).</p>\n<div class=\"gist-embed\">\n    <html><head></head><body><div id=\"gist97932430\" class=\"gist\">\n    <div class=\"gist-file\" translate=\"no\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-template-jobs-release-yaml\" class=\"file my-2\">\n    \n    <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-yaml  \">\n\n        \n<div class=\"js-check-bidi js-blob-code-container blob-code-content\">\n\n  <template class=\"js-file-alert-template\">\n  <div data-view-component=\"true\" class=\"flash flash-warn flash-full d-flex flex-items-center\">\n  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n  \n    <span>\n      This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\n      <a href=\"https://github.co/hiddenchars\" target=\"_blank\">Learn more about bidirectional Unicode characters</a>\n    </span>\n\n\n  <div data-view-component=\"true\" class=\"flash-action\">        <a href=\"{{ revealButtonHref }}\" data-view-component=\"true\" class=\"btn-sm btn\">    Show hidden characters\n</a>\n</div>\n</div></template>\n<template class=\"js-line-alert-template\">\n  <span aria-label=\"This line has hidden Unicode characters\" data-view-component=\"true\" class=\"line-alert tooltipped tooltipped-e\">\n    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n</span></template>\n\n  <table data-hpc=\"\" class=\"highlight tab-size js-file-line-container js-code-nav-container js-tagsearch-file\" data-tab-size=\"8\" data-paste-markdown-skip=\"\" data-tagsearch-lang=\"YAML\" data-tagsearch-path=\"template-jobs-release.yaml\">\n        <tbody><tr>\n          <td id=\"file-template-jobs-release-yaml-L1\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"1\"></td>\n          <td id=\"file-template-jobs-release-yaml-LC1\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> template-jobs-release.yaml</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-release-yaml-L2\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"2\"></td>\n          <td id=\"file-template-jobs-release-yaml-LC2\" class=\"blob-code blob-code-inner js-file-line highlighted\"><span class=\"pl-ent\">parameters</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-release-yaml-L3\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"3\"></td>\n          <td id=\"file-template-jobs-release-yaml-LC3\" class=\"blob-code blob-code-inner js-file-line highlighted\">  <span class=\"pl-ent\">templateLevel</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span><span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-release-yaml-L4\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"4\"></td>\n          <td id=\"file-template-jobs-release-yaml-LC4\" class=\"blob-code blob-code-inner js-file-line highlighted\">  <span class=\"pl-ent\">vmImage</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span><span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-release-yaml-L5\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"5\"></td>\n          <td id=\"file-template-jobs-release-yaml-LC5\" class=\"blob-code blob-code-inner js-file-line highlighted\">  <span class=\"pl-ent\">message</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span><span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-release-yaml-L6\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"6\"></td>\n          <td id=\"file-template-jobs-release-yaml-LC6\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-release-yaml-L7\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"7\"></td>\n          <td id=\"file-template-jobs-release-yaml-LC7\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-ent\">jobs</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-release-yaml-L8\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"8\"></td>\n          <td id=\"file-template-jobs-release-yaml-LC8\" class=\"blob-code blob-code-inner js-file-line\">- <span class=\"pl-ent\">deployment</span>: <span class=\"pl-s\">TemplatedRelease</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-release-yaml-L9\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"9\"></td>\n          <td id=\"file-template-jobs-release-yaml-LC9\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-ent\">displayName</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Templated Release<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-release-yaml-L10\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"10\"></td>\n          <td id=\"file-template-jobs-release-yaml-LC10\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-release-yaml-L11\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"11\"></td>\n          <td id=\"file-template-jobs-release-yaml-LC11\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-ent\">pool</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-release-yaml-L12\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"12\"></td>\n          <td id=\"file-template-jobs-release-yaml-LC12\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">vmImage</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>${{ parameters.vmImage }}<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-release-yaml-L13\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"13\"></td>\n          <td id=\"file-template-jobs-release-yaml-LC13\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-release-yaml-L14\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"14\"></td>\n          <td id=\"file-template-jobs-release-yaml-LC14\" class=\"blob-code blob-code-inner js-file-line highlighted\">  <span class=\"pl-ent\">environment</span>: <span class=\"pl-s\">release-with-${{ parameters.templateLevel }}-template</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-release-yaml-L15\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"15\"></td>\n          <td id=\"file-template-jobs-release-yaml-LC15\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-release-yaml-L16\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"16\"></td>\n          <td id=\"file-template-jobs-release-yaml-LC16\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-ent\">strategy</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-release-yaml-L17\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"17\"></td>\n          <td id=\"file-template-jobs-release-yaml-LC17\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">runOnce</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-release-yaml-L18\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"18\"></td>\n          <td id=\"file-template-jobs-release-yaml-LC18\" class=\"blob-code blob-code-inner js-file-line\">      <span class=\"pl-ent\">deploy</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-release-yaml-L19\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"19\"></td>\n          <td id=\"file-template-jobs-release-yaml-LC19\" class=\"blob-code blob-code-inner js-file-line\">        <span class=\"pl-ent\">steps</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-release-yaml-L20\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"20\"></td>\n          <td id=\"file-template-jobs-release-yaml-LC20\" class=\"blob-code blob-code-inner js-file-line\">        - <span class=\"pl-ent\">task</span>: <span class=\"pl-s\">PowerShell@2</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-release-yaml-L21\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"21\"></td>\n          <td id=\"file-template-jobs-release-yaml-LC21\" class=\"blob-code blob-code-inner js-file-line\">          <span class=\"pl-ent\">displayName</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Echo Greeting in PowerShell<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-release-yaml-L22\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"22\"></td>\n          <td id=\"file-template-jobs-release-yaml-LC22\" class=\"blob-code blob-code-inner js-file-line\">          <span class=\"pl-ent\">inputs</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-release-yaml-L23\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"23\"></td>\n          <td id=\"file-template-jobs-release-yaml-LC23\" class=\"blob-code blob-code-inner js-file-line\">            <span class=\"pl-ent\">targetType</span>: <span class=\"pl-s\">Inline</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-release-yaml-L24\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"24\"></td>\n          <td id=\"file-template-jobs-release-yaml-LC24\" class=\"blob-code blob-code-inner js-file-line\">            <span class=\"pl-ent\">script</span>: <span class=\"pl-s\">|</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-release-yaml-L25\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"25\"></td>\n          <td id=\"file-template-jobs-release-yaml-LC25\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s\">              Write-Host \"$(Greeting)\"</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-release-yaml-L26\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"26\"></td>\n          <td id=\"file-template-jobs-release-yaml-LC26\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s\">              Write-Host \"${{ parameters.message }}\"</span></td>\n        </tr>\n  </tbody></table>\n</div>\n\n\n    </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/justinyoo/41e3c56debe1eaa0bb1d0ac062bb38b9/raw/984693960482c04816812dab27bd1382d85b6226/template-jobs-release.yaml\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/justinyoo/41e3c56debe1eaa0bb1d0ac062bb38b9#file-template-jobs-release-yaml\">\n          template-jobs-release.yaml\n        </a>\n        hosted with ❤ by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div>\n</body></html>\n</div>\n<p><img src=\"https://sa0blogs.blob.core.windows.net/aliencube/2019/08/azure-devops-pipelines-refactoring-technics-08.png\" alt=\"Jobs 수준 리팩토링 후 애저 릴리즈 파이프라인 실행 결과\"></p>\n<h2 id=\"릴리즈-파이프라인을-stages-수준에서-리팩토링하기\"><a href=\"#%EB%A6%B4%EB%A6%AC%EC%A6%88-%ED%8C%8C%EC%9D%B4%ED%94%84%EB%9D%BC%EC%9D%B8%EC%9D%84-stages-%EC%88%98%EC%A4%80%EC%97%90%EC%84%9C-%EB%A6%AC%ED%8C%A9%ED%86%A0%EB%A7%81%ED%95%98%EA%B8%B0\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>릴리즈 파이프라인을 <code class=\"language-text\">Stages</code> 수준에서 리팩토링하기</h2>\n<p>더 이상의 자세한 설명은 생략합니다 (line #5-9). 😉</p>\n<div class=\"gist-embed\">\n    <html><head></head><body><div id=\"gist97932430\" class=\"gist\">\n    <div class=\"gist-file\" translate=\"no\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-pipeline-release-with-stages-template-yaml\" class=\"file my-2\">\n    \n    <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-yaml  \">\n\n        \n<div class=\"js-check-bidi js-blob-code-container blob-code-content\">\n\n  <template class=\"js-file-alert-template\">\n  <div data-view-component=\"true\" class=\"flash flash-warn flash-full d-flex flex-items-center\">\n  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n  \n    <span>\n      This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\n      <a href=\"https://github.co/hiddenchars\" target=\"_blank\">Learn more about bidirectional Unicode characters</a>\n    </span>\n\n\n  <div data-view-component=\"true\" class=\"flash-action\">        <a href=\"{{ revealButtonHref }}\" data-view-component=\"true\" class=\"btn-sm btn\">    Show hidden characters\n</a>\n</div>\n</div></template>\n<template class=\"js-line-alert-template\">\n  <span aria-label=\"This line has hidden Unicode characters\" data-view-component=\"true\" class=\"line-alert tooltipped tooltipped-e\">\n    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n</span></template>\n\n  <table data-hpc=\"\" class=\"highlight tab-size js-file-line-container js-code-nav-container js-tagsearch-file\" data-tab-size=\"8\" data-paste-markdown-skip=\"\" data-tagsearch-lang=\"YAML\" data-tagsearch-path=\"pipeline-release-with-stages-template.yaml\">\n        <tbody><tr>\n          <td id=\"file-pipeline-release-with-stages-template-yaml-L1\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"1\"></td>\n          <td id=\"file-pipeline-release-with-stages-template-yaml-LC1\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> pipeline.yaml</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-stages-template-yaml-L2\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"2\"></td>\n          <td id=\"file-pipeline-release-with-stages-template-yaml-LC2\" class=\"blob-code blob-code-inner js-file-line\">...</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-stages-template-yaml-L3\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"3\"></td>\n          <td id=\"file-pipeline-release-with-stages-template-yaml-LC3\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-ent\">stages</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-stages-template-yaml-L4\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"4\"></td>\n          <td id=\"file-pipeline-release-with-stages-template-yaml-LC4\" class=\"blob-code blob-code-inner js-file-line\">...</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-stages-template-yaml-L5\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"5\"></td>\n          <td id=\"file-pipeline-release-with-stages-template-yaml-LC5\" class=\"blob-code blob-code-inner js-file-line highlighted\">- <span class=\"pl-ent\">template</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>template-stages-release.yaml<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-stages-template-yaml-L6\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"6\"></td>\n          <td id=\"file-pipeline-release-with-stages-template-yaml-LC6\" class=\"blob-code blob-code-inner js-file-line highlighted\">  <span class=\"pl-ent\">parameters</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-stages-template-yaml-L7\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"7\"></td>\n          <td id=\"file-pipeline-release-with-stages-template-yaml-LC7\" class=\"blob-code blob-code-inner js-file-line highlighted\">    <span class=\"pl-ent\">templateLevel</span>: <span class=\"pl-s\">stages</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-stages-template-yaml-L8\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"8\"></td>\n          <td id=\"file-pipeline-release-with-stages-template-yaml-LC8\" class=\"blob-code blob-code-inner js-file-line highlighted\">    <span class=\"pl-ent\">vmImage</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>ubuntu-16.04<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-stages-template-yaml-L9\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"9\"></td>\n          <td id=\"file-pipeline-release-with-stages-template-yaml-LC9\" class=\"blob-code blob-code-inner js-file-line highlighted\">    <span class=\"pl-ent\">message</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>This is from the stages template<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-stages-template-yaml-L10\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"10\"></td>\n          <td id=\"file-pipeline-release-with-stages-template-yaml-LC10\" class=\"blob-code blob-code-inner js-file-line\">...</td>\n        </tr>\n  </tbody></table>\n</div>\n\n\n    </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/justinyoo/41e3c56debe1eaa0bb1d0ac062bb38b9/raw/984693960482c04816812dab27bd1382d85b6226/pipeline-release-with-stages-template.yaml\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/justinyoo/41e3c56debe1eaa0bb1d0ac062bb38b9#file-pipeline-release-with-stages-template-yaml\">\n          pipeline-release-with-stages-template.yaml\n        </a>\n        hosted with ❤ by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div>\n</body></html>\n</div>\n<div class=\"gist-embed\">\n    <html><head></head><body><div id=\"gist97932430\" class=\"gist\">\n    <div class=\"gist-file\" translate=\"no\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-tmplate-stages-release-yaml\" class=\"file my-2\">\n    \n    <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-yaml  \">\n\n        \n<div class=\"js-check-bidi js-blob-code-container blob-code-content\">\n\n  <template class=\"js-file-alert-template\">\n  <div data-view-component=\"true\" class=\"flash flash-warn flash-full d-flex flex-items-center\">\n  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n  \n    <span>\n      This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\n      <a href=\"https://github.co/hiddenchars\" target=\"_blank\">Learn more about bidirectional Unicode characters</a>\n    </span>\n\n\n  <div data-view-component=\"true\" class=\"flash-action\">        <a href=\"{{ revealButtonHref }}\" data-view-component=\"true\" class=\"btn-sm btn\">    Show hidden characters\n</a>\n</div>\n</div></template>\n<template class=\"js-line-alert-template\">\n  <span aria-label=\"This line has hidden Unicode characters\" data-view-component=\"true\" class=\"line-alert tooltipped tooltipped-e\">\n    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n</span></template>\n\n  <table data-hpc=\"\" class=\"highlight tab-size js-file-line-container js-code-nav-container js-tagsearch-file\" data-tab-size=\"8\" data-paste-markdown-skip=\"\" data-tagsearch-lang=\"YAML\" data-tagsearch-path=\"tmplate-stages-release.yaml\">\n        <tbody><tr>\n          <td id=\"file-tmplate-stages-release-yaml-L1\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"1\"></td>\n          <td id=\"file-tmplate-stages-release-yaml-LC1\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> tmplate-stages-release.yaml</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-tmplate-stages-release-yaml-L2\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"2\"></td>\n          <td id=\"file-tmplate-stages-release-yaml-LC2\" class=\"blob-code blob-code-inner js-file-line highlighted\"><span class=\"pl-ent\">parameters</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-tmplate-stages-release-yaml-L3\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"3\"></td>\n          <td id=\"file-tmplate-stages-release-yaml-LC3\" class=\"blob-code blob-code-inner js-file-line highlighted\">  <span class=\"pl-ent\">templateLevel</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span><span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-tmplate-stages-release-yaml-L4\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"4\"></td>\n          <td id=\"file-tmplate-stages-release-yaml-LC4\" class=\"blob-code blob-code-inner js-file-line highlighted\">  <span class=\"pl-ent\">vmImage</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span><span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-tmplate-stages-release-yaml-L5\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"5\"></td>\n          <td id=\"file-tmplate-stages-release-yaml-LC5\" class=\"blob-code blob-code-inner js-file-line highlighted\">  <span class=\"pl-ent\">message</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span><span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-tmplate-stages-release-yaml-L6\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"6\"></td>\n          <td id=\"file-tmplate-stages-release-yaml-LC6\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-tmplate-stages-release-yaml-L7\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"7\"></td>\n          <td id=\"file-tmplate-stages-release-yaml-LC7\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-ent\">stages</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-tmplate-stages-release-yaml-L8\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"8\"></td>\n          <td id=\"file-tmplate-stages-release-yaml-LC8\" class=\"blob-code blob-code-inner js-file-line\">- <span class=\"pl-ent\">stage</span>: <span class=\"pl-s\">ReleaseWithStagesTemplate</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-tmplate-stages-release-yaml-L9\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"9\"></td>\n          <td id=\"file-tmplate-stages-release-yaml-LC9\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-ent\">displayName</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Release with Stages Template<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-tmplate-stages-release-yaml-L10\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"10\"></td>\n          <td id=\"file-tmplate-stages-release-yaml-LC10\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-tmplate-stages-release-yaml-L11\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"11\"></td>\n          <td id=\"file-tmplate-stages-release-yaml-LC11\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-ent\">jobs</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-tmplate-stages-release-yaml-L12\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"12\"></td>\n          <td id=\"file-tmplate-stages-release-yaml-LC12\" class=\"blob-code blob-code-inner js-file-line\">  - <span class=\"pl-ent\">deployment</span>: <span class=\"pl-s\">TemplatedStage</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-tmplate-stages-release-yaml-L13\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"13\"></td>\n          <td id=\"file-tmplate-stages-release-yaml-LC13\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">displayName</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Templated Stage<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-tmplate-stages-release-yaml-L14\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"14\"></td>\n          <td id=\"file-tmplate-stages-release-yaml-LC14\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-tmplate-stages-release-yaml-L15\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"15\"></td>\n          <td id=\"file-tmplate-stages-release-yaml-LC15\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">pool</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-tmplate-stages-release-yaml-L16\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"16\"></td>\n          <td id=\"file-tmplate-stages-release-yaml-LC16\" class=\"blob-code blob-code-inner js-file-line\">      <span class=\"pl-ent\">vmImage</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>${{ parameters.vmImage }}<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-tmplate-stages-release-yaml-L17\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"17\"></td>\n          <td id=\"file-tmplate-stages-release-yaml-LC17\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-tmplate-stages-release-yaml-L18\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"18\"></td>\n          <td id=\"file-tmplate-stages-release-yaml-LC18\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">environment</span>: <span class=\"pl-s\">release-with-${{ parameters.templateLevel }}-template</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-tmplate-stages-release-yaml-L19\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"19\"></td>\n          <td id=\"file-tmplate-stages-release-yaml-LC19\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-tmplate-stages-release-yaml-L20\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"20\"></td>\n          <td id=\"file-tmplate-stages-release-yaml-LC20\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">strategy</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-tmplate-stages-release-yaml-L21\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"21\"></td>\n          <td id=\"file-tmplate-stages-release-yaml-LC21\" class=\"blob-code blob-code-inner js-file-line\">      <span class=\"pl-ent\">runOnce</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-tmplate-stages-release-yaml-L22\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"22\"></td>\n          <td id=\"file-tmplate-stages-release-yaml-LC22\" class=\"blob-code blob-code-inner js-file-line\">        <span class=\"pl-ent\">deploy</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-tmplate-stages-release-yaml-L23\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"23\"></td>\n          <td id=\"file-tmplate-stages-release-yaml-LC23\" class=\"blob-code blob-code-inner js-file-line\">          <span class=\"pl-ent\">steps</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-tmplate-stages-release-yaml-L24\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"24\"></td>\n          <td id=\"file-tmplate-stages-release-yaml-LC24\" class=\"blob-code blob-code-inner js-file-line\">          - <span class=\"pl-ent\">task</span>: <span class=\"pl-s\">PowerShell@2</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-tmplate-stages-release-yaml-L25\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"25\"></td>\n          <td id=\"file-tmplate-stages-release-yaml-LC25\" class=\"blob-code blob-code-inner js-file-line\">            <span class=\"pl-ent\">displayName</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Echo Greeting in PowerShell<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-tmplate-stages-release-yaml-L26\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"26\"></td>\n          <td id=\"file-tmplate-stages-release-yaml-LC26\" class=\"blob-code blob-code-inner js-file-line\">            <span class=\"pl-ent\">inputs</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-tmplate-stages-release-yaml-L27\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"27\"></td>\n          <td id=\"file-tmplate-stages-release-yaml-LC27\" class=\"blob-code blob-code-inner js-file-line\">              <span class=\"pl-ent\">targetType</span>: <span class=\"pl-s\">Inline</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-tmplate-stages-release-yaml-L28\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"28\"></td>\n          <td id=\"file-tmplate-stages-release-yaml-LC28\" class=\"blob-code blob-code-inner js-file-line\">              <span class=\"pl-ent\">script</span>: <span class=\"pl-s\">|</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-tmplate-stages-release-yaml-L29\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"29\"></td>\n          <td id=\"file-tmplate-stages-release-yaml-LC29\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s\">                Write-Host \"$(Greeting)\"</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-tmplate-stages-release-yaml-L30\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"30\"></td>\n          <td id=\"file-tmplate-stages-release-yaml-LC30\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s\">                Write-Host \"${{ parameters.message }}\"</span></td>\n        </tr>\n  </tbody></table>\n</div>\n\n\n    </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/justinyoo/41e3c56debe1eaa0bb1d0ac062bb38b9/raw/984693960482c04816812dab27bd1382d85b6226/tmplate-stages-release.yaml\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/justinyoo/41e3c56debe1eaa0bb1d0ac062bb38b9#file-tmplate-stages-release-yaml\">\n          tmplate-stages-release.yaml\n        </a>\n        hosted with ❤ by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div>\n</body></html>\n</div>\n<p><img src=\"https://sa0blogs.blob.core.windows.net/aliencube/2019/08/azure-devops-pipelines-refactoring-technics-09.png\" alt=\"Stages 수준 리팩토링 후 애저 릴리즈 파이프라인 실행 결과\"></p>\n<h2 id=\"릴리즈-파이프라인을-다단계-템플릿으로-리팩토링하기\"><a href=\"#%EB%A6%B4%EB%A6%AC%EC%A6%88-%ED%8C%8C%EC%9D%B4%ED%94%84%EB%9D%BC%EC%9D%B8%EC%9D%84-%EB%8B%A4%EB%8B%A8%EA%B3%84-%ED%85%9C%ED%94%8C%EB%A6%BF%EC%9C%BC%EB%A1%9C-%EB%A6%AC%ED%8C%A9%ED%86%A0%EB%A7%81%ED%95%98%EA%B8%B0\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>릴리즈 파이프라인을 다단계 템플릿으로 리팩토링하기</h2>\n<p>릴리즈 파이프라인 역시 다단계 템플릿으로 구성이 가능합니다.</p>\n<div class=\"gist-embed\">\n    <html><head></head><body><div id=\"gist97932430\" class=\"gist\">\n    <div class=\"gist-file\" translate=\"no\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-pipeline-release-with-nested-stages-template-yaml\" class=\"file my-2\">\n    \n    <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-yaml  \">\n\n        \n<div class=\"js-check-bidi js-blob-code-container blob-code-content\">\n\n  <template class=\"js-file-alert-template\">\n  <div data-view-component=\"true\" class=\"flash flash-warn flash-full d-flex flex-items-center\">\n  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n  \n    <span>\n      This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\n      <a href=\"https://github.co/hiddenchars\" target=\"_blank\">Learn more about bidirectional Unicode characters</a>\n    </span>\n\n\n  <div data-view-component=\"true\" class=\"flash-action\">        <a href=\"{{ revealButtonHref }}\" data-view-component=\"true\" class=\"btn-sm btn\">    Show hidden characters\n</a>\n</div>\n</div></template>\n<template class=\"js-line-alert-template\">\n  <span aria-label=\"This line has hidden Unicode characters\" data-view-component=\"true\" class=\"line-alert tooltipped tooltipped-e\">\n    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n</span></template>\n\n  <table data-hpc=\"\" class=\"highlight tab-size js-file-line-container js-code-nav-container js-tagsearch-file\" data-tab-size=\"8\" data-paste-markdown-skip=\"\" data-tagsearch-lang=\"YAML\" data-tagsearch-path=\"pipeline-release-with-nested-stages-template.yaml\">\n        <tbody><tr>\n          <td id=\"file-pipeline-release-with-nested-stages-template-yaml-L1\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"1\"></td>\n          <td id=\"file-pipeline-release-with-nested-stages-template-yaml-LC1\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> pipeline.yaml</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-nested-stages-template-yaml-L2\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"2\"></td>\n          <td id=\"file-pipeline-release-with-nested-stages-template-yaml-LC2\" class=\"blob-code blob-code-inner js-file-line\">...</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-nested-stages-template-yaml-L3\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"3\"></td>\n          <td id=\"file-pipeline-release-with-nested-stages-template-yaml-LC3\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-ent\">stages</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-nested-stages-template-yaml-L4\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"4\"></td>\n          <td id=\"file-pipeline-release-with-nested-stages-template-yaml-LC4\" class=\"blob-code blob-code-inner js-file-line\">...</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-nested-stages-template-yaml-L5\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"5\"></td>\n          <td id=\"file-pipeline-release-with-nested-stages-template-yaml-LC5\" class=\"blob-code blob-code-inner js-file-line highlighted\">- <span class=\"pl-ent\">template</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>template-stages-nested-release.yaml<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-nested-stages-template-yaml-L6\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"6\"></td>\n          <td id=\"file-pipeline-release-with-nested-stages-template-yaml-LC6\" class=\"blob-code blob-code-inner js-file-line highlighted\">  <span class=\"pl-ent\">parameters</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-nested-stages-template-yaml-L7\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"7\"></td>\n          <td id=\"file-pipeline-release-with-nested-stages-template-yaml-LC7\" class=\"blob-code blob-code-inner js-file-line highlighted\">    <span class=\"pl-ent\">templateLevel</span>: <span class=\"pl-s\">nested-stages</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-nested-stages-template-yaml-L8\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"8\"></td>\n          <td id=\"file-pipeline-release-with-nested-stages-template-yaml-LC8\" class=\"blob-code blob-code-inner js-file-line highlighted\">    <span class=\"pl-ent\">vmImage</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>macOS-10.13<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-nested-stages-template-yaml-L9\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"9\"></td>\n          <td id=\"file-pipeline-release-with-nested-stages-template-yaml-LC9\" class=\"blob-code blob-code-inner js-file-line highlighted\">    <span class=\"pl-ent\">message</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>This is from the nested stages template<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-pipeline-release-with-nested-stages-template-yaml-L10\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"10\"></td>\n          <td id=\"file-pipeline-release-with-nested-stages-template-yaml-LC10\" class=\"blob-code blob-code-inner js-file-line\">...</td>\n        </tr>\n  </tbody></table>\n</div>\n\n\n    </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/justinyoo/41e3c56debe1eaa0bb1d0ac062bb38b9/raw/984693960482c04816812dab27bd1382d85b6226/pipeline-release-with-nested-stages-template.yaml\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/justinyoo/41e3c56debe1eaa0bb1d0ac062bb38b9#file-pipeline-release-with-nested-stages-template-yaml\">\n          pipeline-release-with-nested-stages-template.yaml\n        </a>\n        hosted with ❤ by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div>\n</body></html>\n</div>\n<div class=\"gist-embed\">\n    <html><head></head><body><div id=\"gist97932430\" class=\"gist\">\n    <div class=\"gist-file\" translate=\"no\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-template-stages-nested-release-yaml\" class=\"file my-2\">\n    \n    <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-yaml  \">\n\n        \n<div class=\"js-check-bidi js-blob-code-container blob-code-content\">\n\n  <template class=\"js-file-alert-template\">\n  <div data-view-component=\"true\" class=\"flash flash-warn flash-full d-flex flex-items-center\">\n  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n  \n    <span>\n      This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\n      <a href=\"https://github.co/hiddenchars\" target=\"_blank\">Learn more about bidirectional Unicode characters</a>\n    </span>\n\n\n  <div data-view-component=\"true\" class=\"flash-action\">        <a href=\"{{ revealButtonHref }}\" data-view-component=\"true\" class=\"btn-sm btn\">    Show hidden characters\n</a>\n</div>\n</div></template>\n<template class=\"js-line-alert-template\">\n  <span aria-label=\"This line has hidden Unicode characters\" data-view-component=\"true\" class=\"line-alert tooltipped tooltipped-e\">\n    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n</span></template>\n\n  <table data-hpc=\"\" class=\"highlight tab-size js-file-line-container js-code-nav-container js-tagsearch-file\" data-tab-size=\"8\" data-paste-markdown-skip=\"\" data-tagsearch-lang=\"YAML\" data-tagsearch-path=\"template-stages-nested-release.yaml\">\n        <tbody><tr>\n          <td id=\"file-template-stages-nested-release-yaml-L1\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"1\"></td>\n          <td id=\"file-template-stages-nested-release-yaml-LC1\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> template-stages-nested-release.yaml</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-stages-nested-release-yaml-L2\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"2\"></td>\n          <td id=\"file-template-stages-nested-release-yaml-LC2\" class=\"blob-code blob-code-inner js-file-line highlighted\"><span class=\"pl-ent\">parameters</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-stages-nested-release-yaml-L3\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"3\"></td>\n          <td id=\"file-template-stages-nested-release-yaml-LC3\" class=\"blob-code blob-code-inner js-file-line highlighted\">  <span class=\"pl-ent\">templateLevel</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span><span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-stages-nested-release-yaml-L4\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"4\"></td>\n          <td id=\"file-template-stages-nested-release-yaml-LC4\" class=\"blob-code blob-code-inner js-file-line highlighted\">  <span class=\"pl-ent\">vmImage</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span><span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-stages-nested-release-yaml-L5\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"5\"></td>\n          <td id=\"file-template-stages-nested-release-yaml-LC5\" class=\"blob-code blob-code-inner js-file-line highlighted\">  <span class=\"pl-ent\">message</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span><span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-stages-nested-release-yaml-L6\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"6\"></td>\n          <td id=\"file-template-stages-nested-release-yaml-LC6\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-stages-nested-release-yaml-L7\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"7\"></td>\n          <td id=\"file-template-stages-nested-release-yaml-LC7\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-ent\">stages</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-stages-nested-release-yaml-L8\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"8\"></td>\n          <td id=\"file-template-stages-nested-release-yaml-LC8\" class=\"blob-code blob-code-inner js-file-line\">- <span class=\"pl-ent\">stage</span>: <span class=\"pl-s\">ReleaseWithNestedStagesTemplate</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-stages-nested-release-yaml-L9\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"9\"></td>\n          <td id=\"file-template-stages-nested-release-yaml-LC9\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-ent\">displayName</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Release with Nested Stages Template<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-stages-nested-release-yaml-L10\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"10\"></td>\n          <td id=\"file-template-stages-nested-release-yaml-LC10\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-stages-nested-release-yaml-L11\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"11\"></td>\n          <td id=\"file-template-stages-nested-release-yaml-LC11\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-ent\">jobs</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-stages-nested-release-yaml-L12\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"12\"></td>\n          <td id=\"file-template-stages-nested-release-yaml-LC12\" class=\"blob-code blob-code-inner js-file-line highlighted\">  - <span class=\"pl-ent\">template</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>template-jobs-nested-release.yaml<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-stages-nested-release-yaml-L13\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"13\"></td>\n          <td id=\"file-template-stages-nested-release-yaml-LC13\" class=\"blob-code blob-code-inner js-file-line highlighted\">    <span class=\"pl-ent\">parameters</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-stages-nested-release-yaml-L14\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"14\"></td>\n          <td id=\"file-template-stages-nested-release-yaml-LC14\" class=\"blob-code blob-code-inner js-file-line highlighted\">      <span class=\"pl-ent\">templateLevel</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>${{ parameters.templateLevel }}<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-stages-nested-release-yaml-L15\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"15\"></td>\n          <td id=\"file-template-stages-nested-release-yaml-LC15\" class=\"blob-code blob-code-inner js-file-line highlighted\">      <span class=\"pl-ent\">vmImage</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>${{ parameters.vmImage }}<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-stages-nested-release-yaml-L16\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"16\"></td>\n          <td id=\"file-template-stages-nested-release-yaml-LC16\" class=\"blob-code blob-code-inner js-file-line highlighted\">      <span class=\"pl-ent\">message</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>${{ parameters.message }}<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n  </tbody></table>\n</div>\n\n\n    </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/justinyoo/41e3c56debe1eaa0bb1d0ac062bb38b9/raw/984693960482c04816812dab27bd1382d85b6226/template-stages-nested-release.yaml\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/justinyoo/41e3c56debe1eaa0bb1d0ac062bb38b9#file-template-stages-nested-release-yaml\">\n          template-stages-nested-release.yaml\n        </a>\n        hosted with ❤ by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div>\n</body></html>\n</div>\n<div class=\"gist-embed\">\n    <html><head></head><body><div id=\"gist97932430\" class=\"gist\">\n    <div class=\"gist-file\" translate=\"no\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-template-jobs-nested-release-yaml\" class=\"file my-2\">\n    \n    <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-yaml  \">\n\n        \n<div class=\"js-check-bidi js-blob-code-container blob-code-content\">\n\n  <template class=\"js-file-alert-template\">\n  <div data-view-component=\"true\" class=\"flash flash-warn flash-full d-flex flex-items-center\">\n  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n  \n    <span>\n      This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\n      <a href=\"https://github.co/hiddenchars\" target=\"_blank\">Learn more about bidirectional Unicode characters</a>\n    </span>\n\n\n  <div data-view-component=\"true\" class=\"flash-action\">        <a href=\"{{ revealButtonHref }}\" data-view-component=\"true\" class=\"btn-sm btn\">    Show hidden characters\n</a>\n</div>\n</div></template>\n<template class=\"js-line-alert-template\">\n  <span aria-label=\"This line has hidden Unicode characters\" data-view-component=\"true\" class=\"line-alert tooltipped tooltipped-e\">\n    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n</span></template>\n\n  <table data-hpc=\"\" class=\"highlight tab-size js-file-line-container js-code-nav-container js-tagsearch-file\" data-tab-size=\"8\" data-paste-markdown-skip=\"\" data-tagsearch-lang=\"YAML\" data-tagsearch-path=\"template-jobs-nested-release.yaml\">\n        <tbody><tr>\n          <td id=\"file-template-jobs-nested-release-yaml-L1\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"1\"></td>\n          <td id=\"file-template-jobs-nested-release-yaml-LC1\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-c\"><span class=\"pl-c\">#</span> template-jobs-nested-release.yaml</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-nested-release-yaml-L2\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"2\"></td>\n          <td id=\"file-template-jobs-nested-release-yaml-LC2\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-ent\">parameters</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-nested-release-yaml-L3\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"3\"></td>\n          <td id=\"file-template-jobs-nested-release-yaml-LC3\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-ent\">templateLevel</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span><span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-nested-release-yaml-L4\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"4\"></td>\n          <td id=\"file-template-jobs-nested-release-yaml-LC4\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-ent\">vmImage</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span><span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-nested-release-yaml-L5\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"5\"></td>\n          <td id=\"file-template-jobs-nested-release-yaml-LC5\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-ent\">message</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span><span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-nested-release-yaml-L6\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"6\"></td>\n          <td id=\"file-template-jobs-nested-release-yaml-LC6\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-nested-release-yaml-L7\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"7\"></td>\n          <td id=\"file-template-jobs-nested-release-yaml-LC7\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-ent\">jobs</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-nested-release-yaml-L8\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"8\"></td>\n          <td id=\"file-template-jobs-nested-release-yaml-LC8\" class=\"blob-code blob-code-inner js-file-line\">- <span class=\"pl-ent\">deployment</span>: <span class=\"pl-s\">NestedDeploymentJob</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-nested-release-yaml-L9\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"9\"></td>\n          <td id=\"file-template-jobs-nested-release-yaml-LC9\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-ent\">displayName</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>Nested Deployment Job on ${{ parameters.vmImage }}<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-nested-release-yaml-L10\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"10\"></td>\n          <td id=\"file-template-jobs-nested-release-yaml-LC10\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-nested-release-yaml-L11\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"11\"></td>\n          <td id=\"file-template-jobs-nested-release-yaml-LC11\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-ent\">pool</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-nested-release-yaml-L12\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"12\"></td>\n          <td id=\"file-template-jobs-nested-release-yaml-LC12\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">vmImage</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>${{ parameters.vmImage }}<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-nested-release-yaml-L13\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"13\"></td>\n          <td id=\"file-template-jobs-nested-release-yaml-LC13\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-nested-release-yaml-L14\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"14\"></td>\n          <td id=\"file-template-jobs-nested-release-yaml-LC14\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-ent\">environment</span>: <span class=\"pl-s\">release-with-${{ parameters.templateLevel }}-template</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-nested-release-yaml-L15\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"15\"></td>\n          <td id=\"file-template-jobs-nested-release-yaml-LC15\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-nested-release-yaml-L16\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"16\"></td>\n          <td id=\"file-template-jobs-nested-release-yaml-LC16\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-ent\">strategy</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-nested-release-yaml-L17\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"17\"></td>\n          <td id=\"file-template-jobs-nested-release-yaml-LC17\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">runOnce</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-nested-release-yaml-L18\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"18\"></td>\n          <td id=\"file-template-jobs-nested-release-yaml-LC18\" class=\"blob-code blob-code-inner js-file-line\">      <span class=\"pl-ent\">deploy</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-nested-release-yaml-L19\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"19\"></td>\n          <td id=\"file-template-jobs-nested-release-yaml-LC19\" class=\"blob-code blob-code-inner js-file-line\">        <span class=\"pl-ent\">steps</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-nested-release-yaml-L20\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"20\"></td>\n          <td id=\"file-template-jobs-nested-release-yaml-LC20\" class=\"blob-code blob-code-inner js-file-line highlighted\">        - <span class=\"pl-ent\">template</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>template-steps-release.yaml<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-nested-release-yaml-L21\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"21\"></td>\n          <td id=\"file-template-jobs-nested-release-yaml-LC21\" class=\"blob-code blob-code-inner js-file-line highlighted\">          <span class=\"pl-ent\">parameters</span>:</td>\n        </tr>\n        <tr>\n          <td id=\"file-template-jobs-nested-release-yaml-L22\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"22\"></td>\n          <td id=\"file-template-jobs-nested-release-yaml-LC22\" class=\"blob-code blob-code-inner js-file-line highlighted\">            <span class=\"pl-ent\">message</span>: <span class=\"pl-s\"><span class=\"pl-pds\">'</span>${{ parameters.message }}<span class=\"pl-pds\">'</span></span></td>\n        </tr>\n  </tbody></table>\n</div>\n\n\n    </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/justinyoo/41e3c56debe1eaa0bb1d0ac062bb38b9/raw/984693960482c04816812dab27bd1382d85b6226/template-jobs-nested-release.yaml\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/justinyoo/41e3c56debe1eaa0bb1d0ac062bb38b9#file-template-jobs-nested-release-yaml\">\n          template-jobs-nested-release.yaml\n        </a>\n        hosted with ❤ by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div>\n</body></html>\n</div>\n<p><img src=\"https://sa0blogs.blob.core.windows.net/aliencube/2019/08/azure-devops-pipelines-refactoring-technics-10.png\" alt=\"다단계 리팩토링 후 애저 릴리즈 파이프라인 실행 결과\"></p>\n<hr>\n<p>이렇게 빌드 및 릴리즈 파이프라인을 모든 <a href=\"https://docs.microsoft.com/ko-kr/azure/devops/pipelines/process/stages?view=azure-devops&#x26;tabs=yaml&#x26;WT.mc_id=devops-12575-juyoo&#x26;ocid=AID3027813\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><code class=\"language-text\">Stages</code></a>, <a href=\"https://docs.microsoft.com/ko-kr/azure/devops/pipelines/process/phases?view=azure-devops&#x26;tabs=yaml&#x26;WT.mc_id=devops-12575-juyoo&#x26;ocid=AID3027813\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><code class=\"language-text\">Jobs</code></a>, <a href=\"https://docs.microsoft.com/ko-kr/azure/devops/pipelines/process/tasks?view=azure-devops&#x26;tabs=yaml&#x26;WT.mc_id=devops-12575-juyoo&#x26;ocid=AID3027813\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><code class=\"language-text\">Steps</code></a> 수준에서 <a href=\"https://docs.microsoft.com/ko-kr/azure/devops/pipelines/process/templates?view=azure-devops&#x26;WT.mc_id=devops-12575-juyoo&#x26;ocid=AID3027813\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">템플릿</a>을 이용해 리팩토링을 해 보았습니다. 파이프라인 작업을 하다 보면 분명히 리팩토링이 필요한 순간이 생깁니다. 그리고 어느 수준에서 템플릿을 만들어 써야 할 지는 전적으로 상황마다 다르다고 할 수 있습니다.</p>\n<p>다만 한 가지 고려해야 할 것은, 템플릿은 가급적이면 단순한 작업을 할 수 있게끔 만드는 것이 좋습니다. 템플릿 표현식을 보면 조건문도 있고 반복문도 있고 굉장히 고급 기능을 사용할 수 있긴 하지만, 우선은 단순하게 시작해서 템플릿을 다듬어 나가는 것이 좋을 것입니다. 아무쪼록 <a href=\"https://docs.microsoft.com/ko-kr/azure/devops/pipelines/get-started/what-is-azure-pipelines?view=azure-devops&#x26;WT.mc_id=devops-12575-juyoo&#x26;ocid=AID3027813\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">애저 데브옵스 파이프라인</a>의 <a href=\"https://docs.microsoft.com/ko-kr/azure/devops/pipelines/get-started/multi-stage-pipelines-experience?view=azure-devops&#x26;WT.mc_id=devops-12575-juyoo&#x26;ocid=AID3027813\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">다중 스테이지 파이프라인 기법</a>을 통해 다양한 템플릿 활용 테크닉을 도입해 보고 그 강력함을 느낄 수 있기를 바랍니다.</p>\n<h2 id=\"더-궁금하다면\"><a href=\"#%EB%8D%94-%EA%B6%81%EA%B8%88%ED%95%98%EB%8B%A4%EB%A9%B4\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>더 궁금하다면...</h2>\n<ul>\n<li>애저 클라우드에 관심이 있으신가요? ➡️ <a href=\"https://azure.microsoft.com/ko-kr/free/?WT.mc_id=devops-12575-juyoo&#x26;ocid=AID3027813\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">무료 애저 계정 생성하기</a></li>\n<li>애저 DevOps에 관심이 있으신가요? ➡️ <a href=\"https://azure.microsoft.com/ko-kr/services/devops/?WT.mc_id=devops-12575-juyoo&#x26;ocid=AID3027813\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">무료 애저 DevOps 사용하기</a></li>\n<li>애저 클라우드 무료 온라인 강의 코스를 들어 보세요! ➡️ <a href=\"https://docs.microsoft.com/ko-kr/learn/?WT.mc_id=devops-12575-juyoo&#x26;ocid=AID3027813\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Microsoft Learn</a></li>\n<li>마이크로소프트 개발자 유튜브 채널 ➡️ <a href=\"https://www.youtube.com/channel/UCdgR-b2t7Byu_UGrHnu-T0g\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Microsoft Developer Korea</a></li>\n</ul>\n","humanTime":"12 January 2021","datetime":"Tue Jan 12 2021 12:00:00 UTC+00:00","canonical_url":"https://blog.aliencube.org/ko/2019/09/04/azure-devops-pipelines-refactoring-technics/","timeToRead":21,"tags":[{"id":"devops","title":"devops","path":"/tags/devops/"},{"id":"azure-devops","title":"azure-devops","path":"/tags/azure-devops/"},{"id":"azure-pipelines","title":"azure-pipelines","path":"/tags/azure-pipelines/"},{"id":"multi-stage-pipelines","title":"multi-stage-pipelines","path":"/tags/multi-stage-pipelines/"},{"id":"refactoring","title":"refactoring","path":"/tags/refactoring/"},{"id":"yaml","title":"yaml","path":"/tags/yaml/"}],"category":{"id":"Azure","title":"Azure","path":"/categories/azure/","belongsTo":{"totalCount":11,"edges":[{"node":{"title":"애저 Bicep 되짚어보기","path":"/posts/2021/04/27/bicep-refreshed/"}},{"node":{"title":"애저 펑션 프록시 기능을 이용한 Open API 확장 기능 하위 호환성 유지하기","path":"/posts/2021/03/16/openapi-extension-to-support-azure-functions-v1/"}},{"node":{"title":"애저 펑션에 Open API 활성화 시키기","path":"/posts/2021/03/09/enabling-openapi-on-azure-functions/"}},{"node":{"title":"이벤트 기반 애저 키 저장소 시크릿 로테이션 관리","path":"/posts/2021/03/02/event-driven-keyvault-secrets-rotation-management/"}}]}},"author":[{"id":"justin-yoo","name":"유저스틴","image":{"type":"image","mimeType":"image/png","src":"/developerkorea/assets/static/justin-yoo.0d7bb5f.d8fcc9687c70820fe6d9bd3801483455.png","size":{"width":500,"height":500},"sizes":"(max-width: 500px) 100vw, 500px","srcset":["/developerkorea/assets/static/justin-yoo.0d7bb5f.d8fcc9687c70820fe6d9bd3801483455.png 500w"],"dataUri":"data:image/svg+xml,%3csvg fill='none' viewBox='0 0 500 500' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-6a0325b746fa0b3948747e4a6f689de9'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-6a0325b746fa0b3948747e4a6f689de9)' width='500' height='500' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAABACAIAAAAlC%2baJAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAgAElEQVRo3pWZd1RT67b2ueccy7YgHQKE0HsvYkdFsaFYEKUI0nsnlPSEhBI6offeISgdpPeQ0JFi3%2bfse84Yt/x3v7%2b/udaCiLq3d9893rH2Soz4/J75zPm%2bK0jMz68sLq4tLa0LhVvLy9srK7tra%2b/Ea339/fr6h0Pr459Za2sfflyrq%2b/R9W5lZW95eVck2hGJtoWwlt4Kl7YEgk3B4oZgYWNxfm1hfm1%2bbmVudnl2RjgzvTQ9JZiaXJwYnx8fmxsbnR59M/VmZHJ4aHxocGyg/43E7KxoYWFtEf6yYFMofLu8vLO6undIPQKwsYGtTxsbH9H1CVugFbv%2bEcNhmAOA9ysr%2bwzLwm0RLATg7ZJga2lxEwVYX5j7HYDJiYWJcQCYAYCR4QkAGBwYRQBmZoTz86sLC%2bvAAADgCgBg0lHR2FWs%2b8NhgMMkf6YO3wCIdpdFCAD8o0tLW8hCAUAJCrA6PwcAIgCYmRYDzI%2bNzmIVAIb9CgDAHHx6HgGAnwIAWIpQ48WW/47oP2L4Qes7uPnxTQRAiKYIAxBsIgCLKMB%2bhEQ/VAADmP4mQtPTwtnZFWCAvwk/CH4cBnBY9%2bbmZ/T6M4ADie/gw7u7v%2b3t/fv29j/evfsn3Ozs/AZgIF0kgujvIgDLSAWQNhAiPXAAsLEIFYAegArMrs7NrmAV%2bBZgDgP4WoHx8YWpKYRhfn4N2kBcASz0IBpdn7HrH6kHcTs7/4C1t/fPmZnVzs7%2bxERaRHhMZERscFB4R0cvqAS58Ke7u/8OACLE%2b10hLAAQHDQx0gAYwCoCMLPyuxWANvimAqOjc5OTSwAAFTgE8B6z/xDA55%2bE5/Pn/%2bofmLK/ftPN1cPh5m0pyVOy0lLysjLSZ87ISksrKSiYGJmctbF95uKal1O4urK3ufVFKNwRLu3nRyhAABaRCiANcNDEfxQhAIA%2bPgAYn1iYmRGB/Yd7AG2Aj/%2bremwKra19rK5uuXL56i/HjkqePIFIl5ORg/9JSkqePi156uSpEyeP/O1vf/nLv0lISMhISz9%2b5NzSzN/Z/vvmxuclGEECFGBxc2FxHRtBUAHU/p/1wFcArInF6rExinUwqv5/wXi3908ul6evoycvI62moqyGV1FTVVFSkMMpKSgpIjVQVJBXUkTupM5ISkvB5fQvx49rENSfI9UogmqA90uo/Wj7rs8jHbyKzlCsAZamJg/vA1gFJr%2bOUdjFBIKv3qObwOH8fDxg%2bHx4YfZDpqOjE1SUFPE4JXW8ihZBTVdLw0BHSwOvoqmmqqmmoq6KwysrAg9ccYoKCvKysIDqxC/Hjx7566kTv2SkZ29ufATFSAMsiNVDBZZnp0UzU1/tB/UHANPYPrBfAWz/Ent/aIB%2bB/ANA0wbaMem5ld6unog10BXRx90q6nqa6pdtja%2bYWty46zR3QtmD%2b0s7cx17cx1zhtpauNxyggJDhjOSJ6CjP1y7Mjtm7dGhqfWoA6Lm0h%2b9gFW5iA/06LpKaE4PBjAQQMgIwgq0N83IoGdIA7UY/vux9%2brwKfD9m9tfREt7121u66BV9XX1jLS0bA21HK5aUv2f5gW4VJAdK2keFWRX1QnuWUF3MsLvMvxvuVlb37ZmKBPUFaSl4UmgTqcPnnizOmTgESMjYdBhPTu/BqqHhpgeWZaiNovENuPqv86Q/cjBOoPjH9/kOyPh8z%2bPjzIgui/%2b1dMTCJeWUlbg2Brqh/j6sAjutaz/GZqSXM1CbPlsbOlMeO80MEMPz7dvTXRpSXBpSz4Dv2JrccVAzMNJVVFOXlZGFGAcPzUyROmJiaTE4uwCczNYvavzCD2L00j6vfTP4ocImZGhsX5QdQjFTh0avi6bf1kwQd2d36LjCTiVZS11NVNdQgcP8e%2bzOCxkti5OspaR8pmV6qonjJTGD6ZHzIMALTnnTRXPtWtOfZR4ctrDCcrzwtaVurymorS8lKSp0%2bdgAUDi0ljra2%2bm5leRuyfXp6ZQgCmJgTi/GD2Q96Gh77ajwAcHNSwufn55wDQuLC58rtHFOTkVJUUYeyEPrwynBW0WJe4wU/b7c//MFLyYaRs61WWsJY0XRA%2bnhPYz3nZx3k5kObbRXWrCXVkP7SKvKb3yAx3QUNWT0laRvIk/Hf0yN9winItzZ2w34F0dP5A%2bpfE9ovH//DQ1y0M1Pf1DiEAm5sf0Ov%2bYeEnAHBY%2bPT5P5nMdGnJU1oa6udNdcuIz0YLI9Y6OO%2bGC98PFX8YKf80Vv32dZ6wjjpdHDmRHzKWGzyaEzTE9eNTXGtD7qU8sk64Zex7XuO%2bsdI1HUVteaQIUlJSsEU43b%2b/ItqZnoThA0v43fA5sH9c3L6wenv2AT4ebFuff74QgE//ERwcKS8jpaul%2beT62epEt4mS%2bJ3%2bvHeDRR9Hyj6%2bqfgwUrnawp3ixUzyIt9kBY7lBI3nhw2kercSHxd5XmU6msc7GEZc03M2V7ljqHSOIIOTkTxzRvKvf/k3C3Mz5PwzvYzaD%2bERHLYf1I8MTw4Nfk1/X%2b9wz%2btBiR%2bPDD9JP3wYpqez83MAMDMy8HS0q6F6CZtT3o%2bUQ3I%2bjVa8Gyxea09bqqdPFccOpgcNpAUOZwSM5YWOZAZ0JroUelxhOprF2utHXtd/bom/a6h4UUNWXf6MtLTU8WPHYK/jd/QIFjYhPOL2PQgPZv/k4IA4PMNg/%2btXAxIHTypfw/Pd/WGAt29/nV/YsLSwUlaUP29t4XHnYh3Lf42fvdtfvDdUujtQsMHPWO/K3uDnLbekjuaE93P8Bzg%2bQ9yACV5kf6pvbdh9jpN1zHV9v4uartZqd4wUoRM0FaRkzpw%2bdeokHDXYTM7K8g54P4XYv392EKsH%2bwf69%2b0H9WIA8Vn/o/jkfHgd7mA4J3e/GlFVweNVcBesLV7cvdyREbHGz1zryhI0ssfLSXMNKW%2bHanfH27aH67f6yuer6RO8qMki4mwlZao0qZvlVxbygP7knNcFbSdTFQd9pfPqMuoKUrCxnT55EtrA7bkbbKkT44tTB/kZfbMPMDQ48aP9r7r7JX58WPmO4TDA%2b/f/amrqxquqahLULE0MA584TFSQ1zvT5moZVWTf3ES/FKI/O9q3hBHekh4z15q3O1Inaslcak6fr%2bc0swJpnne875xzuWjkaK11SRd3RVvhIkFGTfY0jNMzp08DwDNnF9jREO%2bR9kUADoVn/Dv1sLr5fRJ/5mlLfPiB/au%2boVNZSRFmqK6aCsvHca2VtdTArE3yzIv2KGVF8mjBmfFeVazA5rTQN1WsD%2bPNi3XcocyI/uzItID7L25anTfSstAlWOuqWGspWRIULqnL6cufQrZkSQTgsdNDOFBg4Tk8fLDw9Pe9wdRD72L287t6v%2bmBny8YQfB41dk5gFeB85vSbRuDfo7XWkPSXEkMn%2b03Uc0WdBSI2nNmyknD2RHCZs7eUPHOQOlsOb2N%2bKw%2b5klxqGNJ6P02lncT1Yvz4prbeW1rgqytuoINTlLu9C8AAKftB46OS4INUC9u34OdCwP4JjxgPwJwcPj59Geeerff/n1yUmRqbKKqpEBztx9M8elIDapPi%2bFRgkqZoU3ZCUW0QLKXY%2bT9i0muN3lEj4lyyigvttDbnnjLNOK2RaqvYz7RnRv4MOG%2bjaMZ/qy6rA1e9gpBVl/u1LGjR6ECZ62t4IELdgDx9MR6F0s/NjcPq%2b/q7JEQnz3/DABMoZmZFUsrG2sr67iIKJdHD8lkMinUtZbhPt5A6SwnpjKC7lw/63JOn%2bV8sY7sXptHD/d/qa0ko6Uk8%2bCKsf8TO1tTQx2crIOZxh1jVRsNBRtdvJmmsh5OTk9LE4dT1lQndHW8hscAkH5gP5b%2b0R%2b9B/WdHa//DwBooT4vi3Zi3V1unLPKjg%2bK9XMtzM/IjXtcS3rUkh3UWhjdUUSLe37L/5Jh2rPLizXxbEq03w3bR2d1jLXwvi5XWZHOSe73Aq%2bbudho2mvLPjHHXdZSvH/HQVlV%2bemjx1cv2cXFJmC77%2bHhM9A/hs1NsB9T381H1MPqaH%2bFHeY%2b/lmAzS%2bby9vtRN%2bYl8/aqd4zuaEtueT6jLDenMCBwoiZGnIfN6wm4nGe142BrJCewthAt3uThbF1sU/PWxi%2beHCH/sIh2%2btGuutl8j3zoKu6z6zwDgbKMaFBRjrqevD0Iy/d0dwBz2Lf2d/fN9rbsx8eTD2/C9S/7ux41dHevQ8gXoe/4fkRYB15Evj8piCd4vu8Ls59Ni%2b8IyOmkB6w1Zu68TpjujC2j%2bU7xA2eLYl735PZW5CYHeP%2b6wivIc7ZUlP5qZV26mObQp8bPG/7TNdL6c5nI67pP7HWJYYF2hmoEc6ceHDdbnpiYWx0Htt6xer7ekd6Xg%2bJxw6WHPC%2bva27rZUvgX0B%2bLvr9763%2brCx/dvqYF9ugDMv6NFcQbSwMaWCFd5dQBR05k1Xs0aLk0Z48T2ZkV1ZUTBS5%2bqZv46WvKJ5XNaQdzDC5b%2b8Wh/u1BDq1BjxsMTnZuxNk9D7l72fPzqLl9eSOc2IjV0UbMKR880I1rvIzgWjE7P/sHrM%2b/Y2fmtLl4T4S8yfYHzzcvPXLdHGQk16M8V3pjBmqzP9w0jNSHVWRy61jh1ZQfKrogZUkXzqGMHTVWQo1peJqvGccD9bdQcDpYcWmmF3banP7CnOVxMeX/G/ddb5hu0lXeXrBoSzSlLF6dy5%2bfU3w1Ni%2byH9qP374QGAw%2brbWrtamjskfvwG8%2bckG3AmXdnbbM4dSQ%2bf4EWvNjHfD5X818rgfy4Pfhqq3mhOncgMmcqJ2ONnrzeytruz/jHTNF%2baFH/DmHzP4oUZ/pmJckOSVx3Rg%2bd9l/LA9omZqp2GrJ2ump2mcldzx9SUCIn%2b/sFhP/2vX%2b3bjyUH1ENywPvWls7mpvb/A8Chbz8/rtRnD6WFjOVHCuuS3nZnfh5r%2bm2h7%2bObhn6aT4nndVFz5l5vycehmo/Ddf8SdK%2b1pFDvWXrZaDjpyvvZELrInvNlpCGWT5GnvbsV4SJB9rK2spOlwfDA6PjowuHe7et9A%2bnHJg8WHsg9mpxOTH1TY5sE9oXrjwx/TPJhbePLRl/LXAV5gBu4WB632sx611v4abxpoYJR7HFtror%2bZaJxg18yVZM2Us4Z4hGro12czVWvass4GePCLuvme9j3p4b00l%2bmPbZ5ZIw7T5C5gJcJcLwBp%2biDU%2bcEGh5Qj9iPqT/oWsR4SA6mvqG%2bFQDe/QjwY0EO7j%2bsw83W3zdHh%2baLk7rZvnOlUYtVCauN9M2u3PqopwO5sWs9JaKuomV%2b0UIHb6YxvSMlqCzejeNxJdHJOuquBZxDo29bcN2v8Ske7IeWt3TlzqvL2SidDna6PTUjGtrvXSw8I69fDXXzB7DwYDMHNR5R39jQ1tjQWl/XLCH%2bvYN4/QQGWavv1ze/rM4uzZcyu5kvp4oiFmsThXXk2UpySfC9ifqUxbac7aGa3ZH6vdHmrd6q2VLmeD7pFellzvOrjEfnwm4YBdobh9obt5FcYZje0pO3xUvbG2qU5/ImJgSYerAf1IP9r7q/2o/lHrxvakTUN9S3gPq62iaJ1ZX3PzL8iLH6LcPa5hfR%2bFh3sv9YXthSA2WllTFdEtdO9x4sSqhJcO/NS1xqylmozVqsyZkvy3ydFMJ7cYf51M7rnO49feW4u9apntd70oKyXtg56MlbKhxnxMbMzW8MDkwM7u%2b7o2h4EPu7OvftR9V3HqhvxdTX1jRKLKO/bsB%2bDfFHACvwzg91WNv8e28RG556RY2MxbqkmZLY0fwoflpgpudtXtSLjaHq91NNnwT8X9dHREM19Rkx6ZHPbxjinxhplAY4tbF8BnMiom%2bZ2evKnsefqS6pmJgUDgyg4enHehexn9/V39mB2I%2bph/B8p76muv4bABC6jF7FDMh19QP2R9/%2bsujd5vZvo%2b1Nrznewkb6YiNtqoI4xosYK4pZaUvf7Sldayna6ajba2neaa5dyE9rDvAkXzIPO6eX5nyp2Mehg/GyPObJMxu1W/pyjrYmQ4OTI8MzaO%2bOH/Tuvv1o7/J/X31VfXVFrYRoeW//dz6H1o8F%2ba4yq2uA9GFhWtiZGjZZEiNsZszUJE1VJMw3MDb4Oe8GS36dbv401rbdXjOfzx5ixbSHv8h8coX2wCbH7UqR982i4HvhDiZPrPC2uON0InFmdnWgH%2bvd/fSjvYvYj02e/fCA%2btoWkF5b3QDqqyrrKstrJITLe8sog%2bhgrfwQqh95AHJr69fVjS81GQw%2bx3u8OHqsMHKiLH6xhb0GAAMlX8Zq/zHXudVfMVqe3JES2ckIqAx9WOp/p9TXIe/ldfLjs/dMcBfVTj%2b9fnF4eHp4eGZgYLL/d%2bx/Db0rtr%2b%2brqWupglTX42qryirlhCKdkUogwhdy8v7FTh83V8H6VpB1H%2bByD54%2bMTK3LQg%2bmkbw4vP8e3JCJptYKzys/cGCt8PFH0cqXo/WLfcWjjGI/fS/FojHtcG3eF5XeU8PedsTbAhSJvhTl%2b2tenpeTM0NN3fB%2bqhd5HRCenv6uzraO9ta%2b3%2bRn1t8773FbWgvry0qqykAgVA1zKKAQURruyBbgTmW4BlrETLexCh2dmVG/Y3ZGXkFHCqNJ/7dWSPGrL764zAwYLI5U7udh9vr7/gLT9rvS1P0Jg9nBUDB7hKv1sFL67QH1gEXtU/rylnhpe10cQdQb9KmZwU9va8QY894t7txUYnFh6IPqq%2bEYw/pL6ypKhcYkm0u4QCLGG/dTtEAnKxdO1f0QUf23r797KyKmVlnKKCkqqmXmtJ7nB2cEnss8pE1%2bZkn9HyxLWevPVXucL2rPnGzJm6jO7U8MrwJ/neNxMf2Phc0r5piDPFy1kR5G0I8vAY%2bfTx4/EJwevXbzD7QT1qfw9qfxe2Z4H9WNd%2bp76ooFRCINyBtQTrAGB/YQwojHihb%2b6urH2sb2q5c/c2/PO3HrrPvxlfqiGOlhBrSe7FUc5l8c/7CuNE/Jz51qyxShao56eGVsW4MFyv%2btub3DHDm6nJm%2bDlz6nJWCifgZ%2bgr6MFWe/rmxCHB%2bxvb3vd2oLkRxyemqoGLPegvrS4AlNfyCvaBxAzLB2UYgllQBoDfYl1CLyzBACr70sqKtMyODpa6m4BpLmFvaUG2tuerLlack96QE3C8/yIx/Usv56COH56UBvDp4Xuw3S76nPD/JaFlrkGzgyvYIU8y0ub4s787chRGWnJnKw8aGXwHnoXDc%2b%2b/U2NHVh4atDwVJbXHva%2bkFfMyyuQWFzaxtQLDi1QLzioydIBAKIefbm8%2bqGqpp6dlkymJDx44t00sDPbUfm2O3XzVdZcDXk4L7yF9iI32JHtfYv64maCm33A3bN3bXQvG6nbaKlYayhZ4eUuqsteVz9jpKogI6984pdjQYFBsAmAbnTywOh83dLc3dyE2d9aW9NUXVVfWYHMHEx9cWFZIa8E1Ofl5EsIAABdGMl3GN/VBAXbXl3/1NDcwU5lpnA54REhYaS81wMr4yXxG/xUUSt7pipxKCekg%2bFZFfckw%2b9WjNNZ14t6T85qO5/VvmeOv6Apf5Ygd01b3o4gaaypYWxpd/z4sWvX7MDsEShCZ39bK%2by7oJ6P2t%2bGqm%2borKirKK8pQ8ODqS/IL8rP5eVm50kIBG/FANgS/B6JEK0J/ClSB%2bFOUWlRKpedmc3lpLOJCTGMnKaGmu7elABBDWmxjjoPm1pp3Agvsj8ruI3qVhTgkOlhR3909sV5rUtaCpc15G7ryl1UlTTS1rn7NOTYseMXLtj6eHsz6GxQ/Kp7CBgaGzrq69qw8FRV1leg4cHUF/FKC/KLMfXZmTkSC4tbC4K3sBYPMSweFGRxaUewf7MNGOD99Nx6bUMjYn86m5udlpaZmsrlUKjxiawsekR4cZhTX7LPeF74dClxpjJppoY0VhjVlx7QFO9S6H/T57LeZW3cdR2F2waK51TP2JhZ%2bsdlHzl23NLSwt3D1cRY38TYIDQkrLK8DlIEGHW1Laj3teVlNaUlmPelqPcQnrycrNysjGyJ%2bcWt%2bQMG8RIc4kFeQmzWPiwKthuauxLIZBqTwmBRGWxaamZKWlZKakZqGjclOib0hZe7m9szTpR3npd9fbgjn%2bbRkxrwKtW/NyOkLy2I53fHyVLbXk/VwUDlngneWunkLfu75MxWANDV1fH197l//66M1CkFeSlrK3M3Nzc6jQXSoYmBoaS4EvG%2bAPO%2bEKKPqc9Iz5SYW9jEGMQLqQa65gXIS6FoTyDcbe/qpzGTw6PDwmPCiYmx6RkpLDYd%2bhhmEZPDgGrExEW99PHy8PKgJDOo5DiKrzPH7Xq%2b17XSkHulYQ%2byvG56nte7a0K4a6J%2bx5jgaK5hJn88LJzELuo5euwEgUAICPILCPS9fPm8vJyUkqKsJkHFyEDX/trV8LCIvJxCmJ4AwMsrQtXzxOq5aVwEAGXYPAwAC24gOaKV9/1DU9ys3KiYqMjYyERKQgKZGBYRkpaRAtKTU5ip3JTkVCY9mUahkzxfenh5v0jmMBgcFjMlmcEgF9Cj6S5XYm4aedioO5mqOJmr3zJSv22icctA5YKmYkXTGDO34%2bjx03iCZkhYUCwxsrKm%2bvad26dOHiOoKRvqaRnp6xgb6dlduRQcEASxKSmqyM1Goo%2bqz%2bKmZaSlpErMzm/AOsBAALAbaNbRcUFeYWlkTBQYT6IkJNESKQwylU4KiwimMEgZ2Wmp3GR2GgsAklMYrBRGVEyEy3NnTiorK5fLSUsGts3t7YGBfleHi/f0ZJ3MVG8b4a/pqt4yVr%2buKf3o6uWhhX%2bGkfN/OSVD0DLy9PYMjQgpKSvhFZecOX1CXl5WU13VUF/LyEAblqGBjv01u7iYuHzUfpCenoqoT2VzJGbm1jEGZC0gVzB%2bfvFtbUMbMSkBfmgCOZ5ETyLREhnJ1GQOHa7xSbGJ5HgWhw51SM1gQ5DoLAokChg8vTxiiFGZOenQ2XQWrbyyrLCs2DcwwFoHb6sqdUFd4ZoO7qa%2bsq3S0Qg//%2bmt/%2bfsFXNaGqdtdPahs3NweGhcfGx334CegY6k5ElVFSVtTTVDPU3AMDHWMzbWMzU1cHrgmMxkZ2fmprIR9SmsZAQAY8CuS8Ldnv5xTjoXAkNMiiNRE6lMMqxEajyNRU5OAQAKmZFEoiZQmSQmh5aRlZqRlQZZojHJEKrI6LCgEH%2bwH%2bpAppJoLJqX70vbc2cv29lZqCufV5W%2bpC5/TlXqmpZMfWNfIKX2%2bsNAvJbJOXvnh0%2bfhUdH%2bgb49g4O3nNyPHb0ryo4eYIaTleLAFky0NcyNdG3tDABkvO2VnExMRAhDpPNZjAlpmfXYE3NrM4tbAFARXVDbGJcFDEqkQqBIZHpiRR6EkiHGxI9kcGmMtlUeAmJpzPJcAOzKD0rlZuVAmCcNBYSsMhgOovKTmUxWJSCkmImJ%2bX2nRvefj4Xz9mYKUraqMpYyx0JdXmYWzdhae9jfe3pldvuj72T7O8%2bCokM8w3ya%2bvo8A8OOvo3CUUFWQJeSQ2P09fTMDDQMjbSNTMzsLIyRW5MDSLDwricVCaVJoGph8y8GVvMyMkF6fFIZkgUVB/YnEghUgCDmYQAJFNZHBoNqQm4S6YjHyAz2TR2CgMsh80BGBKS4pIoCXQ2HSFn0uqa2109nkVEhTk%2beGCqqmCFk7yqLpWdV%2bvgEnvJweXKHfdQcrFfXJaXf4h3gH9weEhZZUVMfPzxo3%2bRk5UiqCqpKCtqQZCgE1AAC3MjU2M9IwMtczNDfx8fDpMlgXnfwR%2bgMulxSXFUJpXKotCTYdJT6CwS%2bEqixiMA9EQqPQleQgVQZYAHH6BgVyryEopDh06A1JGpiVABeCckPKixtTMiOtLP39v5%2bTNrA10jqSMPzls9D6CbnX943z3WLzYrs%2bpNLKskr6CQSCYHhQfn8PKoLOaJX47ISkuqqSiqKMsTCMp6uppGhjpgvIWFkZGhtqGeBrw0NzcKCwyUGJ8UllXWJlKTYMIkoy6y0KAj7jISqQzQCmkhUWgJMIjgfSrkipZIPQBAC0Uh05LAeLgyktH6MCBjUB9qZHQor6iYnc718HR95vbcxtZW7eSR2zYW956G2j8M9orMTCnpKe9coGTU1DU01re0%2b4eGcDO5KRlcydO/wKaGV1ZQUVbA43Ha2upQBGhiSwtj0K2rhTc20DIxM7h43loiPTsTLGenJ6dw2SncZE46C4IOKkmgGOYNhQiiaSwShZFEpiZAbKB9YSJRkAih3jNIGEAcZC8pDjYK%2bAlAmJBETKIkxhCjo%2bNi84pKn7k9dXV3vXbTQVla%2bp7j87vPol0CGMSUutpXoobedTavqa2zc3J2oaiikkwnZ%2bXny8mekT5zCo%2bTx6soqqoqaWkRDAy0TZAKGFtbmRroaepoqsJLCJJEchqTm5OemceFQwE7ncVOY1JZZBiUCaQ4WEkUZPhgC5IDCwYowgD34D0sBuI3YETFhMcSoyKiQulMAKPCywQSEaIfFhFa09Dy9LlzYHDA46dPrjs4PfaK9wxPC6GUcsv7%2beMfmge2uCVtA0PDY1PT0/MLWfl5%2bcUlOJy81JmTqjh5NVUlANDUUtOHYWqib2FpAgDmZgaaBJwh%2bo5ERk56Rh6Xm5OWkZsOFYDJCA1KTIyJjgtPJMclUePBTqRfkfAg9scDGJkIliPeI9KRGygFDNDQ8KDwqJC4%2bGiYqvGJseGRIZA6eL%2bqtvGF9wu48fb1eu7p/9A9Ni6lIS6ltqhpamTxn00Dm7kVHRPTUxMzc7MLizWNja1d3SoqigAAk1Qdj4NBBBUAAGOYpFamMIiAQUdLTVNDFfY4iZyCLG5uelp2alZ%2bBuxKIBTiQaLDFhYUHRcBIwgWEmukUymJ1AQisosRESomCToBblBCSlRshI%2bfF6iEIgAeHChgw4aahEUE1dQ3hkaGh4QFwBnkicuzGw986PmvqNkt1XzB9Np/1x9InTcAAADfSURBVLxaKahqFwgW5hYFEzOzBaXF/N5%2bPF5ZWuoUVEBDTZlAUNHWUcciZGVtBsvGxgyaGK%2bioK2lJpFTmJ2WyeFmp2YXZKWksyDroJKWTCYmRPsH%2bsTFR0H0kVaGCkC0SHFx6DaMRIuBRAhqkoRudmC550v34NAAYID8wGyFYQoMgcG%2bLW3tJDrNzcMlOi7K0/vFrQcenNJBFq%2brZXBjaed/yjoWKxr5omXhkmi5Z2iIV1w48GYMIiQnI6mqrKCprqKpideB/dhI19TM0NrG/KytpTUcxC1N4E9VVRT%2bPzbiUw29GeqqAAAAAElFTkSuQmCC' /%3e%3c/svg%3e"},"path":"/authors/justin-yoo/","bio":"마이크로소프트 클라우드 🥑 | 서버리스 덕후 | DevOps/SRE | 엔터프라이즈 통합 솔루션","github":"https://github.com/justinyoo","linkedin":"https://linked.in.com/in/justinyoo","twitter":"https://twitter.com/justinchronicle","facebook":"https://facebook.com/aliencube.community","instagram":""}]},"related":{"edges":[{"node":{"title":"애저 CLI를 이용해 애저 이벤트그리드 구독 및 로직앱 이벤트 핸들러 프로비저닝하기","path":"/posts/2021/01/06/provisioning-eventgrid-subscription-and-logicapp-handler-using-azure-cli/","image":"https://sa0blogs.blob.core.windows.net/aliencube/2021/01/provisioning-eventgrid-subscription-and-logicapp-handler-using-azure-cli-00.png","image_caption":"애저 이벤트그리드 구독을 위한 애저 CLI 명령어","description":"애저 이벤트그리드 커스텀 토픽에 대한 애저 이벤트그리드 구독 리소스는 ARM 템플릿을 통해 프로비저닝 할 수 없습니다. 이 포스트는 애저 CLI를 이용해서 이 애저 이벤트그리드 구독과 로직앱 이벤트 핸들러를 별다른 외부 입력값 없이 자동으로 프로비저닝하는 방법에 대해 알아봅니다.","content":"<p><a href=\"https://docs.microsoft.com/ko-kr/azure/event-grid/overview?WT.mc_id=devops-12244-juyoo&#x26;ocid=AID3027813\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">애저 이벤트그리드</a>라는 서비스를 이용하면 다양한 형태의 이벤트 기반 아키텍처를 구성할 수 있습니다. 특히 다양한 형태로 기존에 존재하는 애플리케이션간 이벤트 메시지를 전송하는데 있어서 꽤 유용하게 쓰이지요.</p>\n<p><img src=\"https://docs.microsoft.com/ko-kr/azure/event-grid/media/overview/functional-model.png?WT.mc_id=devops-12244-juyoo&#x26;ocid=AID3027813\" alt=\"애저 이벤트그리드\"></p>\n<h2 id=\"이벤트-기반-아키텍처의-세-요소\"><a href=\"#%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EA%B8%B0%EB%B0%98-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98%EC%9D%98-%EC%84%B8-%EC%9A%94%EC%86%8C\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>이벤트 기반 아키텍처의 세 요소</h2>\n<p>이벤트 기반 아키텍처를 구성할 때 중요한 역할을 하는 세 가지 요소는 아래와 같습니다.</p>\n<h3 id=\"이벤트-생성자퍼블리셔\"><a href=\"#%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EC%83%9D%EC%84%B1%EC%9E%90%ED%8D%BC%EB%B8%94%EB%A6%AC%EC%85%94\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>이벤트 생성자/퍼블리셔</h3>\n<p>이벤트 생성자/퍼블리셔는 이벤트가 발생하는 근원입니다. 이벤트만 발생시킬 수 있다면 무엇이든 이벤트 생성자가 될 수 있죠. 아래 그림은 지난 2018년 <a href=\"https://event.openinfradays.kr/2018/about/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">오픈 인프라 데이즈</a>에서 발표했던 <a href=\"https://event.openinfradays.kr/2018/session1/track_4_0\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">클라우드이벤트 CloudEvents</a> 발표 내용의 일부를 캡쳐한 것인데요, 아래 그림에서는 라즈베리파이 장치에서 이벤트를 생성하는 것에 대해 묘사합니다.</p>\n<p><img src=\"https://sa0blogs.blob.core.windows.net/aliencube/2021/01/provisioning-eventgrid-subscription-and-logicapp-handler-using-azure-cli-02.png\" alt=\"이벤트 생성자 Event Publisher\"></p>\n<h3 id=\"이벤트-구독자섭스크라이버처리자핸들러\"><a href=\"#%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EA%B5%AC%EB%8F%85%EC%9E%90%EC%84%AD%EC%8A%A4%ED%81%AC%EB%9D%BC%EC%9D%B4%EB%B2%84%EC%B2%98%EB%A6%AC%EC%9E%90%ED%95%B8%EB%93%A4%EB%9F%AC\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>이벤트 구독자/섭스크라이버/처리자/핸들러</h3>\n<p>이벤트 구독자와 처리자는 엄밀히 말하면 다른 것이긴 하지만, 보통은 구독하면서 동시에 해당 이벤트를 처리하기 때문에 같은 것드로 봐도 큰 무리는 없습니다. 아래 그림에서는 이벤트 생성자가 보낸 이벤트를 받아 시각화 처리를 하는 형태를 보여줍니다.</p>\n<p><img src=\"https://sa0blogs.blob.core.windows.net/aliencube/2021/01/provisioning-eventgrid-subscription-and-logicapp-handler-using-azure-cli-03.png\" alt=\"이벤트 구독자 Event Subscriber\"></p>\n<h3 id=\"이벤트-중개자브로커\"><a href=\"#%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EC%A4%91%EA%B0%9C%EC%9E%90%EB%B8%8C%EB%A1%9C%EC%BB%A4\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>이벤트 중개자/브로커</h3>\n<p>일반적으로 이 이벤트 생성자와 구독자 사이에서는 직접적인 연결을 하지 않고 비동기식으로 진행하는데, 이 때 필요한 것이 바로 <a href=\"https://docs.microsoft.com/ko-kr/azure/event-grid/overview?WT.mc_id=devops-12244-juyoo&#x26;ocid=AID3027813\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">애저 이벤트그리드</a>와 같은 이벤트 중개자입니다. 아래 그림은 바로 <a href=\"https://docs.microsoft.com/ko-kr/azure/event-grid/overview?WT.mc_id=devops-12244-juyoo&#x26;ocid=AID3027813\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">애저 이벤트그리드</a>가 이벤트 생성자와 구독자 사이에서 어떤 역할을 하는지 보여줍니다.</p>\n<p><img src=\"https://sa0blogs.blob.core.windows.net/aliencube/2021/01/provisioning-eventgrid-subscription-and-logicapp-handler-using-azure-cli-04.png\" alt=\"이벤트 중개자 Event Broker\"></p>\n<blockquote>\n<p><a href=\"https://cloudevents.io/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">클라우드이벤트</a>에 대해 좀 더 알고 싶다면, <a href=\"https://youtu.be/h2_ZNTXwlVc\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">발표 영상</a>과 <a href=\"https://www.slideshare.net/openstack_kr/openinfra-days-korea-2018-track-4-cloudevents\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">발표 자료</a>를 확인해 보세요!</p>\n</blockquote>\n<h2 id=\"애저-이벤트그리드-구독자-생성하기\"><a href=\"#%EC%95%A0%EC%A0%80-%EC%9D%B4%EB%B2%A4%ED%8A%B8%EA%B7%B8%EB%A6%AC%EB%93%9C-%EA%B5%AC%EB%8F%85%EC%9E%90-%EC%83%9D%EC%84%B1%ED%95%98%EA%B8%B0\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>애저 이벤트그리드 구독자 생성하기</h2>\n<p>일반적인 CI/CD 환경에서 애저 이벤트그리드 토픽을 생성할 때에는 <a href=\"https://docs.microsoft.com/ko-kr/azure/templates/microsoft.eventgrid/topics?WT.mc_id=devops-12244-juyoo&#x26;ocid=AID3027813\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ARM 템플릿</a>을 이용하면 쉽습니다. 하지만, 이벤트그리드 구독을 생성하는 <a href=\"https://docs.microsoft.com/ko-kr/azure/templates/microsoft.eventgrid/eventsubscriptions?WT.mc_id=devops-12244-juyoo&#x26;ocid=AID3027813\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ARM 템플릿</a>은 내가 생성한 이벤트그리드 토픽을 지정할 수 없기 때문에 여기서는 안타깝지만 사용할 수 없습니다. 대신, <a href=\"https://docs.microsoft.com/ko-kr/cli/azure/what-is-azure-cli?WT.mc_id=devops-12244-juyoo&#x26;ocid=AID3027813\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">애저 CLI</a>를 사용해서 내가 지정한 토픽에 대해 구독을 생성하면 됩니다.</p>\n<hr>\n<p><strong><em>추가:</em></strong></p>\n<p>정확하게는 이벤트그리드 구독 리소스를 생성하면서 토픽을 지정할 수 있는 방법이 사실 두 가지가 있습니다.</p>\n<h3 id=\"스코프-지정하기-권장하는-방법\"><a href=\"#%EC%8A%A4%EC%BD%94%ED%94%84-%EC%A7%80%EC%A0%95%ED%95%98%EA%B8%B0-%EA%B6%8C%EC%9E%A5%ED%95%98%EB%8A%94-%EB%B0%A9%EB%B2%95\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>스코프 지정하기 (권장하는 방법)</h3>\n<p>위에 언급한 이벤트그리드 구독용 <a href=\"https://docs.microsoft.com/ko-kr/azure/templates/microsoft.eventgrid/eventsubscriptions?WT.mc_id=devops-12244-juyoo&#x26;ocid=AID3027813\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ARM 템플릿</a>을 사용하기 위해서는 <code class=\"language-text\">scope</code> 속성값을 지정해 주면 됩니다 (line #7). ARM 템플릿을 <a href=\"https://github.com/Azure/bicep\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">bicep</a>으로 구현한 샘플 코드는 대략 아래와 같습니다.</p>\n<div class=\"gist-embed\">\n    <html><head></head><body><div id=\"gist107199923\" class=\"gist\">\n    <div class=\"gist-file\" translate=\"no\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-06-az-eventgrid-event-subscription-create-1-bicep\" class=\"file my-2\">\n    \n    <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-bicep  \">\n\n        \n<div class=\"js-check-bidi js-blob-code-container blob-code-content\">\n\n  <template class=\"js-file-alert-template\">\n  <div data-view-component=\"true\" class=\"flash flash-warn flash-full d-flex flex-items-center\">\n  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n  \n    <span>\n      This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\n      <a href=\"https://github.co/hiddenchars\" target=\"_blank\">Learn more about bidirectional Unicode characters</a>\n    </span>\n\n\n  <div data-view-component=\"true\" class=\"flash-action\">        <a href=\"{{ revealButtonHref }}\" data-view-component=\"true\" class=\"btn-sm btn\">    Show hidden characters\n</a>\n</div>\n</div></template>\n<template class=\"js-line-alert-template\">\n  <span aria-label=\"This line has hidden Unicode characters\" data-view-component=\"true\" class=\"line-alert tooltipped tooltipped-e\">\n    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n</span></template>\n\n  <table data-hpc=\"\" class=\"highlight tab-size js-file-line-container js-code-nav-container js-tagsearch-file\" data-tab-size=\"8\" data-paste-markdown-skip=\"\" data-tagsearch-lang=\"Bicep\" data-tagsearch-path=\"06-az-eventgrid-event-subscription-create-1.bicep\">\n        <tbody><tr>\n          <td id=\"file-06-az-eventgrid-event-subscription-create-1-bicep-L1\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"1\"></td>\n          <td id=\"file-06-az-eventgrid-event-subscription-create-1-bicep-LC1\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">resource</span> <span class=\"pl-smi\">evtgrdtopic</span> <span class=\"pl-s\">'Microsoft.EventGrid/topics@2020-06-01'</span> = {</td>\n        </tr>\n        <tr>\n          <td id=\"file-06-az-eventgrid-event-subscription-create-1-bicep-L2\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"2\"></td>\n          <td id=\"file-06-az-eventgrid-event-subscription-create-1-bicep-LC2\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-smi\">name</span>: <span class=\"pl-s\">'my-eventgrid-topic'</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-06-az-eventgrid-event-subscription-create-1-bicep-L3\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"3\"></td>\n          <td id=\"file-06-az-eventgrid-event-subscription-create-1-bicep-LC3\" class=\"blob-code blob-code-inner js-file-line\">}</td>\n        </tr>\n        <tr>\n          <td id=\"file-06-az-eventgrid-event-subscription-create-1-bicep-L4\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"4\"></td>\n          <td id=\"file-06-az-eventgrid-event-subscription-create-1-bicep-LC4\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-06-az-eventgrid-event-subscription-create-1-bicep-L5\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"5\"></td>\n          <td id=\"file-06-az-eventgrid-event-subscription-create-1-bicep-LC5\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">resource</span> <span class=\"pl-smi\">evtgrdsub</span> <span class=\"pl-s\">'Microsoft.EventGrid/eventSubscriptions@2020-06-01'</span> = {</td>\n        </tr>\n        <tr>\n          <td id=\"file-06-az-eventgrid-event-subscription-create-1-bicep-L6\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"6\"></td>\n          <td id=\"file-06-az-eventgrid-event-subscription-create-1-bicep-LC6\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-smi\">name</span>: <span class=\"pl-s\">'my-eventgrid-sub'</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-06-az-eventgrid-event-subscription-create-1-bicep-L7\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"7\"></td>\n          <td id=\"file-06-az-eventgrid-event-subscription-create-1-bicep-LC7\" class=\"blob-code blob-code-inner js-file-line highlighted\">    <span class=\"pl-smi\">scope</span>: <span class=\"pl-smi\">evtgrdtopic</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-06-az-eventgrid-event-subscription-create-1-bicep-L8\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"8\"></td>\n          <td id=\"file-06-az-eventgrid-event-subscription-create-1-bicep-LC8\" class=\"blob-code blob-code-inner js-file-line\">    ...</td>\n        </tr>\n        <tr>\n          <td id=\"file-06-az-eventgrid-event-subscription-create-1-bicep-L9\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"9\"></td>\n          <td id=\"file-06-az-eventgrid-event-subscription-create-1-bicep-LC9\" class=\"blob-code blob-code-inner js-file-line\">}</td>\n        </tr>\n  </tbody></table>\n</div>\n\n\n    </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/justinyoo/8865213b31baeda9f7c1ad258351a039/raw/21181e84f2d9d9ee3c3014a22c4ad7995f60d211/06-az-eventgrid-event-subscription-create-1.bicep\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/justinyoo/8865213b31baeda9f7c1ad258351a039#file-06-az-eventgrid-event-subscription-create-1-bicep\">\n          06-az-eventgrid-event-subscription-create-1.bicep\n        </a>\n        hosted with ❤ by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div>\n</body></html>\n</div>\n<h3 id=\"하위-리소스-타입-지정하기-권장하지는-않지만-허용되는-방법\"><a href=\"#%ED%95%98%EC%9C%84-%EB%A6%AC%EC%86%8C%EC%8A%A4-%ED%83%80%EC%9E%85-%EC%A7%80%EC%A0%95%ED%95%98%EA%B8%B0-%EA%B6%8C%EC%9E%A5%ED%95%98%EC%A7%80%EB%8A%94-%EC%95%8A%EC%A7%80%EB%A7%8C-%ED%97%88%EC%9A%A9%EB%90%98%EB%8A%94-%EB%B0%A9%EB%B2%95\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>하위 리소스 타입 지정하기 (권장하지는 않지만 허용되는 방법)</h3>\n<p>또는 아래와 같이 하위 리소스 타입으로 구현을 할 수도 있습니다. 이 떄는 <code class=\"language-text\">scope</code> 속성값이 필요하진 않지만, 리소스 타입과 이름을 좀 더 길게 정해줘야 하는 번거로움이 있습니다 (line #6-7).</p>\n<div class=\"gist-embed\">\n    <html><head></head><body><div id=\"gist107199923\" class=\"gist\">\n    <div class=\"gist-file\" translate=\"no\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-07-az-eventgrid-event-subscription-create-2-bicep\" class=\"file my-2\">\n    \n    <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-bicep  \">\n\n        \n<div class=\"js-check-bidi js-blob-code-container blob-code-content\">\n\n  <template class=\"js-file-alert-template\">\n  <div data-view-component=\"true\" class=\"flash flash-warn flash-full d-flex flex-items-center\">\n  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n  \n    <span>\n      This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\n      <a href=\"https://github.co/hiddenchars\" target=\"_blank\">Learn more about bidirectional Unicode characters</a>\n    </span>\n\n\n  <div data-view-component=\"true\" class=\"flash-action\">        <a href=\"{{ revealButtonHref }}\" data-view-component=\"true\" class=\"btn-sm btn\">    Show hidden characters\n</a>\n</div>\n</div></template>\n<template class=\"js-line-alert-template\">\n  <span aria-label=\"This line has hidden Unicode characters\" data-view-component=\"true\" class=\"line-alert tooltipped tooltipped-e\">\n    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n</span></template>\n\n  <table data-hpc=\"\" class=\"highlight tab-size js-file-line-container js-code-nav-container js-tagsearch-file\" data-tab-size=\"8\" data-paste-markdown-skip=\"\" data-tagsearch-lang=\"Bicep\" data-tagsearch-path=\"07-az-eventgrid-event-subscription-create-2.bicep\">\n        <tbody><tr>\n          <td id=\"file-07-az-eventgrid-event-subscription-create-2-bicep-L1\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"1\"></td>\n          <td id=\"file-07-az-eventgrid-event-subscription-create-2-bicep-LC1\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">resource</span> <span class=\"pl-smi\">evtgrdtopic</span> <span class=\"pl-s\">'Microsoft.EventGrid/topics@2020-06-01'</span> = {</td>\n        </tr>\n        <tr>\n          <td id=\"file-07-az-eventgrid-event-subscription-create-2-bicep-L2\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"2\"></td>\n          <td id=\"file-07-az-eventgrid-event-subscription-create-2-bicep-LC2\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-smi\">name</span>: <span class=\"pl-s\">'my-eventgrid-topic'</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-07-az-eventgrid-event-subscription-create-2-bicep-L3\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"3\"></td>\n          <td id=\"file-07-az-eventgrid-event-subscription-create-2-bicep-LC3\" class=\"blob-code blob-code-inner js-file-line\">    ...</td>\n        </tr>\n        <tr>\n          <td id=\"file-07-az-eventgrid-event-subscription-create-2-bicep-L4\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"4\"></td>\n          <td id=\"file-07-az-eventgrid-event-subscription-create-2-bicep-LC4\" class=\"blob-code blob-code-inner js-file-line\">}</td>\n        </tr>\n        <tr>\n          <td id=\"file-07-az-eventgrid-event-subscription-create-2-bicep-L5\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"5\"></td>\n          <td id=\"file-07-az-eventgrid-event-subscription-create-2-bicep-LC5\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n        </tr>\n        <tr>\n          <td id=\"file-07-az-eventgrid-event-subscription-create-2-bicep-L6\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"6\"></td>\n          <td id=\"file-07-az-eventgrid-event-subscription-create-2-bicep-LC6\" class=\"blob-code blob-code-inner js-file-line highlighted\"><span class=\"pl-k\">resource</span> <span class=\"pl-smi\">evtgrdsub</span> <span class=\"pl-s\">'Microsoft.EventGrid/topics/providers/eventSubscriptions@2020-06-01'</span> = {</td>\n        </tr>\n        <tr>\n          <td id=\"file-07-az-eventgrid-event-subscription-create-2-bicep-L7\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"7\"></td>\n          <td id=\"file-07-az-eventgrid-event-subscription-create-2-bicep-LC7\" class=\"blob-code blob-code-inner js-file-line highlighted\">    <span class=\"pl-smi\">name</span>: <span class=\"pl-s\">'${<span class=\"pl-smi\">evtgrdtopic</span>.<span class=\"pl-smi\">name</span>}/Microsoft.EventGrid/my-eventgrid-sub'</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-07-az-eventgrid-event-subscription-create-2-bicep-L8\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"8\"></td>\n          <td id=\"file-07-az-eventgrid-event-subscription-create-2-bicep-LC8\" class=\"blob-code blob-code-inner js-file-line\">    ...</td>\n        </tr>\n        <tr>\n          <td id=\"file-07-az-eventgrid-event-subscription-create-2-bicep-L9\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"9\"></td>\n          <td id=\"file-07-az-eventgrid-event-subscription-create-2-bicep-LC9\" class=\"blob-code blob-code-inner js-file-line\">}</td>\n        </tr>\n  </tbody></table>\n</div>\n\n\n    </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/justinyoo/8865213b31baeda9f7c1ad258351a039/raw/21181e84f2d9d9ee3c3014a22c4ad7995f60d211/07-az-eventgrid-event-subscription-create-2.bicep\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/justinyoo/8865213b31baeda9f7c1ad258351a039#file-07-az-eventgrid-event-subscription-create-2-bicep\">\n          07-az-eventgrid-event-subscription-create-2.bicep\n        </a>\n        hosted with ❤ by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div>\n</body></html>\n</div>\n<p>따라서, 위와 같은 방식으로 애저 이벤트그리드 구독 리소스를 프로비저닝해도 됩니다. 다만, 이 포스트는 애저 CLI에 초점을 맞추도록 하겠습니다.</p>\n<hr>\n<h2 id=\"애저-cli-사전-준비사항\"><a href=\"#%EC%95%A0%EC%A0%80-cli-%EC%82%AC%EC%A0%84-%EC%A4%80%EB%B9%84%EC%82%AC%ED%95%AD\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>애저 CLI 사전 준비사항</h2>\n<p><a href=\"https://docs.microsoft.com/ko-kr/cli/azure/what-is-azure-cli?WT.mc_id=devops-12244-juyoo&#x26;ocid=AID3027813\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">애저 CLI</a>로 이벤트그리드 구독 리소스를 프로비저닝하기 위해서는 아래 <a href=\"https://docs.microsoft.com/ko-kr/cli/azure/azure-cli-extensions-list?WT.mc_id=devops-12244-juyoo&#x26;ocid=AID3027813\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">확장기능</a>을 먼저 설치해야 합니다. 여기서 <a href=\"https://github.com/Azure/azure-cli-extensions/tree/master/src/logic\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Logic</a>은 <a href=\"https://docs.microsoft.com/ko-kr/azure/logic-apps/logic-apps-overview?WT.mc_id=devops-12244-juyoo&#x26;ocid=AID3027813\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">애저 로직앱</a>을 위한 것인데, 이 포스트에서는 이벤트 처리자로서 로직앱을 사용하기 때문입니다.</p>\n<ul>\n<li><a href=\"https://github.com/Azure/azure-cli-extensions/tree/master/src/eventgrid\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">EventGrid</a></li>\n<li><a href=\"https://github.com/Azure/azure-cli-extensions/tree/master/src/logic\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Logic</a></li>\n</ul>\n<blockquote>\n<p>이 두 확장기능은 이 글을 쓰는 현재 프리뷰 기능이며 언제든 구현이 바뀔 수 있다는 점 잊지 마세요!</p>\n</blockquote>\n<h2 id=\"애저-cli-명령어\"><a href=\"#%EC%95%A0%EC%A0%80-cli-%EB%AA%85%EB%A0%B9%EC%96%B4\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>애저 CLI 명령어</h2>\n<p>먼저 <a href=\"https://docs.microsoft.com/ko-kr/azure/logic-apps/logic-apps-overview?WT.mc_id=devops-12244-juyoo&#x26;ocid=AID3027813\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">애저 로직앱</a>을 이벤트 처리자로 사용하기 위해서는 로직앱의 엔드포인트 URL을 알아내야 합니다. 로직앱은 특성상 엔드포인트 뒤에 항상 SAS 토큰이 붙어오기 때문에 이를 함께 알아내야 합니다. 먼저 엔드포인트를 찾고자 하는 로직앱의 리소스 ID를 아래와 같이 <code class=\"language-text\">az logic workflow show</code> 명령어를 통해 알아냅니다.</p>\n<div class=\"gist-embed\">\n    <div id=\"gist107199923\" class=\"gist\">\n    <div class=\"gist-file\" translate=\"no\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-01-az-logic-workflow-show-sh\" class=\"file my-2\">\n    \n    <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-shell  \">\n\n        \n<div class=\"js-check-bidi js-blob-code-container blob-code-content\">\n\n  <template class=\"js-file-alert-template\">\n  <div data-view-component=\"true\" class=\"flash flash-warn flash-full d-flex flex-items-center\">\n  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n  \n    <span>\n      This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\n      <a href=\"https://github.co/hiddenchars\" target=\"_blank\">Learn more about bidirectional Unicode characters</a>\n    </span>\n\n\n  <div data-view-component=\"true\" class=\"flash-action\">        <a href=\"{{ revealButtonHref }}\" data-view-component=\"true\" class=\"btn-sm btn\">    Show hidden characters\n</a>\n</div>\n</div></template>\n<template class=\"js-line-alert-template\">\n  <span aria-label=\"This line has hidden Unicode characters\" data-view-component=\"true\" class=\"line-alert tooltipped tooltipped-e\">\n    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n</span></template>\n\n  <table data-hpc class=\"highlight tab-size js-file-line-container js-code-nav-container js-tagsearch-file\" data-tab-size=\"8\" data-paste-markdown-skip data-tagsearch-lang=\"Shell\" data-tagsearch-path=\"01-az-logic-workflow-show.sh\">\n        <tr>\n          <td id=\"file-01-az-logic-workflow-show-sh-L1\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"1\"></td>\n          <td id=\"file-01-az-logic-workflow-show-sh-LC1\" class=\"blob-code blob-code-inner js-file-line\">logicAppResourceId=<span class=\"pl-s\"><span class=\"pl-pds\">$(</span>az logic workflow show \\</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-01-az-logic-workflow-show-sh-L2\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"2\"></td>\n          <td id=\"file-01-az-logic-workflow-show-sh-LC2\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s\">  -g <span class=\"pl-k\">&lt;</span>resource_group_name<span class=\"pl-k\">&gt;</span> \\</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-01-az-logic-workflow-show-sh-L3\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"3\"></td>\n          <td id=\"file-01-az-logic-workflow-show-sh-LC3\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s\">  -n <span class=\"pl-k\">&lt;</span>logic_app_name<span class=\"pl-k\">&gt;</span> \\</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-01-az-logic-workflow-show-sh-L4\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"4\"></td>\n          <td id=\"file-01-az-logic-workflow-show-sh-LC4\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s\">  --query <span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>id<span class=\"pl-pds\">&quot;</span></span> -o tsv<span class=\"pl-pds\">)</span></span></td>\n        </tr>\n  </table>\n</div>\n\n\n    </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/justinyoo/8865213b31baeda9f7c1ad258351a039/raw/21181e84f2d9d9ee3c3014a22c4ad7995f60d211/01-az-logic-workflow-show.sh\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/justinyoo/8865213b31baeda9f7c1ad258351a039#file-01-az-logic-workflow-show-sh\">\n          01-az-logic-workflow-show.sh\n        </a>\n        hosted with &#10084; by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div>\n</div>\n<p>그 다음에는 <code class=\"language-text\">az rest</code> 명령어를 통해 SAS 토큰이 붙어 있는 엔드포인트 값을 알아냅니다.</p>\n<div class=\"gist-embed\">\n    <div id=\"gist107199923\" class=\"gist\">\n    <div class=\"gist-file\" translate=\"no\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-02-az-rest-sh\" class=\"file my-2\">\n    \n    <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-shell  \">\n\n        \n<div class=\"js-check-bidi js-blob-code-container blob-code-content\">\n\n  <template class=\"js-file-alert-template\">\n  <div data-view-component=\"true\" class=\"flash flash-warn flash-full d-flex flex-items-center\">\n  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n  \n    <span>\n      This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\n      <a href=\"https://github.co/hiddenchars\" target=\"_blank\">Learn more about bidirectional Unicode characters</a>\n    </span>\n\n\n  <div data-view-component=\"true\" class=\"flash-action\">        <a href=\"{{ revealButtonHref }}\" data-view-component=\"true\" class=\"btn-sm btn\">    Show hidden characters\n</a>\n</div>\n</div></template>\n<template class=\"js-line-alert-template\">\n  <span aria-label=\"This line has hidden Unicode characters\" data-view-component=\"true\" class=\"line-alert tooltipped tooltipped-e\">\n    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n</span></template>\n\n  <table data-hpc class=\"highlight tab-size js-file-line-container js-code-nav-container js-tagsearch-file\" data-tab-size=\"8\" data-paste-markdown-skip data-tagsearch-lang=\"Shell\" data-tagsearch-path=\"02-az-rest.sh\">\n        <tr>\n          <td id=\"file-02-az-rest-sh-L1\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"1\"></td>\n          <td id=\"file-02-az-rest-sh-LC1\" class=\"blob-code blob-code-inner js-file-line\">logicAppEndpoint=<span class=\"pl-s\"><span class=\"pl-pds\">$(</span>az rest \\</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-02-az-rest-sh-L2\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"2\"></td>\n          <td id=\"file-02-az-rest-sh-LC2\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s\">  -m POST \\</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-02-az-rest-sh-L3\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"3\"></td>\n          <td id=\"file-02-az-rest-sh-LC3\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s\">  -u <span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>https://management.azure.com<span class=\"pl-smi\">$logicAppResourceId</span>/triggers/manual/listCallbackUrl?api-version=2016-06-01<span class=\"pl-pds\">&quot;</span></span> \\</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-02-az-rest-sh-L4\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"4\"></td>\n          <td id=\"file-02-az-rest-sh-LC4\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s\">  --query <span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>value<span class=\"pl-pds\">&quot;</span></span> -o tsv<span class=\"pl-pds\">)</span></span></td>\n        </tr>\n  </table>\n</div>\n\n\n    </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/justinyoo/8865213b31baeda9f7c1ad258351a039/raw/21181e84f2d9d9ee3c3014a22c4ad7995f60d211/02-az-rest.sh\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/justinyoo/8865213b31baeda9f7c1ad258351a039#file-02-az-rest-sh\">\n          02-az-rest.sh\n        </a>\n        hosted with &#10084; by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div>\n</div>\n<p>이제 로직앱을 이벤트 처리자로 사용하기 위한 준비는 끝났습니다. 다음 순서는 이벤트그리드 토픽의 리소스 ID를 아래와 같이 <code class=\"language-text\">az eventgrid topic show</code> 명령어를 통해 알아냅니다.</p>\n<div class=\"gist-embed\">\n    <div id=\"gist107199923\" class=\"gist\">\n    <div class=\"gist-file\" translate=\"no\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-03-az-eventgrid-topic-show-sh\" class=\"file my-2\">\n    \n    <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-shell  \">\n\n        \n<div class=\"js-check-bidi js-blob-code-container blob-code-content\">\n\n  <template class=\"js-file-alert-template\">\n  <div data-view-component=\"true\" class=\"flash flash-warn flash-full d-flex flex-items-center\">\n  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n  \n    <span>\n      This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\n      <a href=\"https://github.co/hiddenchars\" target=\"_blank\">Learn more about bidirectional Unicode characters</a>\n    </span>\n\n\n  <div data-view-component=\"true\" class=\"flash-action\">        <a href=\"{{ revealButtonHref }}\" data-view-component=\"true\" class=\"btn-sm btn\">    Show hidden characters\n</a>\n</div>\n</div></template>\n<template class=\"js-line-alert-template\">\n  <span aria-label=\"This line has hidden Unicode characters\" data-view-component=\"true\" class=\"line-alert tooltipped tooltipped-e\">\n    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n</span></template>\n\n  <table data-hpc class=\"highlight tab-size js-file-line-container js-code-nav-container js-tagsearch-file\" data-tab-size=\"8\" data-paste-markdown-skip data-tagsearch-lang=\"Shell\" data-tagsearch-path=\"03-az-eventgrid-topic-show.sh\">\n        <tr>\n          <td id=\"file-03-az-eventgrid-topic-show-sh-L1\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"1\"></td>\n          <td id=\"file-03-az-eventgrid-topic-show-sh-LC1\" class=\"blob-code blob-code-inner js-file-line\">eventGridTopicId=<span class=\"pl-s\"><span class=\"pl-pds\">$(</span>az eventgrid topic show \\</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-03-az-eventgrid-topic-show-sh-L2\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"2\"></td>\n          <td id=\"file-03-az-eventgrid-topic-show-sh-LC2\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s\">  -g <span class=\"pl-k\">&lt;</span>resource_group_name<span class=\"pl-k\">&gt;</span> \\</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-03-az-eventgrid-topic-show-sh-L3\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"3\"></td>\n          <td id=\"file-03-az-eventgrid-topic-show-sh-LC3\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s\">  -n <span class=\"pl-k\">&lt;</span>eventgrid_topic_name<span class=\"pl-k\">&gt;</span> \\</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-03-az-eventgrid-topic-show-sh-L4\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"4\"></td>\n          <td id=\"file-03-az-eventgrid-topic-show-sh-LC4\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s\">  --query <span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>id<span class=\"pl-pds\">&quot;</span></span> -o tsv<span class=\"pl-pds\">)</span></span></td>\n        </tr>\n  </table>\n</div>\n\n\n    </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/justinyoo/8865213b31baeda9f7c1ad258351a039/raw/21181e84f2d9d9ee3c3014a22c4ad7995f60d211/03-az-eventgrid-topic-show.sh\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/justinyoo/8865213b31baeda9f7c1ad258351a039#file-03-az-eventgrid-topic-show-sh\">\n          03-az-eventgrid-topic-show.sh\n        </a>\n        hosted with &#10084; by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div>\n</div>\n<p>이벤트그리드 구독자를 생성하기 위한 모든 준비가 끝났습니다. 아래 <code class=\"language-text\">az eventgrid event-subscription create</code> 명령어를 통해 이벤트그리드 구독자를 생성합니다. 여기서는 <a href=\"https://www.cncf.io/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">CNCF</a>의 인큐베이팅 프로젝트인 <a href=\"https://cloudevents.io/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">CloudEvents 스키마</a>를 사용하는 것으로 합니다.</p>\n<div class=\"gist-embed\">\n    <div id=\"gist107199923\" class=\"gist\">\n    <div class=\"gist-file\" translate=\"no\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-04-az-eventgrid-event-subscription-create-sh\" class=\"file my-2\">\n    \n    <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-shell  \">\n\n        \n<div class=\"js-check-bidi js-blob-code-container blob-code-content\">\n\n  <template class=\"js-file-alert-template\">\n  <div data-view-component=\"true\" class=\"flash flash-warn flash-full d-flex flex-items-center\">\n  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n  \n    <span>\n      This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\n      <a href=\"https://github.co/hiddenchars\" target=\"_blank\">Learn more about bidirectional Unicode characters</a>\n    </span>\n\n\n  <div data-view-component=\"true\" class=\"flash-action\">        <a href=\"{{ revealButtonHref }}\" data-view-component=\"true\" class=\"btn-sm btn\">    Show hidden characters\n</a>\n</div>\n</div></template>\n<template class=\"js-line-alert-template\">\n  <span aria-label=\"This line has hidden Unicode characters\" data-view-component=\"true\" class=\"line-alert tooltipped tooltipped-e\">\n    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n</span></template>\n\n  <table data-hpc class=\"highlight tab-size js-file-line-container js-code-nav-container js-tagsearch-file\" data-tab-size=\"8\" data-paste-markdown-skip data-tagsearch-lang=\"Shell\" data-tagsearch-path=\"04-az-eventgrid-event-subscription-create.sh\">\n        <tr>\n          <td id=\"file-04-az-eventgrid-event-subscription-create-sh-L1\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"1\"></td>\n          <td id=\"file-04-az-eventgrid-event-subscription-create-sh-LC1\" class=\"blob-code blob-code-inner js-file-line\">az eventgrid event-subscription create \\</td>\n        </tr>\n        <tr>\n          <td id=\"file-04-az-eventgrid-event-subscription-create-sh-L2\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"2\"></td>\n          <td id=\"file-04-az-eventgrid-event-subscription-create-sh-LC2\" class=\"blob-code blob-code-inner js-file-line\">  -n <span class=\"pl-k\">&lt;</span>eventgrid_subscription_name<span class=\"pl-k\">&gt;</span> \\</td>\n        </tr>\n        <tr>\n          <td id=\"file-04-az-eventgrid-event-subscription-create-sh-L3\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"3\"></td>\n          <td id=\"file-04-az-eventgrid-event-subscription-create-sh-LC3\" class=\"blob-code blob-code-inner js-file-line\">  --source-resource-id <span class=\"pl-smi\">$eventGridTopicId</span> \\</td>\n        </tr>\n        <tr>\n          <td id=\"file-04-az-eventgrid-event-subscription-create-sh-L4\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"4\"></td>\n          <td id=\"file-04-az-eventgrid-event-subscription-create-sh-LC4\" class=\"blob-code blob-code-inner js-file-line\">  --event-delivery-schema cloudeventschemav1_0 \\</td>\n        </tr>\n        <tr>\n          <td id=\"file-04-az-eventgrid-event-subscription-create-sh-L5\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"5\"></td>\n          <td id=\"file-04-az-eventgrid-event-subscription-create-sh-LC5\" class=\"blob-code blob-code-inner js-file-line\">  --endpoint-type webhook \\</td>\n        </tr>\n        <tr>\n          <td id=\"file-04-az-eventgrid-event-subscription-create-sh-L6\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"6\"></td>\n          <td id=\"file-04-az-eventgrid-event-subscription-create-sh-LC6\" class=\"blob-code blob-code-inner js-file-line\">  --endpoint <span class=\"pl-smi\">$logicAppEndpoint</span></td>\n        </tr>\n  </table>\n</div>\n\n\n    </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/justinyoo/8865213b31baeda9f7c1ad258351a039/raw/21181e84f2d9d9ee3c3014a22c4ad7995f60d211/04-az-eventgrid-event-subscription-create.sh\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/justinyoo/8865213b31baeda9f7c1ad258351a039#file-04-az-eventgrid-event-subscription-create-sh\">\n          04-az-eventgrid-event-subscription-create.sh\n        </a>\n        hosted with &#10084; by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div>\n</div>\n<p>위와 같은 방법으로 하면 곧바로 애저 이벤트그리드 구독자 리소스를 프로비저닝할 수 있습니다. 위 명령어를 한줄로 합치면 아래와 같습니다.</p>\n<div class=\"gist-embed\">\n    <div id=\"gist107199923\" class=\"gist\">\n    <div class=\"gist-file\" translate=\"no\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-05-one-liner-sh\" class=\"file my-2\">\n    \n    <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-shell  \">\n\n        \n<div class=\"js-check-bidi js-blob-code-container blob-code-content\">\n\n  <template class=\"js-file-alert-template\">\n  <div data-view-component=\"true\" class=\"flash flash-warn flash-full d-flex flex-items-center\">\n  <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n  \n    <span>\n      This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.\n      <a href=\"https://github.co/hiddenchars\" target=\"_blank\">Learn more about bidirectional Unicode characters</a>\n    </span>\n\n\n  <div data-view-component=\"true\" class=\"flash-action\">        <a href=\"{{ revealButtonHref }}\" data-view-component=\"true\" class=\"btn-sm btn\">    Show hidden characters\n</a>\n</div>\n</div></template>\n<template class=\"js-line-alert-template\">\n  <span aria-label=\"This line has hidden Unicode characters\" data-view-component=\"true\" class=\"line-alert tooltipped tooltipped-e\">\n    <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-alert\">\n    <path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path>\n</svg>\n</span></template>\n\n  <table data-hpc class=\"highlight tab-size js-file-line-container js-code-nav-container js-tagsearch-file\" data-tab-size=\"8\" data-paste-markdown-skip data-tagsearch-lang=\"Shell\" data-tagsearch-path=\"05-one-liner.sh\">\n        <tr>\n          <td id=\"file-05-one-liner-sh-L1\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"1\"></td>\n          <td id=\"file-05-one-liner-sh-LC1\" class=\"blob-code blob-code-inner js-file-line\">az eventgrid event-subscription create \\</td>\n        </tr>\n        <tr>\n          <td id=\"file-05-one-liner-sh-L2\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"2\"></td>\n          <td id=\"file-05-one-liner-sh-LC2\" class=\"blob-code blob-code-inner js-file-line\">  -n <span class=\"pl-k\">&lt;</span>eventgrid_subscription_name<span class=\"pl-k\">&gt;</span> \\</td>\n        </tr>\n        <tr>\n          <td id=\"file-05-one-liner-sh-L3\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"3\"></td>\n          <td id=\"file-05-one-liner-sh-LC3\" class=\"blob-code blob-code-inner js-file-line\">  --source-resource-id <span class=\"pl-s\"><span class=\"pl-pds\">$(</span>az eventgrid topic show \\</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-05-one-liner-sh-L4\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"4\"></td>\n          <td id=\"file-05-one-liner-sh-LC4\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s\">    -g <span class=\"pl-k\">&lt;</span>resource_group_name<span class=\"pl-k\">&gt;</span> \\</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-05-one-liner-sh-L5\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"5\"></td>\n          <td id=\"file-05-one-liner-sh-LC5\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s\">    -n <span class=\"pl-k\">&lt;</span>eventgrid_topic_name<span class=\"pl-k\">&gt;</span> \\</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-05-one-liner-sh-L6\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"6\"></td>\n          <td id=\"file-05-one-liner-sh-LC6\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s\">    --query <span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>id<span class=\"pl-pds\">&quot;</span></span> -o tsv<span class=\"pl-pds\">)</span></span> \\</td>\n        </tr>\n        <tr>\n          <td id=\"file-05-one-liner-sh-L7\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"7\"></td>\n          <td id=\"file-05-one-liner-sh-LC7\" class=\"blob-code blob-code-inner js-file-line\">  --event-delivery-schema cloudeventschemav1_0 \\</td>\n        </tr>\n        <tr>\n          <td id=\"file-05-one-liner-sh-L8\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"8\"></td>\n          <td id=\"file-05-one-liner-sh-LC8\" class=\"blob-code blob-code-inner js-file-line\">  --endpoint-type webhook \\</td>\n        </tr>\n        <tr>\n          <td id=\"file-05-one-liner-sh-L9\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"9\"></td>\n          <td id=\"file-05-one-liner-sh-LC9\" class=\"blob-code blob-code-inner js-file-line\">  --endpoint <span class=\"pl-s\"><span class=\"pl-pds\">$(</span>az rest \\</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-05-one-liner-sh-L10\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"10\"></td>\n          <td id=\"file-05-one-liner-sh-LC10\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s\">    -m POST \\</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-05-one-liner-sh-L11\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"11\"></td>\n          <td id=\"file-05-one-liner-sh-LC11\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s\">    -u <span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>https://management.azure.com<span class=\"pl-s\"><span class=\"pl-pds\">$(</span>az logic workflow show \\</span></span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-05-one-liner-sh-L12\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"12\"></td>\n          <td id=\"file-05-one-liner-sh-LC12\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s\"><span class=\"pl-s\"><span class=\"pl-s\">      -g <span class=\"pl-k\">&lt;</span>resource_group_name<span class=\"pl-k\">&gt;</span> \\</span></span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-05-one-liner-sh-L13\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"13\"></td>\n          <td id=\"file-05-one-liner-sh-LC13\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s\"><span class=\"pl-s\"><span class=\"pl-s\">      -n <span class=\"pl-k\">&lt;</span>logic_app_name<span class=\"pl-k\">&gt;</span> \\</span></span></span></td>\n        </tr>\n        <tr>\n          <td id=\"file-05-one-liner-sh-L14\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"14\"></td>\n          <td id=\"file-05-one-liner-sh-LC14\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s\"><span class=\"pl-s\"><span class=\"pl-s\">      --query <span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>id<span class=\"pl-pds\">&quot;</span></span> -o tsv<span class=\"pl-pds\">)</span></span>/triggers/manual/listCallbackUrl?api-version=2016-06-01<span class=\"pl-pds\">&quot;</span></span> \\</span></td>\n        </tr>\n        <tr>\n          <td id=\"file-05-one-liner-sh-L15\" class=\"blob-num js-line-number js-code-nav-line-number js-blob-rnum\" data-line-number=\"15\"></td>\n          <td id=\"file-05-one-liner-sh-LC15\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s\">    --query <span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>value<span class=\"pl-pds\">&quot;</span></span> -o tsv<span class=\"pl-pds\">)</span></span></td>\n        </tr>\n  </table>\n</div>\n\n\n    </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/justinyoo/8865213b31baeda9f7c1ad258351a039/raw/21181e84f2d9d9ee3c3014a22c4ad7995f60d211/05-one-liner.sh\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/justinyoo/8865213b31baeda9f7c1ad258351a039#file-05-one-liner-sh\">\n          05-one-liner.sh\n        </a>\n        hosted with &#10084; by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div>\n</div>\n<hr>\n<p>지금까지 이벤트그리드 구독자를 프로비저닝하고 로직앱을 그 처리자로 설정하기 위해 애저 CLI를 이용하는 방법에 대해 알아 보았습니다. 이를 조금 더 활용하면 <a href=\"https://docs.github.com/en/free-pro-team@latest/actions\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">깃헙 액션</a>과 같은 CI/CD 파이프라인에서도 손쉽게 통합시킬 수 있을 것입니다.</p>\n<h2 id=\"더-궁금하다면\"><a href=\"#%EB%8D%94-%EA%B6%81%EA%B8%88%ED%95%98%EB%8B%A4%EB%A9%B4\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>더 궁금하다면...</h2>\n<ul>\n<li>애저 클라우드에 관심이 있으신가요? ➡️ <a href=\"https://azure.microsoft.com/ko-kr/free/?WT.mc_id=devops-12244-juyoo&#x26;ocid=AID3027813\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">무료 애저 계정 생성하기</a></li>\n<li>애저 클라우드 무료 온라인 강의 코스를 들어 보세요! ➡️ <a href=\"https://docs.microsoft.com/ko-kr/learn/?WT.mc_id=devops-12244-juyoo&#x26;ocid=AID3027813\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Microsoft Learn</a></li>\n<li>마이크로소프트 개발자 유튜브 채널 ➡️ <a href=\"https://www.youtube.com/channel/UCdgR-b2t7Byu_UGrHnu-T0g\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Microsoft Developer Korea</a></li>\n</ul>\n","humanTime":"06 January 2021","datetime":"Wed Jan 06 2021 12:00:00 UTC+00:00","canonical_url":"https://blog.aliencube.org/ko/2021/01/06/provisioning-eventgrid-subscription-and-logicapp-handler-using-azure-cli/","timeToRead":10,"tags":[{"id":"devops","title":"devops","path":"/tags/devops/"},{"id":"azure-cli","title":"azure-cli","path":"/tags/azure-cli/"},{"id":"azure-logic-apps","title":"azure-logic-apps","path":"/tags/azure-logic-apps/"},{"id":"azure-eventgrid","title":"azure-eventgrid","path":"/tags/azure-eventgrid/"},{"id":"github-actions","title":"github-actions","path":"/tags/github-actions/"}],"category":{"id":"Azure","title":"Azure","path":"/categories/azure/","belongsTo":{"totalCount":11,"edges":[{"node":{"title":"애저 Bicep 되짚어보기","path":"/posts/2021/04/27/bicep-refreshed/"}},{"node":{"title":"애저 펑션 프록시 기능을 이용한 Open API 확장 기능 하위 호환성 유지하기","path":"/posts/2021/03/16/openapi-extension-to-support-azure-functions-v1/"}},{"node":{"title":"애저 펑션에 Open API 활성화 시키기","path":"/posts/2021/03/09/enabling-openapi-on-azure-functions/"}},{"node":{"title":"이벤트 기반 애저 키 저장소 시크릿 로테이션 관리","path":"/posts/2021/03/02/event-driven-keyvault-secrets-rotation-management/"}}]}},"author":[{"id":"justin-yoo","name":"유저스틴","image":{"type":"image","mimeType":"image/png","src":"/developerkorea/assets/static/justin-yoo.0d7bb5f.d8fcc9687c70820fe6d9bd3801483455.png","size":{"width":500,"height":500},"sizes":"(max-width: 500px) 100vw, 500px","srcset":["/developerkorea/assets/static/justin-yoo.0d7bb5f.d8fcc9687c70820fe6d9bd3801483455.png 500w"],"dataUri":"data:image/svg+xml,%3csvg fill='none' viewBox='0 0 500 500' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-6a0325b746fa0b3948747e4a6f689de9'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-6a0325b746fa0b3948747e4a6f689de9)' width='500' height='500' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAABACAIAAAAlC%2baJAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAgAElEQVRo3pWZd1RT67b2ueccy7YgHQKE0HsvYkdFsaFYEKUI0nsnlPSEhBI6offeISgdpPeQ0JFi3%2bfse84Yt/x3v7%2b/udaCiLq3d9893rH2Soz4/J75zPm%2bK0jMz68sLq4tLa0LhVvLy9srK7tra%2b/Ea339/fr6h0Pr459Za2sfflyrq%2b/R9W5lZW95eVck2hGJtoWwlt4Kl7YEgk3B4oZgYWNxfm1hfm1%2bbmVudnl2RjgzvTQ9JZiaXJwYnx8fmxsbnR59M/VmZHJ4aHxocGyg/43E7KxoYWFtEf6yYFMofLu8vLO6undIPQKwsYGtTxsbH9H1CVugFbv%2bEcNhmAOA9ysr%2bwzLwm0RLATg7ZJga2lxEwVYX5j7HYDJiYWJcQCYAYCR4QkAGBwYRQBmZoTz86sLC%2bvAAADgCgBg0lHR2FWs%2b8NhgMMkf6YO3wCIdpdFCAD8o0tLW8hCAUAJCrA6PwcAIgCYmRYDzI%2bNzmIVAIb9CgDAHHx6HgGAnwIAWIpQ48WW/47oP2L4Qes7uPnxTQRAiKYIAxBsIgCLKMB%2bhEQ/VAADmP4mQtPTwtnZFWCAvwk/CH4cBnBY9%2bbmZ/T6M4ADie/gw7u7v%2b3t/fv29j/evfsn3Ozs/AZgIF0kgujvIgDLSAWQNhAiPXAAsLEIFYAegArMrs7NrmAV%2bBZgDgP4WoHx8YWpKYRhfn4N2kBcASz0IBpdn7HrH6kHcTs7/4C1t/fPmZnVzs7%2bxERaRHhMZERscFB4R0cvqAS58Ke7u/8OACLE%2b10hLAAQHDQx0gAYwCoCMLPyuxWANvimAqOjc5OTSwAAFTgE8B6z/xDA55%2bE5/Pn/%2bofmLK/ftPN1cPh5m0pyVOy0lLysjLSZ87ISksrKSiYGJmctbF95uKal1O4urK3ufVFKNwRLu3nRyhAABaRCiANcNDEfxQhAIA%2bPgAYn1iYmRGB/Yd7AG2Aj/%2bremwKra19rK5uuXL56i/HjkqePIFIl5ORg/9JSkqePi156uSpEyeP/O1vf/nLv0lISMhISz9%2b5NzSzN/Z/vvmxuclGEECFGBxc2FxHRtBUAHU/p/1wFcArInF6rExinUwqv5/wXi3908ul6evoycvI62moqyGV1FTVVFSkMMpKSgpIjVQVJBXUkTupM5ISkvB5fQvx49rENSfI9UogmqA90uo/Wj7rs8jHbyKzlCsAZamJg/vA1gFJr%2bOUdjFBIKv3qObwOH8fDxg%2bHx4YfZDpqOjE1SUFPE4JXW8ihZBTVdLw0BHSwOvoqmmqqmmoq6KwysrAg9ccYoKCvKysIDqxC/Hjx7566kTv2SkZ29ufATFSAMsiNVDBZZnp0UzU1/tB/UHANPYPrBfAWz/Ent/aIB%2bB/ANA0wbaMem5ld6unog10BXRx90q6nqa6pdtja%2bYWty46zR3QtmD%2b0s7cx17cx1zhtpauNxyggJDhjOSJ6CjP1y7Mjtm7dGhqfWoA6Lm0h%2b9gFW5iA/06LpKaE4PBjAQQMgIwgq0N83IoGdIA7UY/vux9%2brwKfD9m9tfREt7121u66BV9XX1jLS0bA21HK5aUv2f5gW4VJAdK2keFWRX1QnuWUF3MsLvMvxvuVlb37ZmKBPUFaSl4UmgTqcPnnizOmTgESMjYdBhPTu/BqqHhpgeWZaiNovENuPqv86Q/cjBOoPjH9/kOyPh8z%2bPjzIgui/%2b1dMTCJeWUlbg2Brqh/j6sAjutaz/GZqSXM1CbPlsbOlMeO80MEMPz7dvTXRpSXBpSz4Dv2JrccVAzMNJVVFOXlZGFGAcPzUyROmJiaTE4uwCczNYvavzCD2L00j6vfTP4ocImZGhsX5QdQjFTh0avi6bf1kwQd2d36LjCTiVZS11NVNdQgcP8e%2bzOCxkti5OspaR8pmV6qonjJTGD6ZHzIMALTnnTRXPtWtOfZR4ctrDCcrzwtaVurymorS8lKSp0%2bdgAUDi0ljra2%2bm5leRuyfXp6ZQgCmJgTi/GD2Q96Gh77ajwAcHNSwufn55wDQuLC58rtHFOTkVJUUYeyEPrwynBW0WJe4wU/b7c//MFLyYaRs61WWsJY0XRA%2bnhPYz3nZx3k5kObbRXWrCXVkP7SKvKb3yAx3QUNWT0laRvIk/Hf0yN9winItzZ2w34F0dP5A%2bpfE9ovH//DQ1y0M1Pf1DiEAm5sf0Ov%2bYeEnAHBY%2bPT5P5nMdGnJU1oa6udNdcuIz0YLI9Y6OO%2bGC98PFX8YKf80Vv32dZ6wjjpdHDmRHzKWGzyaEzTE9eNTXGtD7qU8sk64Zex7XuO%2bsdI1HUVteaQIUlJSsEU43b%2b/ItqZnoThA0v43fA5sH9c3L6wenv2AT4ebFuff74QgE//ERwcKS8jpaul%2beT62epEt4mS%2bJ3%2bvHeDRR9Hyj6%2bqfgwUrnawp3ixUzyIt9kBY7lBI3nhw2kercSHxd5XmU6msc7GEZc03M2V7ljqHSOIIOTkTxzRvKvf/k3C3Mz5PwzvYzaD%2bERHLYf1I8MTw4Nfk1/X%2b9wz%2btBiR%2bPDD9JP3wYpqez83MAMDMy8HS0q6F6CZtT3o%2bUQ3I%2bjVa8Gyxea09bqqdPFccOpgcNpAUOZwSM5YWOZAZ0JroUelxhOprF2utHXtd/bom/a6h4UUNWXf6MtLTU8WPHYK/jd/QIFjYhPOL2PQgPZv/k4IA4PMNg/%2btXAxIHTypfw/Pd/WGAt29/nV/YsLSwUlaUP29t4XHnYh3Lf42fvdtfvDdUujtQsMHPWO/K3uDnLbekjuaE93P8Bzg%2bQ9yACV5kf6pvbdh9jpN1zHV9v4uartZqd4wUoRM0FaRkzpw%2bdeokHDXYTM7K8g54P4XYv392EKsH%2bwf69%2b0H9WIA8Vn/o/jkfHgd7mA4J3e/GlFVweNVcBesLV7cvdyREbHGz1zryhI0ssfLSXMNKW%2bHanfH27aH67f6yuer6RO8qMki4mwlZao0qZvlVxbygP7knNcFbSdTFQd9pfPqMuoKUrCxnT55EtrA7bkbbKkT44tTB/kZfbMPMDQ48aP9r7r7JX58WPmO4TDA%2b/f/amrqxquqahLULE0MA584TFSQ1zvT5moZVWTf3ES/FKI/O9q3hBHekh4z15q3O1Inaslcak6fr%2bc0swJpnne875xzuWjkaK11SRd3RVvhIkFGTfY0jNMzp08DwDNnF9jREO%2bR9kUADoVn/Dv1sLr5fRJ/5mlLfPiB/au%2boVNZSRFmqK6aCsvHca2VtdTArE3yzIv2KGVF8mjBmfFeVazA5rTQN1WsD%2bPNi3XcocyI/uzItID7L25anTfSstAlWOuqWGspWRIULqnL6cufQrZkSQTgsdNDOFBg4Tk8fLDw9Pe9wdRD72L287t6v%2bmBny8YQfB41dk5gFeB85vSbRuDfo7XWkPSXEkMn%2b03Uc0WdBSI2nNmyknD2RHCZs7eUPHOQOlsOb2N%2bKw%2b5klxqGNJ6P02lncT1Yvz4prbeW1rgqytuoINTlLu9C8AAKftB46OS4INUC9u34OdCwP4JjxgPwJwcPj59Geeerff/n1yUmRqbKKqpEBztx9M8elIDapPi%2bFRgkqZoU3ZCUW0QLKXY%2bT9i0muN3lEj4lyyigvttDbnnjLNOK2RaqvYz7RnRv4MOG%2bjaMZ/qy6rA1e9gpBVl/u1LGjR6ECZ62t4IELdgDx9MR6F0s/NjcPq%2b/q7JEQnz3/DABMoZmZFUsrG2sr67iIKJdHD8lkMinUtZbhPt5A6SwnpjKC7lw/63JOn%2bV8sY7sXptHD/d/qa0ko6Uk8%2bCKsf8TO1tTQx2crIOZxh1jVRsNBRtdvJmmsh5OTk9LE4dT1lQndHW8hscAkH5gP5b%2b0R%2b9B/WdHa//DwBooT4vi3Zi3V1unLPKjg%2bK9XMtzM/IjXtcS3rUkh3UWhjdUUSLe37L/5Jh2rPLizXxbEq03w3bR2d1jLXwvi5XWZHOSe73Aq%2bbudho2mvLPjHHXdZSvH/HQVlV%2bemjx1cv2cXFJmC77%2bHhM9A/hs1NsB9T381H1MPqaH%2bFHeY%2b/lmAzS%2bby9vtRN%2bYl8/aqd4zuaEtueT6jLDenMCBwoiZGnIfN6wm4nGe142BrJCewthAt3uThbF1sU/PWxi%2beHCH/sIh2%2btGuutl8j3zoKu6z6zwDgbKMaFBRjrqevD0Iy/d0dwBz2Lf2d/fN9rbsx8eTD2/C9S/7ux41dHevQ8gXoe/4fkRYB15Evj8piCd4vu8Ls59Ni%2b8IyOmkB6w1Zu68TpjujC2j%2bU7xA2eLYl735PZW5CYHeP%2b6wivIc7ZUlP5qZV26mObQp8bPG/7TNdL6c5nI67pP7HWJYYF2hmoEc6ceHDdbnpiYWx0Htt6xer7ekd6Xg%2bJxw6WHPC%2bva27rZUvgX0B%2bLvr9763%2brCx/dvqYF9ugDMv6NFcQbSwMaWCFd5dQBR05k1Xs0aLk0Z48T2ZkV1ZUTBS5%2bqZv46WvKJ5XNaQdzDC5b%2b8Wh/u1BDq1BjxsMTnZuxNk9D7l72fPzqLl9eSOc2IjV0UbMKR880I1rvIzgWjE7P/sHrM%2b/Y2fmtLl4T4S8yfYHzzcvPXLdHGQk16M8V3pjBmqzP9w0jNSHVWRy61jh1ZQfKrogZUkXzqGMHTVWQo1peJqvGccD9bdQcDpYcWmmF3banP7CnOVxMeX/G/ddb5hu0lXeXrBoSzSlLF6dy5%2bfU3w1Ni%2byH9qP374QGAw%2brbWrtamjskfvwG8%2bckG3AmXdnbbM4dSQ%2bf4EWvNjHfD5X818rgfy4Pfhqq3mhOncgMmcqJ2ONnrzeytruz/jHTNF%2baFH/DmHzP4oUZ/pmJckOSVx3Rg%2bd9l/LA9omZqp2GrJ2ump2mcldzx9SUCIn%2b/sFhP/2vX%2b3bjyUH1ENywPvWls7mpvb/A8Chbz8/rtRnD6WFjOVHCuuS3nZnfh5r%2bm2h7%2bObhn6aT4nndVFz5l5vycehmo/Ddf8SdK%2b1pFDvWXrZaDjpyvvZELrInvNlpCGWT5GnvbsV4SJB9rK2spOlwfDA6PjowuHe7et9A%2bnHJg8WHsg9mpxOTH1TY5sE9oXrjwx/TPJhbePLRl/LXAV5gBu4WB632sx611v4abxpoYJR7HFtror%2bZaJxg18yVZM2Us4Z4hGro12czVWvass4GePCLuvme9j3p4b00l%2bmPbZ5ZIw7T5C5gJcJcLwBp%2biDU%2bcEGh5Qj9iPqT/oWsR4SA6mvqG%2bFQDe/QjwY0EO7j%2bsw83W3zdHh%2baLk7rZvnOlUYtVCauN9M2u3PqopwO5sWs9JaKuomV%2b0UIHb6YxvSMlqCzejeNxJdHJOuquBZxDo29bcN2v8Ske7IeWt3TlzqvL2SidDna6PTUjGtrvXSw8I69fDXXzB7DwYDMHNR5R39jQ1tjQWl/XLCH%2bvYN4/QQGWavv1ze/rM4uzZcyu5kvp4oiFmsThXXk2UpySfC9ifqUxbac7aGa3ZH6vdHmrd6q2VLmeD7pFellzvOrjEfnwm4YBdobh9obt5FcYZje0pO3xUvbG2qU5/ImJgSYerAf1IP9r7q/2o/lHrxvakTUN9S3gPq62iaJ1ZX3PzL8iLH6LcPa5hfR%2bFh3sv9YXthSA2WllTFdEtdO9x4sSqhJcO/NS1xqylmozVqsyZkvy3ydFMJ7cYf51M7rnO49feW4u9apntd70oKyXtg56MlbKhxnxMbMzW8MDkwM7u%2b7o2h4EPu7OvftR9V3HqhvxdTX1jRKLKO/bsB%2bDfFHACvwzg91WNv8e28RG556RY2MxbqkmZLY0fwoflpgpudtXtSLjaHq91NNnwT8X9dHREM19Rkx6ZHPbxjinxhplAY4tbF8BnMiom%2bZ2evKnsefqS6pmJgUDgyg4enHehexn9/V39mB2I%2bph/B8p76muv4bABC6jF7FDMh19QP2R9/%2bsujd5vZvo%2b1Nrznewkb6YiNtqoI4xosYK4pZaUvf7Sldayna6ajba2neaa5dyE9rDvAkXzIPO6eX5nyp2Mehg/GyPObJMxu1W/pyjrYmQ4OTI8MzaO%2bOH/Tuvv1o7/J/X31VfXVFrYRoeW//dz6H1o8F%2ba4yq2uA9GFhWtiZGjZZEiNsZszUJE1VJMw3MDb4Oe8GS36dbv401rbdXjOfzx5ixbSHv8h8coX2wCbH7UqR982i4HvhDiZPrPC2uON0InFmdnWgH%2bvd/fSjvYvYj02e/fCA%2btoWkF5b3QDqqyrrKstrJITLe8sog%2bhgrfwQqh95AHJr69fVjS81GQw%2bx3u8OHqsMHKiLH6xhb0GAAMlX8Zq/zHXudVfMVqe3JES2ckIqAx9WOp/p9TXIe/ldfLjs/dMcBfVTj%2b9fnF4eHp4eGZgYLL/d%2bx/Db0rtr%2b%2brqWupglTX42qryirlhCKdkUogwhdy8v7FTh83V8H6VpB1H%2bByD54%2bMTK3LQg%2bmkbw4vP8e3JCJptYKzys/cGCt8PFH0cqXo/WLfcWjjGI/fS/FojHtcG3eF5XeU8PedsTbAhSJvhTl%2b2tenpeTM0NN3fB%2bqhd5HRCenv6uzraO9ta%2b3%2bRn1t8773FbWgvry0qqykAgVA1zKKAQURruyBbgTmW4BlrETLexCh2dmVG/Y3ZGXkFHCqNJ/7dWSPGrL764zAwYLI5U7udh9vr7/gLT9rvS1P0Jg9nBUDB7hKv1sFL67QH1gEXtU/rylnhpe10cQdQb9KmZwU9va8QY894t7txUYnFh6IPqq%2bEYw/pL6ypKhcYkm0u4QCLGG/dTtEAnKxdO1f0QUf23r797KyKmVlnKKCkqqmXmtJ7nB2cEnss8pE1%2bZkn9HyxLWevPVXucL2rPnGzJm6jO7U8MrwJ/neNxMf2Phc0r5piDPFy1kR5G0I8vAY%2bfTx4/EJwevXbzD7QT1qfw9qfxe2Z4H9WNd%2bp76ooFRCINyBtQTrAGB/YQwojHihb%2b6urH2sb2q5c/c2/PO3HrrPvxlfqiGOlhBrSe7FUc5l8c/7CuNE/Jz51qyxShao56eGVsW4MFyv%2btub3DHDm6nJm%2bDlz6nJWCifgZ%2bgr6MFWe/rmxCHB%2bxvb3vd2oLkRxyemqoGLPegvrS4AlNfyCvaBxAzLB2UYgllQBoDfYl1CLyzBACr70sqKtMyODpa6m4BpLmFvaUG2tuerLlack96QE3C8/yIx/Usv56COH56UBvDp4Xuw3S76nPD/JaFlrkGzgyvYIU8y0ub4s787chRGWnJnKw8aGXwHnoXDc%2b%2b/U2NHVh4atDwVJbXHva%2bkFfMyyuQWFzaxtQLDi1QLzioydIBAKIefbm8%2bqGqpp6dlkymJDx44t00sDPbUfm2O3XzVdZcDXk4L7yF9iI32JHtfYv64maCm33A3bN3bXQvG6nbaKlYayhZ4eUuqsteVz9jpKogI6984pdjQYFBsAmAbnTywOh83dLc3dyE2d9aW9NUXVVfWYHMHEx9cWFZIa8E1Ofl5EsIAABdGMl3GN/VBAXbXl3/1NDcwU5lpnA54REhYaS81wMr4yXxG/xUUSt7pipxKCekg%2bFZFfckw%2b9WjNNZ14t6T85qO5/VvmeOv6Apf5Ygd01b3o4gaaypYWxpd/z4sWvX7MDsEShCZ39bK%2by7oJ6P2t%2bGqm%2borKirKK8pQ8ODqS/IL8rP5eVm50kIBG/FANgS/B6JEK0J/ClSB%2bFOUWlRKpedmc3lpLOJCTGMnKaGmu7elABBDWmxjjoPm1pp3Agvsj8ruI3qVhTgkOlhR3909sV5rUtaCpc15G7ryl1UlTTS1rn7NOTYseMXLtj6eHsz6GxQ/Kp7CBgaGzrq69qw8FRV1leg4cHUF/FKC/KLMfXZmTkSC4tbC4K3sBYPMSweFGRxaUewf7MNGOD99Nx6bUMjYn86m5udlpaZmsrlUKjxiawsekR4cZhTX7LPeF74dClxpjJppoY0VhjVlx7QFO9S6H/T57LeZW3cdR2F2waK51TP2JhZ%2bsdlHzl23NLSwt3D1cRY38TYIDQkrLK8DlIEGHW1Laj3teVlNaUlmPelqPcQnrycrNysjGyJ%2bcWt%2bQMG8RIc4kFeQmzWPiwKthuauxLIZBqTwmBRGWxaamZKWlZKakZqGjclOib0hZe7m9szTpR3npd9fbgjn%2bbRkxrwKtW/NyOkLy2I53fHyVLbXk/VwUDlngneWunkLfu75MxWANDV1fH197l//66M1CkFeSlrK3M3Nzc6jQXSoYmBoaS4EvG%2bAPO%2bEKKPqc9Iz5SYW9jEGMQLqQa65gXIS6FoTyDcbe/qpzGTw6PDwmPCiYmx6RkpLDYd%2bhhmEZPDgGrExEW99PHy8PKgJDOo5DiKrzPH7Xq%2b17XSkHulYQ%2byvG56nte7a0K4a6J%2bx5jgaK5hJn88LJzELuo5euwEgUAICPILCPS9fPm8vJyUkqKsJkHFyEDX/trV8LCIvJxCmJ4AwMsrQtXzxOq5aVwEAGXYPAwAC24gOaKV9/1DU9ys3KiYqMjYyERKQgKZGBYRkpaRAtKTU5ip3JTkVCY9mUahkzxfenh5v0jmMBgcFjMlmcEgF9Cj6S5XYm4aedioO5mqOJmr3zJSv22icctA5YKmYkXTGDO34%2bjx03iCZkhYUCwxsrKm%2bvad26dOHiOoKRvqaRnp6xgb6dlduRQcEASxKSmqyM1Goo%2bqz%2bKmZaSlpErMzm/AOsBAALAbaNbRcUFeYWlkTBQYT6IkJNESKQwylU4KiwimMEgZ2Wmp3GR2GgsAklMYrBRGVEyEy3NnTiorK5fLSUsGts3t7YGBfleHi/f0ZJ3MVG8b4a/pqt4yVr%2buKf3o6uWhhX%2bGkfN/OSVD0DLy9PYMjQgpKSvhFZecOX1CXl5WU13VUF/LyEAblqGBjv01u7iYuHzUfpCenoqoT2VzJGbm1jEGZC0gVzB%2bfvFtbUMbMSkBfmgCOZ5ETyLREhnJ1GQOHa7xSbGJ5HgWhw51SM1gQ5DoLAokChg8vTxiiFGZOenQ2XQWrbyyrLCs2DcwwFoHb6sqdUFd4ZoO7qa%2bsq3S0Qg//%2bmt/%2bfsFXNaGqdtdPahs3NweGhcfGx334CegY6k5ElVFSVtTTVDPU3AMDHWMzbWMzU1cHrgmMxkZ2fmprIR9SmsZAQAY8CuS8Ldnv5xTjoXAkNMiiNRE6lMMqxEajyNRU5OAQAKmZFEoiZQmSQmh5aRlZqRlQZZojHJEKrI6LCgEH%2bwH%2bpAppJoLJqX70vbc2cv29lZqCufV5W%2bpC5/TlXqmpZMfWNfIKX2%2bsNAvJbJOXvnh0%2bfhUdH%2bgb49g4O3nNyPHb0ryo4eYIaTleLAFky0NcyNdG3tDABkvO2VnExMRAhDpPNZjAlpmfXYE3NrM4tbAFARXVDbGJcFDEqkQqBIZHpiRR6EkiHGxI9kcGmMtlUeAmJpzPJcAOzKD0rlZuVAmCcNBYSsMhgOovKTmUxWJSCkmImJ%2bX2nRvefj4Xz9mYKUraqMpYyx0JdXmYWzdhae9jfe3pldvuj72T7O8%2bCokM8w3ya%2bvo8A8OOvo3CUUFWQJeSQ2P09fTMDDQMjbSNTMzsLIyRW5MDSLDwricVCaVJoGph8y8GVvMyMkF6fFIZkgUVB/YnEghUgCDmYQAJFNZHBoNqQm4S6YjHyAz2TR2CgMsh80BGBKS4pIoCXQ2HSFn0uqa2109nkVEhTk%2beGCqqmCFk7yqLpWdV%2bvgEnvJweXKHfdQcrFfXJaXf4h3gH9weEhZZUVMfPzxo3%2bRk5UiqCqpKCtqQZCgE1AAC3MjU2M9IwMtczNDfx8fDpMlgXnfwR%2bgMulxSXFUJpXKotCTYdJT6CwS%2bEqixiMA9EQqPQleQgVQZYAHH6BgVyryEopDh06A1JGpiVABeCckPKixtTMiOtLP39v5%2bTNrA10jqSMPzls9D6CbnX943z3WLzYrs%2bpNLKskr6CQSCYHhQfn8PKoLOaJX47ISkuqqSiqKMsTCMp6uppGhjpgvIWFkZGhtqGeBrw0NzcKCwyUGJ8UllXWJlKTYMIkoy6y0KAj7jISqQzQCmkhUWgJMIjgfSrkipZIPQBAC0Uh05LAeLgyktH6MCBjUB9qZHQor6iYnc718HR95vbcxtZW7eSR2zYW956G2j8M9orMTCnpKe9coGTU1DU01re0%2b4eGcDO5KRlcydO/wKaGV1ZQUVbA43Ha2upQBGhiSwtj0K2rhTc20DIxM7h43loiPTsTLGenJ6dw2SncZE46C4IOKkmgGOYNhQiiaSwShZFEpiZAbKB9YSJRkAih3jNIGEAcZC8pDjYK%2bAlAmJBETKIkxhCjo%2bNi84pKn7k9dXV3vXbTQVla%2bp7j87vPol0CGMSUutpXoobedTavqa2zc3J2oaiikkwnZ%2bXny8mekT5zCo%2bTx6soqqoqaWkRDAy0TZAKGFtbmRroaepoqsJLCJJEchqTm5OemceFQwE7ncVOY1JZZBiUCaQ4WEkUZPhgC5IDCwYowgD34D0sBuI3YETFhMcSoyKiQulMAKPCywQSEaIfFhFa09Dy9LlzYHDA46dPrjs4PfaK9wxPC6GUcsv7%2beMfmge2uCVtA0PDY1PT0/MLWfl5%2bcUlOJy81JmTqjh5NVUlANDUUtOHYWqib2FpAgDmZgaaBJwh%2bo5ERk56Rh6Xm5OWkZsOFYDJCA1KTIyJjgtPJMclUePBTqRfkfAg9scDGJkIliPeI9KRGygFDNDQ8KDwqJC4%2bGiYqvGJseGRIZA6eL%2bqtvGF9wu48fb1eu7p/9A9Ni6lIS6ltqhpamTxn00Dm7kVHRPTUxMzc7MLizWNja1d3SoqigAAk1Qdj4NBBBUAAGOYpFamMIiAQUdLTVNDFfY4iZyCLG5uelp2alZ%2bBuxKIBTiQaLDFhYUHRcBIwgWEmukUymJ1AQisosRESomCToBblBCSlRshI%2bfF6iEIgAeHChgw4aahEUE1dQ3hkaGh4QFwBnkicuzGw986PmvqNkt1XzB9Np/1x9InTcAAADfSURBVLxaKahqFwgW5hYFEzOzBaXF/N5%2bPF5ZWuoUVEBDTZlAUNHWUcciZGVtBsvGxgyaGK%2bioK2lJpFTmJ2WyeFmp2YXZKWksyDroJKWTCYmRPsH%2bsTFR0H0kVaGCkC0SHFx6DaMRIuBRAhqkoRudmC550v34NAAYID8wGyFYQoMgcG%2bLW3tJDrNzcMlOi7K0/vFrQcenNJBFq%2brZXBjaed/yjoWKxr5omXhkmi5Z2iIV1w48GYMIiQnI6mqrKCprqKpideB/dhI19TM0NrG/KytpTUcxC1N4E9VVRT%2bPzbiUw29GeqqAAAAAElFTkSuQmCC' /%3e%3c/svg%3e"},"path":"/authors/justin-yoo/"}]}}]}},"context":{"recordId":"48f413f320df12ab373508e179416a5f","tags":["devops","azure-devops","azure-pipelines","multi-stage-pipelines","refactoring","yaml"]}}